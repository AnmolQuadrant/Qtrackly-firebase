var TL=Object.defineProperty;var _L=(t,e,n)=>e in t?TL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wh=(t,e,n)=>_L(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Sv={exports:{}},Eu={},Ev={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function PL(){if(UT)return pt;UT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=p&&I[p]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function b(I,M,z){this.props=I,this.context=M,this.refs=w,this.updater=z||y}b.prototype.isReactComponent={},b.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,M,"setState")},b.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=b.prototype;function C(I,M,z){this.props=I,this.context=M,this.refs=w,this.updater=z||y}var k=C.prototype=new E;k.constructor=C,v(k,b.prototype),k.isPureReactComponent=!0;var N=Array.isArray,_=Object.prototype.hasOwnProperty,P={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(I,M,z){var K,J={},he=null,we=null;if(M!=null)for(K in M.ref!==void 0&&(we=M.ref),M.key!==void 0&&(he=""+M.key),M)_.call(M,K)&&!D.hasOwnProperty(K)&&(J[K]=M[K]);var te=arguments.length-2;if(te===1)J.children=z;else if(1<te){for(var V=Array(te),ce=0;ce<te;ce++)V[ce]=arguments[ce+2];J.children=V}if(I&&I.defaultProps)for(K in te=I.defaultProps,te)J[K]===void 0&&(J[K]=te[K]);return{$$typeof:t,type:I,key:he,ref:we,props:J,_owner:P.current}}function F(I,M){return{$$typeof:t,type:I.type,key:M,ref:I.ref,props:I.props,_owner:I._owner}}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function B(I){var M={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(z){return M[z]})}var $=/\/+/g;function L(I,M){return typeof I=="object"&&I!==null&&I.key!=null?B(""+I.key):M.toString(36)}function H(I,M,z,K,J){var he=typeof I;(he==="undefined"||he==="boolean")&&(I=null);var we=!1;if(I===null)we=!0;else switch(he){case"string":case"number":we=!0;break;case"object":switch(I.$$typeof){case t:case e:we=!0}}if(we)return we=I,J=J(we),I=K===""?"."+L(we,0):K,N(J)?(z="",I!=null&&(z=I.replace($,"$&/")+"/"),H(J,M,z,"",function(ce){return ce})):J!=null&&(O(J)&&(J=F(J,z+(!J.key||we&&we.key===J.key?"":(""+J.key).replace($,"$&/")+"/")+I)),M.push(J)),1;if(we=0,K=K===""?".":K+":",N(I))for(var te=0;te<I.length;te++){he=I[te];var V=K+L(he,te);we+=H(he,M,z,V,J)}else if(V=g(I),typeof V=="function")for(I=V.call(I),te=0;!(he=I.next()).done;)he=he.value,V=K+L(he,te++),we+=H(he,M,z,V,J);else if(he==="object")throw M=String(I),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return we}function X(I,M,z){if(I==null)return I;var K=[],J=0;return H(I,K,"","",function(he){return M.call(z,he,J++)}),K}function se(I){if(I._status===-1){var M=I._result;M=M(),M.then(function(z){(I._status===0||I._status===-1)&&(I._status=1,I._result=z)},function(z){(I._status===0||I._status===-1)&&(I._status=2,I._result=z)}),I._status===-1&&(I._status=0,I._result=M)}if(I._status===1)return I._result.default;throw I._result}var ie={current:null},W={transition:null},Q={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};function ee(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:X,forEach:function(I,M,z){X(I,function(){M.apply(this,arguments)},z)},count:function(I){var M=0;return X(I,function(){M++}),M},toArray:function(I){return X(I,function(M){return M})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},pt.Component=b,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=C,pt.StrictMode=r,pt.Suspense=u,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,pt.act=ee,pt.cloneElement=function(I,M,z){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var K=v({},I.props),J=I.key,he=I.ref,we=I._owner;if(M!=null){if(M.ref!==void 0&&(he=M.ref,we=P.current),M.key!==void 0&&(J=""+M.key),I.type&&I.type.defaultProps)var te=I.type.defaultProps;for(V in M)_.call(M,V)&&!D.hasOwnProperty(V)&&(K[V]=M[V]===void 0&&te!==void 0?te[V]:M[V])}var V=arguments.length-2;if(V===1)K.children=z;else if(1<V){te=Array(V);for(var ce=0;ce<V;ce++)te[ce]=arguments[ce+2];K.children=te}return{$$typeof:t,type:I.type,key:J,ref:he,props:K,_owner:we}},pt.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},pt.createElement=R,pt.createFactory=function(I){var M=R.bind(null,I);return M.type=I,M},pt.createRef=function(){return{current:null}},pt.forwardRef=function(I){return{$$typeof:l,render:I}},pt.isValidElement=O,pt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:se}},pt.memo=function(I,M){return{$$typeof:d,type:I,compare:M===void 0?null:M}},pt.startTransition=function(I){var M=W.transition;W.transition={};try{I()}finally{W.transition=M}},pt.unstable_act=ee,pt.useCallback=function(I,M){return ie.current.useCallback(I,M)},pt.useContext=function(I){return ie.current.useContext(I)},pt.useDebugValue=function(){},pt.useDeferredValue=function(I){return ie.current.useDeferredValue(I)},pt.useEffect=function(I,M){return ie.current.useEffect(I,M)},pt.useId=function(){return ie.current.useId()},pt.useImperativeHandle=function(I,M,z){return ie.current.useImperativeHandle(I,M,z)},pt.useInsertionEffect=function(I,M){return ie.current.useInsertionEffect(I,M)},pt.useLayoutEffect=function(I,M){return ie.current.useLayoutEffect(I,M)},pt.useMemo=function(I,M){return ie.current.useMemo(I,M)},pt.useReducer=function(I,M,z){return ie.current.useReducer(I,M,z)},pt.useRef=function(I){return ie.current.useRef(I)},pt.useState=function(I){return ie.current.useState(I)},pt.useSyncExternalStore=function(I,M,z){return ie.current.useSyncExternalStore(I,M,z)},pt.useTransition=function(){return ie.current.useTransition()},pt.version="18.3.1",pt}var HT;function Cc(){return HT||(HT=1,Ev.exports=PL()),Ev.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function IL(){if(zT)return Eu;zT=1;var t=Cc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var f,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!o.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:l,key:g,ref:y,props:p,_owner:i.current}}return Eu.Fragment=n,Eu.jsx=a,Eu.jsxs=a,Eu}var KT;function DL(){return KT||(KT=1,Sv.exports=IL()),Sv.exports}var h=DL(),S=Cc();const ZO=eo(S);var bh={},Av={exports:{}},Ur={},kv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function OL(){return qT||(qT=1,function(t){function e(W,Q){var ee=W.length;W.push(Q);e:for(;0<ee;){var I=ee-1>>>1,M=W[I];if(0<i(M,Q))W[I]=Q,W[ee]=M,ee=I;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],ee=W.pop();if(ee!==Q){W[0]=ee;e:for(var I=0,M=W.length,z=M>>>1;I<z;){var K=2*(I+1)-1,J=W[K],he=K+1,we=W[he];if(0>i(J,ee))he<M&&0>i(we,J)?(W[I]=we,W[he]=ee,I=he):(W[I]=J,W[K]=ee,I=K);else if(he<M&&0>i(we,ee))W[I]=we,W[he]=ee,I=he;else break e}}return Q}function i(W,Q){var ee=W.sortIndex-Q.sortIndex;return ee!==0?ee:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,p=null,g=3,y=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=W)r(d),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(d)}}function N(W){if(w=!1,k(W),!v)if(n(u)!==null)v=!0,se(_);else{var Q=n(d);Q!==null&&ie(N,Q.startTime-W)}}function _(W,Q){v=!1,w&&(w=!1,E(R),R=-1),y=!0;var ee=g;try{for(k(Q),p=n(u);p!==null&&(!(p.expirationTime>Q)||W&&!B());){var I=p.callback;if(typeof I=="function"){p.callback=null,g=p.priorityLevel;var M=I(p.expirationTime<=Q);Q=t.unstable_now(),typeof M=="function"?p.callback=M:p===n(u)&&r(u),k(Q)}else r(u);p=n(u)}if(p!==null)var z=!0;else{var K=n(d);K!==null&&ie(N,K.startTime-Q),z=!1}return z}finally{p=null,g=ee,y=!1}}var P=!1,D=null,R=-1,F=5,O=-1;function B(){return!(t.unstable_now()-O<F)}function $(){if(D!==null){var W=t.unstable_now();O=W;var Q=!0;try{Q=D(!0,W)}finally{Q?L():(P=!1,D=null)}}else P=!1}var L;if(typeof C=="function")L=function(){C($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=$,L=function(){X.postMessage(null)}}else L=function(){b($,0)};function se(W){D=W,P||(P=!0,L())}function ie(W,Q){R=b(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,se(_))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ee=g;g=Q;try{return W()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=g;g=W;try{return Q()}finally{g=ee}},t.unstable_scheduleCallback=function(W,Q,ee){var I=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?I+ee:I):ee=I,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ee+M,W={id:f++,callback:Q,priorityLevel:W,startTime:ee,expirationTime:M,sortIndex:-1},ee>I?(W.sortIndex=ee,e(d,W),n(u)===null&&W===n(d)&&(w?(E(R),R=-1):w=!0,ie(N,ee-I))):(W.sortIndex=M,e(u,W),v||y||(v=!0,se(_))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var Q=g;return function(){var ee=g;g=Q;try{return W.apply(this,arguments)}finally{g=ee}}}}(Tv)),Tv}var VT;function jL(){return VT||(VT=1,kv.exports=OL()),kv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function RL(){if(WT)return Ur;WT=1;var t=Cc(),e=jL();function n(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,c){a(s,c),a(s+"Capture",c)}function a(s,c){for(i[s]=c,s=0;s<c.length;s++)r.add(c[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(s){return u.call(p,s)?!0:u.call(f,s)?!1:d.test(s)?p[s]=!0:(f[s]=!0,!1)}function y(s,c,m,x){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function v(s,c,m,x){if(c===null||typeof c>"u"||y(s,c,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(s,c,m,x,A,T,j){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=A,this.mustUseProperty=m,this.propertyName=s,this.type=c,this.sanitizeURL=T,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];b[c]=new w(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(E,C);b[c]=new w(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(E,C);b[c]=new w(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(E,C);b[c]=new w(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,c,m,x){var A=b.hasOwnProperty(c)?b[c]:null;(A!==null?A.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,m,A,x)&&(m=null),x||A===null?g(c)&&(m===null?s.removeAttribute(c):s.setAttribute(c,""+m)):A.mustUseProperty?s[A.propertyName]=m===null?A.type===3?!1:"":m:(c=A.attributeName,x=A.attributeNamespace,m===null?s.removeAttribute(c):(A=A.type,m=A===3||A===4&&m===!0?"":""+m,x?s.setAttributeNS(x,c,m):s.setAttribute(c,m))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),W=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,I;function M(s){if(I===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);I=c&&c[1]||""}return`
`+I+s}var z=!1;function K(s,c){if(!s||z)return"";z=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ae){var x=ae}Reflect.construct(s,[],c)}else{try{c.call()}catch(ae){x=ae}s.call(c.prototype)}else{try{throw Error()}catch(ae){x=ae}s()}}catch(ae){if(ae&&x&&typeof ae.stack=="string"){for(var A=ae.stack.split(`
`),T=x.stack.split(`
`),j=A.length-1,U=T.length-1;1<=j&&0<=U&&A[j]!==T[U];)U--;for(;1<=j&&0<=U;j--,U--)if(A[j]!==T[U]){if(j!==1||U!==1)do if(j--,U--,0>U||A[j]!==T[U]){var q=`
`+A[j].replace(" at new "," at ");return s.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",s.displayName)),q}while(1<=j&&0<=U);break}}}finally{z=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?M(s):""}function J(s){switch(s.tag){case 5:return M(s.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return s=K(s.type,!1),s;case 11:return s=K(s.type.render,!1),s;case 1:return s=K(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case P:return"Portal";case F:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case $:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case X:return c=s.displayName||null,c!==null?c:he(s.type)||"Memo";case se:c=s._payload,s=s._init;try{return he(s(c))}catch{}}return null}function we(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(c);case 8:return c===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function V(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ce(s){var c=V(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),x=""+s[c];if(!s.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,T=m.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(j){x=""+j,T.call(this,j)}}),Object.defineProperty(s,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(j){x=""+j},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ye(s){s._valueTracker||(s._valueTracker=ce(s))}function le(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return s&&(x=V(s)?s.checked?"true":"false":s.value),s=x,s!==m?(c.setValue(s),!0):!1}function Se(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pe(s,c){var m=c.checked;return ee({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function Je(s,c){var m=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;m=te(c.value!=null?c.value:m),s._wrapperState={initialChecked:x,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function et(s,c){c=c.checked,c!=null&&k(s,"checked",c,!1)}function ht(s,c){et(s,c);var m=te(c.value),x=c.type;if(m!=null)x==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?vt(s,c.type,m):c.hasOwnProperty("defaultValue")&&vt(s,c.type,te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Et(s,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,m||c===s.value||(s.value=c),s.defaultValue=c}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function vt(s,c,m){(c!=="number"||Se(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var xt=Array.isArray;function Ut(s,c,m,x){if(s=s.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<s.length;m++)A=c.hasOwnProperty("$"+s[m].value),s[m].selected!==A&&(s[m].selected=A),A&&x&&(s[m].defaultSelected=!0)}else{for(m=""+te(m),c=null,A=0;A<s.length;A++){if(s[A].value===m){s[A].selected=!0,x&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function _t(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Cn(s,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(n(92));if(xt(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),m=c}s._wrapperState={initialValue:te(m)}}function Bt(s,c){var m=te(c.value),x=te(c.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),c.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),x!=null&&(s.defaultValue=""+x)}function Cr(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function mn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?mn(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ke,Ze=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,x,A){MSApp.execUnsafeLocalFunction(function(){return s(c,m,x,A)})}:s}(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ke.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Nt(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];Object.keys(oe).forEach(function(s){Te.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),oe[c]=oe[s]})});function Ye(s,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||oe.hasOwnProperty(s)&&oe[s]?(""+c).trim():c+"px"}function at(s,c){s=s.style;for(var m in c)if(c.hasOwnProperty(m)){var x=m.indexOf("--")===0,A=Ye(m,c[m],x);m==="float"&&(m="cssFloat"),x?s.setProperty(m,A):s[m]=A}}var de=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(s,c){if(c){if(de[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function He(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var We=null;function nt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wt=null,ut=null,Ct=null;function At(s){if(s=cu(s)){if(typeof wt!="function")throw Error(n(280));var c=s.stateNode;c&&(c=Rf(c),wt(s.stateNode,s.type,c))}}function Kt(s){ut?Ct?Ct.push(s):Ct=[s]:ut=s}function En(){if(ut){var s=ut,c=Ct;if(Ct=ut=null,At(s),c)for(s=0;s<c.length;s++)At(c[s])}}function gt(s,c){return s(c)}function rn(){}var er=!1;function ao(s,c,m){if(er)return s(c,m);er=!0;try{return gt(s,c,m)}finally{er=!1,(ut!==null||Ct!==null)&&(rn(),En())}}function Rr(s,c){var m=s.stateNode;if(m===null)return null;var x=Rf(m);if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var Yr=!1;if(l)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Yr=!1}function Qr(s,c,m,x,A,T,j,U,q){var ae=Array.prototype.slice.call(arguments,3);try{c.apply(m,ae)}catch(Ce){this.onError(Ce)}}var so=!1,da=null,ml=!1,Kc=null,Fg={onError:function(s){so=!0,da=s}};function hf(s,c,m,x,A,T,j,U,q){so=!1,da=null,Qr.apply(Fg,arguments)}function Lg(s,c,m,x,A,T,j,U,q){if(hf.apply(this,arguments),so){if(so){var ae=da;so=!1,da=null}else throw Error(n(198));ml||(ml=!0,Kc=ae)}}function Xr(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,c.flags&4098&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function pf(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function mf(s){if(Xr(s)!==s)throw Error(n(188))}function $g(s){var c=s.alternate;if(!c){if(c=Xr(s),c===null)throw Error(n(188));return c!==s?null:s}for(var m=s,x=c;;){var A=m.return;if(A===null)break;var T=A.alternate;if(T===null){if(x=A.return,x!==null){m=x;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===m)return mf(A),s;if(T===x)return mf(A),c;T=T.sibling}throw Error(n(188))}if(m.return!==x.return)m=A,x=T;else{for(var j=!1,U=A.child;U;){if(U===m){j=!0,m=A,x=T;break}if(U===x){j=!0,x=A,m=T;break}U=U.sibling}if(!j){for(U=T.child;U;){if(U===m){j=!0,m=T,x=A;break}if(U===x){j=!0,x=T,m=A;break}U=U.sibling}if(!j)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?s:c}function Ug(s){return s=$g(s),s!==null?gf(s):null}function gf(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=gf(s);if(c!==null)return c;s=s.sibling}return null}var pe=e.unstable_scheduleCallback,ve=e.unstable_cancelCallback,De=e.unstable_shouldYield,$e=e.unstable_requestPaint,je=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,Ne=e.unstable_ImmediatePriority,Pt=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,Ft=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Sr=null,An=null;function Hg(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Sr,s,void 0,(s.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:VB,KB=Math.log,qB=Math.LN2;function VB(s){return s>>>=0,s===0?32:31-(KB(s)/qB|0)|0}var yf=64,vf=4194304;function qc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xf(s,c){var m=s.pendingLanes;if(m===0)return 0;var x=0,A=s.suspendedLanes,T=s.pingedLanes,j=m&268435455;if(j!==0){var U=j&~A;U!==0?x=qc(U):(T&=j,T!==0&&(x=qc(T)))}else j=m&~A,j!==0?x=qc(j):T!==0&&(x=qc(T));if(x===0)return 0;if(c!==0&&c!==x&&!(c&A)&&(A=x&-x,T=c&-c,A>=T||A===16&&(T&4194240)!==0))return c;if(x&4&&(x|=m&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=x;0<c;)m=31-Mi(c),A=1<<m,x|=s[m],c&=~A;return x}function WB(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GB(s,c){for(var m=s.suspendedLanes,x=s.pingedLanes,A=s.expirationTimes,T=s.pendingLanes;0<T;){var j=31-Mi(T),U=1<<j,q=A[j];q===-1?(!(U&m)||U&x)&&(A[j]=WB(U,c)):q<=c&&(s.expiredLanes|=U),T&=~U}}function zg(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vA(){var s=yf;return yf<<=1,!(yf&4194240)&&(yf=64),s}function Kg(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Vc(s,c,m){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-Mi(c),s[c]=m}function YB(s,c){var m=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<m;){var A=31-Mi(m),T=1<<A;c[A]=0,x[A]=-1,s[A]=-1,m&=~T}}function qg(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var x=31-Mi(m),A=1<<x;A&c|s[x]&c&&(s[x]|=c),m&=~A}}var Dt=0;function xA(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var wA,Vg,bA,CA,SA,Wg=!1,wf=[],fa=null,ha=null,pa=null,Wc=new Map,Gc=new Map,ma=[],QB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EA(s,c){switch(s){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Wc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(c.pointerId)}}function Yc(s,c,m,x,A,T){return s===null||s.nativeEvent!==T?(s={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[A]},c!==null&&(c=cu(c),c!==null&&Vg(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function XB(s,c,m,x,A){switch(c){case"focusin":return fa=Yc(fa,s,c,m,x,A),!0;case"dragenter":return ha=Yc(ha,s,c,m,x,A),!0;case"mouseover":return pa=Yc(pa,s,c,m,x,A),!0;case"pointerover":var T=A.pointerId;return Wc.set(T,Yc(Wc.get(T)||null,s,c,m,x,A)),!0;case"gotpointercapture":return T=A.pointerId,Gc.set(T,Yc(Gc.get(T)||null,s,c,m,x,A)),!0}return!1}function AA(s){var c=is(s.target);if(c!==null){var m=Xr(c);if(m!==null){if(c=m.tag,c===13){if(c=pf(m),c!==null){s.blockedOn=c,SA(s.priority,function(){bA(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bf(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=Yg(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var x=new m.constructor(m.type,m);We=x,m.target.dispatchEvent(x),We=null}else return c=cu(m),c!==null&&Vg(c),s.blockedOn=m,!1;c.shift()}return!0}function kA(s,c,m){bf(s)&&m.delete(c)}function JB(){Wg=!1,fa!==null&&bf(fa)&&(fa=null),ha!==null&&bf(ha)&&(ha=null),pa!==null&&bf(pa)&&(pa=null),Wc.forEach(kA),Gc.forEach(kA)}function Qc(s,c){s.blockedOn===c&&(s.blockedOn=null,Wg||(Wg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,JB)))}function Xc(s){function c(A){return Qc(A,s)}if(0<wf.length){Qc(wf[0],s);for(var m=1;m<wf.length;m++){var x=wf[m];x.blockedOn===s&&(x.blockedOn=null)}}for(fa!==null&&Qc(fa,s),ha!==null&&Qc(ha,s),pa!==null&&Qc(pa,s),Wc.forEach(c),Gc.forEach(c),m=0;m<ma.length;m++)x=ma[m],x.blockedOn===s&&(x.blockedOn=null);for(;0<ma.length&&(m=ma[0],m.blockedOn===null);)AA(m),m.blockedOn===null&&ma.shift()}var gl=N.ReactCurrentBatchConfig,Cf=!0;function ZB(s,c,m,x){var A=Dt,T=gl.transition;gl.transition=null;try{Dt=1,Gg(s,c,m,x)}finally{Dt=A,gl.transition=T}}function eF(s,c,m,x){var A=Dt,T=gl.transition;gl.transition=null;try{Dt=4,Gg(s,c,m,x)}finally{Dt=A,gl.transition=T}}function Gg(s,c,m,x){if(Cf){var A=Yg(s,c,m,x);if(A===null)fy(s,c,x,Sf,m),EA(s,x);else if(XB(A,s,c,m,x))x.stopPropagation();else if(EA(s,x),c&4&&-1<QB.indexOf(s)){for(;A!==null;){var T=cu(A);if(T!==null&&wA(T),T=Yg(s,c,m,x),T===null&&fy(s,c,x,Sf,m),T===A)break;A=T}A!==null&&x.stopPropagation()}else fy(s,c,x,null,m)}}var Sf=null;function Yg(s,c,m,x){if(Sf=null,s=nt(x),s=is(s),s!==null)if(c=Xr(s),c===null)s=null;else if(m=c.tag,m===13){if(s=pf(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Sf=s,null}function TA(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ee()){case Ne:return 1;case Pt:return 4;case tt:case Ft:return 16;case qt:return 536870912;default:return 16}default:return 16}}var ga=null,Qg=null,Ef=null;function _A(){if(Ef)return Ef;var s,c=Qg,m=c.length,x,A="value"in ga?ga.value:ga.textContent,T=A.length;for(s=0;s<m&&c[s]===A[s];s++);var j=m-s;for(x=1;x<=j&&c[m-x]===A[T-x];x++);return Ef=A.slice(s,1<x?1-x:void 0)}function Af(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function kf(){return!0}function NA(){return!1}function Jr(s){function c(m,x,A,T,j){this._reactName=m,this._targetInst=A,this.type=x,this.nativeEvent=T,this.target=j,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(m=s[U],this[U]=m?m(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?kf:NA,this.isPropagationStopped=NA,this}return ee(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),c}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=Jr(yl),Jc=ee({},yl,{view:0,detail:0}),tF=Jr(Jc),Jg,Zg,Zc,Tf=ee({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zc&&(Zc&&s.type==="mousemove"?(Jg=s.screenX-Zc.screenX,Zg=s.screenY-Zc.screenY):Zg=Jg=0,Zc=s),Jg)},movementY:function(s){return"movementY"in s?s.movementY:Zg}}),PA=Jr(Tf),nF=ee({},Tf,{dataTransfer:0}),rF=Jr(nF),iF=ee({},Jc,{relatedTarget:0}),ey=Jr(iF),oF=ee({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),aF=Jr(oF),sF=ee({},yl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lF=Jr(sF),cF=ee({},yl,{data:0}),IA=Jr(cF),uF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=fF[s])?!!c[s]:!1}function ty(){return hF}var pF=ee({},Jc,{key:function(s){if(s.key){var c=uF[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Af(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dF[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(s){return s.type==="keypress"?Af(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Af(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),mF=Jr(pF),gF=ee({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DA=Jr(gF),yF=ee({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),vF=Jr(yF),xF=ee({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wF=Jr(xF),bF=ee({},Tf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),CF=Jr(bF),SF=[9,13,27,32],ny=l&&"CompositionEvent"in window,eu=null;l&&"documentMode"in document&&(eu=document.documentMode);var EF=l&&"TextEvent"in window&&!eu,OA=l&&(!ny||eu&&8<eu&&11>=eu),jA=" ",RA=!1;function MA(s,c){switch(s){case"keyup":return SF.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vl=!1;function AF(s,c){switch(s){case"compositionend":return BA(c);case"keypress":return c.which!==32?null:(RA=!0,jA);case"textInput":return s=c.data,s===jA&&RA?null:s;default:return null}}function kF(s,c){if(vl)return s==="compositionend"||!ny&&MA(s,c)?(s=_A(),Ef=Qg=ga=null,vl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return OA&&c.locale!=="ko"?null:c.data;default:return null}}var TF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!TF[s.type]:c==="textarea"}function LA(s,c,m,x){Kt(x),c=Df(c,"onChange"),0<c.length&&(m=new Xg("onChange","change",null,m,x),s.push({event:m,listeners:c}))}var tu=null,nu=null;function _F(s){rk(s,0)}function _f(s){var c=Sl(s);if(le(c))return s}function NF(s,c){if(s==="change")return c}var $A=!1;if(l){var ry;if(l){var iy="oninput"in document;if(!iy){var UA=document.createElement("div");UA.setAttribute("oninput","return;"),iy=typeof UA.oninput=="function"}ry=iy}else ry=!1;$A=ry&&(!document.documentMode||9<document.documentMode)}function HA(){tu&&(tu.detachEvent("onpropertychange",zA),nu=tu=null)}function zA(s){if(s.propertyName==="value"&&_f(nu)){var c=[];LA(c,nu,s,nt(s)),ao(_F,c)}}function PF(s,c,m){s==="focusin"?(HA(),tu=c,nu=m,tu.attachEvent("onpropertychange",zA)):s==="focusout"&&HA()}function IF(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _f(nu)}function DF(s,c){if(s==="click")return _f(c)}function OF(s,c){if(s==="input"||s==="change")return _f(c)}function jF(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Bi=typeof Object.is=="function"?Object.is:jF;function ru(s,c){if(Bi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var A=m[x];if(!u.call(c,A)||!Bi(s[A],c[A]))return!1}return!0}function KA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qA(s,c){var m=KA(s);s=0;for(var x;m;){if(m.nodeType===3){if(x=s+m.textContent.length,s<=c&&x>=c)return{node:m,offset:c-s};s=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=KA(m)}}function VA(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?VA(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function WA(){for(var s=window,c=Se();c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=Se(s.document)}return c}function oy(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function RF(s){var c=WA(),m=s.focusedElem,x=s.selectionRange;if(c!==m&&m&&m.ownerDocument&&VA(m.ownerDocument.documentElement,m)){if(x!==null&&oy(m)){if(c=x.start,s=x.end,s===void 0&&(s=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(s,m.value.length);else if(s=(c=m.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var A=m.textContent.length,T=Math.min(x.start,A);x=x.end===void 0?T:Math.min(x.end,A),!s.extend&&T>x&&(A=x,x=T,T=A),A=qA(m,T);var j=qA(m,x);A&&j&&(s.rangeCount!==1||s.anchorNode!==A.node||s.anchorOffset!==A.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(c=c.createRange(),c.setStart(A.node,A.offset),s.removeAllRanges(),T>x?(s.addRange(c),s.extend(j.node,j.offset)):(c.setEnd(j.node,j.offset),s.addRange(c)))}}for(c=[],s=m;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)s=c[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MF=l&&"documentMode"in document&&11>=document.documentMode,xl=null,ay=null,iu=null,sy=!1;function GA(s,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;sy||xl==null||xl!==Se(x)||(x=xl,"selectionStart"in x&&oy(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),iu&&ru(iu,x)||(iu=x,x=Df(ay,"onSelect"),0<x.length&&(c=new Xg("onSelect","select",null,c,m),s.push({event:c,listeners:x}),c.target=xl)))}function Nf(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var wl={animationend:Nf("Animation","AnimationEnd"),animationiteration:Nf("Animation","AnimationIteration"),animationstart:Nf("Animation","AnimationStart"),transitionend:Nf("Transition","TransitionEnd")},ly={},YA={};l&&(YA=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function Pf(s){if(ly[s])return ly[s];if(!wl[s])return s;var c=wl[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in YA)return ly[s]=c[m];return s}var QA=Pf("animationend"),XA=Pf("animationiteration"),JA=Pf("animationstart"),ZA=Pf("transitionend"),ek=new Map,tk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(s,c){ek.set(s,c),o(c,[s])}for(var cy=0;cy<tk.length;cy++){var uy=tk[cy],BF=uy.toLowerCase(),FF=uy[0].toUpperCase()+uy.slice(1);ya(BF,"on"+FF)}ya(QA,"onAnimationEnd"),ya(XA,"onAnimationIteration"),ya(JA,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(ZA,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function nk(s,c,m){var x=s.type||"unknown-event";s.currentTarget=m,Lg(x,c,void 0,s),s.currentTarget=null}function rk(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var x=s[m],A=x.event;x=x.listeners;e:{var T=void 0;if(c)for(var j=x.length-1;0<=j;j--){var U=x[j],q=U.instance,ae=U.currentTarget;if(U=U.listener,q!==T&&A.isPropagationStopped())break e;nk(A,U,ae),T=q}else for(j=0;j<x.length;j++){if(U=x[j],q=U.instance,ae=U.currentTarget,U=U.listener,q!==T&&A.isPropagationStopped())break e;nk(A,U,ae),T=q}}}if(ml)throw s=Kc,ml=!1,Kc=null,s}function Yt(s,c){var m=c[vy];m===void 0&&(m=c[vy]=new Set);var x=s+"__bubble";m.has(x)||(ik(c,s,2,!1),m.add(x))}function dy(s,c,m){var x=0;c&&(x|=4),ik(m,s,x,c)}var If="_reactListening"+Math.random().toString(36).slice(2);function au(s){if(!s[If]){s[If]=!0,r.forEach(function(m){m!=="selectionchange"&&(LF.has(m)||dy(m,!1,s),dy(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[If]||(c[If]=!0,dy("selectionchange",!1,c))}}function ik(s,c,m,x){switch(TA(c)){case 1:var A=ZB;break;case 4:A=eF;break;default:A=Gg}m=A.bind(null,c,m,s),A=void 0,!Yr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),x?A!==void 0?s.addEventListener(c,m,{capture:!0,passive:A}):s.addEventListener(c,m,!0):A!==void 0?s.addEventListener(c,m,{passive:A}):s.addEventListener(c,m,!1)}function fy(s,c,m,x,A){var T=x;if(!(c&1)&&!(c&2)&&x!==null)e:for(;;){if(x===null)return;var j=x.tag;if(j===3||j===4){var U=x.stateNode.containerInfo;if(U===A||U.nodeType===8&&U.parentNode===A)break;if(j===4)for(j=x.return;j!==null;){var q=j.tag;if((q===3||q===4)&&(q=j.stateNode.containerInfo,q===A||q.nodeType===8&&q.parentNode===A))return;j=j.return}for(;U!==null;){if(j=is(U),j===null)return;if(q=j.tag,q===5||q===6){x=T=j;continue e}U=U.parentNode}}x=x.return}ao(function(){var ae=T,Ce=nt(m),Ae=[];e:{var be=ek.get(s);if(be!==void 0){var Oe=Xg,Ue=s;switch(s){case"keypress":if(Af(m)===0)break e;case"keydown":case"keyup":Oe=mF;break;case"focusin":Ue="focus",Oe=ey;break;case"focusout":Ue="blur",Oe=ey;break;case"beforeblur":case"afterblur":Oe=ey;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=PA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=vF;break;case QA:case XA:case JA:Oe=aF;break;case ZA:Oe=wF;break;case"scroll":Oe=tF;break;case"wheel":Oe=CF;break;case"copy":case"cut":case"paste":Oe=lF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=DA}var ze=(c&4)!==0,yn=!ze&&s==="scroll",Z=ze?be!==null?be+"Capture":null:be;ze=[];for(var G=ae,ne;G!==null;){ne=G;var _e=ne.stateNode;if(ne.tag===5&&_e!==null&&(ne=_e,Z!==null&&(_e=Rr(G,Z),_e!=null&&ze.push(su(G,_e,ne)))),yn)break;G=G.return}0<ze.length&&(be=new Oe(be,Ue,null,m,Ce),Ae.push({event:be,listeners:ze}))}}if(!(c&7)){e:{if(be=s==="mouseover"||s==="pointerover",Oe=s==="mouseout"||s==="pointerout",be&&m!==We&&(Ue=m.relatedTarget||m.fromElement)&&(is(Ue)||Ue[Po]))break e;if((Oe||be)&&(be=Ce.window===Ce?Ce:(be=Ce.ownerDocument)?be.defaultView||be.parentWindow:window,Oe?(Ue=m.relatedTarget||m.toElement,Oe=ae,Ue=Ue?is(Ue):null,Ue!==null&&(yn=Xr(Ue),Ue!==yn||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Oe=null,Ue=ae),Oe!==Ue)){if(ze=PA,_e="onMouseLeave",Z="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ze=DA,_e="onPointerLeave",Z="onPointerEnter",G="pointer"),yn=Oe==null?be:Sl(Oe),ne=Ue==null?be:Sl(Ue),be=new ze(_e,G+"leave",Oe,m,Ce),be.target=yn,be.relatedTarget=ne,_e=null,is(Ce)===ae&&(ze=new ze(Z,G+"enter",Ue,m,Ce),ze.target=ne,ze.relatedTarget=yn,_e=ze),yn=_e,Oe&&Ue)t:{for(ze=Oe,Z=Ue,G=0,ne=ze;ne;ne=bl(ne))G++;for(ne=0,_e=Z;_e;_e=bl(_e))ne++;for(;0<G-ne;)ze=bl(ze),G--;for(;0<ne-G;)Z=bl(Z),ne--;for(;G--;){if(ze===Z||Z!==null&&ze===Z.alternate)break t;ze=bl(ze),Z=bl(Z)}ze=null}else ze=null;Oe!==null&&ok(Ae,be,Oe,ze,!1),Ue!==null&&yn!==null&&ok(Ae,yn,Ue,ze,!0)}}e:{if(be=ae?Sl(ae):window,Oe=be.nodeName&&be.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&be.type==="file")var qe=NF;else if(FA(be))if($A)qe=OF;else{qe=IF;var Qe=PF}else(Oe=be.nodeName)&&Oe.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(qe=DF);if(qe&&(qe=qe(s,ae))){LA(Ae,qe,m,Ce);break e}Qe&&Qe(s,be,ae),s==="focusout"&&(Qe=be._wrapperState)&&Qe.controlled&&be.type==="number"&&vt(be,"number",be.value)}switch(Qe=ae?Sl(ae):window,s){case"focusin":(FA(Qe)||Qe.contentEditable==="true")&&(xl=Qe,ay=ae,iu=null);break;case"focusout":iu=ay=xl=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,GA(Ae,m,Ce);break;case"selectionchange":if(MF)break;case"keydown":case"keyup":GA(Ae,m,Ce)}var Xe;if(ny)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else vl?MA(s,m)&&(it="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(it="onCompositionStart");it&&(OA&&m.locale!=="ko"&&(vl||it!=="onCompositionStart"?it==="onCompositionEnd"&&vl&&(Xe=_A()):(ga=Ce,Qg="value"in ga?ga.value:ga.textContent,vl=!0)),Qe=Df(ae,it),0<Qe.length&&(it=new IA(it,s,null,m,Ce),Ae.push({event:it,listeners:Qe}),Xe?it.data=Xe:(Xe=BA(m),Xe!==null&&(it.data=Xe)))),(Xe=EF?AF(s,m):kF(s,m))&&(ae=Df(ae,"onBeforeInput"),0<ae.length&&(Ce=new IA("onBeforeInput","beforeinput",null,m,Ce),Ae.push({event:Ce,listeners:ae}),Ce.data=Xe))}rk(Ae,c)})}function su(s,c,m){return{instance:s,listener:c,currentTarget:m}}function Df(s,c){for(var m=c+"Capture",x=[];s!==null;){var A=s,T=A.stateNode;A.tag===5&&T!==null&&(A=T,T=Rr(s,m),T!=null&&x.unshift(su(s,T,A)),T=Rr(s,c),T!=null&&x.push(su(s,T,A))),s=s.return}return x}function bl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ok(s,c,m,x,A){for(var T=c._reactName,j=[];m!==null&&m!==x;){var U=m,q=U.alternate,ae=U.stateNode;if(q!==null&&q===x)break;U.tag===5&&ae!==null&&(U=ae,A?(q=Rr(m,T),q!=null&&j.unshift(su(m,q,U))):A||(q=Rr(m,T),q!=null&&j.push(su(m,q,U)))),m=m.return}j.length!==0&&s.push({event:c,listeners:j})}var $F=/\r\n?/g,UF=/\u0000|\uFFFD/g;function ak(s){return(typeof s=="string"?s:""+s).replace($F,`
`).replace(UF,"")}function Of(s,c,m){if(c=ak(c),ak(s)!==c&&m)throw Error(n(425))}function jf(){}var hy=null,py=null;function my(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,HF=typeof clearTimeout=="function"?clearTimeout:void 0,sk=typeof Promise=="function"?Promise:void 0,zF=typeof queueMicrotask=="function"?queueMicrotask:typeof sk<"u"?function(s){return sk.resolve(null).then(s).catch(KF)}:gy;function KF(s){setTimeout(function(){throw s})}function yy(s,c){var m=c,x=0;do{var A=m.nextSibling;if(s.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"){if(x===0){s.removeChild(A),Xc(c);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=A}while(m);Xc(c)}function va(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function lk(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return s;c--}else m==="/$"&&c++}s=s.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),lo="__reactFiber$"+Cl,lu="__reactProps$"+Cl,Po="__reactContainer$"+Cl,vy="__reactEvents$"+Cl,qF="__reactListeners$"+Cl,VF="__reactHandles$"+Cl;function is(s){var c=s[lo];if(c)return c;for(var m=s.parentNode;m;){if(c=m[Po]||m[lo]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=lk(s);s!==null;){if(m=s[lo])return m;s=lk(s)}return c}s=m,m=s.parentNode}return null}function cu(s){return s=s[lo]||s[Po],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Sl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Rf(s){return s[lu]||null}var xy=[],El=-1;function xa(s){return{current:s}}function Qt(s){0>El||(s.current=xy[El],xy[El]=null,El--)}function Vt(s,c){El++,xy[El]=s.current,s.current=c}var wa={},ur=xa(wa),Mr=xa(!1),os=wa;function Al(s,c){var m=s.type.contextTypes;if(!m)return wa;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var A={},T;for(T in m)A[T]=c[T];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=A),A}function Br(s){return s=s.childContextTypes,s!=null}function Mf(){Qt(Mr),Qt(ur)}function ck(s,c,m){if(ur.current!==wa)throw Error(n(168));Vt(ur,c),Vt(Mr,m)}function uk(s,c,m){var x=s.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var A in x)if(!(A in c))throw Error(n(108,we(s)||"Unknown",A));return ee({},m,x)}function Bf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||wa,os=ur.current,Vt(ur,s),Vt(Mr,Mr.current),!0}function dk(s,c,m){var x=s.stateNode;if(!x)throw Error(n(169));m?(s=uk(s,c,os),x.__reactInternalMemoizedMergedChildContext=s,Qt(Mr),Qt(ur),Vt(ur,s)):Qt(Mr),Vt(Mr,m)}var Io=null,Ff=!1,wy=!1;function fk(s){Io===null?Io=[s]:Io.push(s)}function WF(s){Ff=!0,fk(s)}function ba(){if(!wy&&Io!==null){wy=!0;var s=0,c=Dt;try{var m=Io;for(Dt=1;s<m.length;s++){var x=m[s];do x=x(!0);while(x!==null)}Io=null,Ff=!1}catch(A){throw Io!==null&&(Io=Io.slice(s+1)),pe(Ne,ba),A}finally{Dt=c,wy=!1}}return null}var kl=[],Tl=0,Lf=null,$f=0,vi=[],xi=0,as=null,Do=1,Oo="";function ss(s,c){kl[Tl++]=$f,kl[Tl++]=Lf,Lf=s,$f=c}function hk(s,c,m){vi[xi++]=Do,vi[xi++]=Oo,vi[xi++]=as,as=s;var x=Do;s=Oo;var A=32-Mi(x)-1;x&=~(1<<A),m+=1;var T=32-Mi(c)+A;if(30<T){var j=A-A%5;T=(x&(1<<j)-1).toString(32),x>>=j,A-=j,Do=1<<32-Mi(c)+A|m<<A|x,Oo=T+s}else Do=1<<T|m<<A|x,Oo=s}function by(s){s.return!==null&&(ss(s,1),hk(s,1,0))}function Cy(s){for(;s===Lf;)Lf=kl[--Tl],kl[Tl]=null,$f=kl[--Tl],kl[Tl]=null;for(;s===as;)as=vi[--xi],vi[xi]=null,Oo=vi[--xi],vi[xi]=null,Do=vi[--xi],vi[xi]=null}var Zr=null,ei=null,Zt=!1,Fi=null;function pk(s,c){var m=Si(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=s,c=s.deletions,c===null?(s.deletions=[m],s.flags|=16):c.push(m)}function mk(s,c){switch(s.tag){case 5:var m=s.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,Zr=s,ei=va(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,Zr=s,ei=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=as!==null?{id:Do,overflow:Oo}:null,s.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Si(18,null,null,0),m.stateNode=c,m.return=s,s.child=m,Zr=s,ei=null,!0):!1;default:return!1}}function Sy(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ey(s){if(Zt){var c=ei;if(c){var m=c;if(!mk(s,c)){if(Sy(s))throw Error(n(418));c=va(m.nextSibling);var x=Zr;c&&mk(s,c)?pk(x,m):(s.flags=s.flags&-4097|2,Zt=!1,Zr=s)}}else{if(Sy(s))throw Error(n(418));s.flags=s.flags&-4097|2,Zt=!1,Zr=s}}}function gk(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zr=s}function Uf(s){if(s!==Zr)return!1;if(!Zt)return gk(s),Zt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!my(s.type,s.memoizedProps)),c&&(c=ei)){if(Sy(s))throw yk(),Error(n(418));for(;c;)pk(s,c),c=va(c.nextSibling)}if(gk(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(c===0){ei=va(s.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}s=s.nextSibling}ei=null}}else ei=Zr?va(s.stateNode.nextSibling):null;return!0}function yk(){for(var s=ei;s;)s=va(s.nextSibling)}function _l(){ei=Zr=null,Zt=!1}function Ay(s){Fi===null?Fi=[s]:Fi.push(s)}var GF=N.ReactCurrentBatchConfig;function uu(s,c,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,s));var A=x,T=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(j){var U=A.refs;j===null?delete U[T]:U[T]=j},c._stringRef=T,c)}if(typeof s!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,s))}return s}function Hf(s,c){throw s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function vk(s){var c=s._init;return c(s._payload)}function xk(s){function c(Z,G){if(s){var ne=Z.deletions;ne===null?(Z.deletions=[G],Z.flags|=16):ne.push(G)}}function m(Z,G){if(!s)return null;for(;G!==null;)c(Z,G),G=G.sibling;return null}function x(Z,G){for(Z=new Map;G!==null;)G.key!==null?Z.set(G.key,G):Z.set(G.index,G),G=G.sibling;return Z}function A(Z,G){return Z=Na(Z,G),Z.index=0,Z.sibling=null,Z}function T(Z,G,ne){return Z.index=ne,s?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<G?(Z.flags|=2,G):ne):(Z.flags|=2,G)):(Z.flags|=1048576,G)}function j(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,G,ne,_e){return G===null||G.tag!==6?(G=gv(ne,Z.mode,_e),G.return=Z,G):(G=A(G,ne),G.return=Z,G)}function q(Z,G,ne,_e){var qe=ne.type;return qe===D?Ce(Z,G,ne.props.children,_e,ne.key):G!==null&&(G.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&vk(qe)===G.type)?(_e=A(G,ne.props),_e.ref=uu(Z,G,ne),_e.return=Z,_e):(_e=fh(ne.type,ne.key,ne.props,null,Z.mode,_e),_e.ref=uu(Z,G,ne),_e.return=Z,_e)}function ae(Z,G,ne,_e){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=yv(ne,Z.mode,_e),G.return=Z,G):(G=A(G,ne.children||[]),G.return=Z,G)}function Ce(Z,G,ne,_e,qe){return G===null||G.tag!==7?(G=ms(ne,Z.mode,_e,qe),G.return=Z,G):(G=A(G,ne),G.return=Z,G)}function Ae(Z,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number")return G=gv(""+G,Z.mode,ne),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return ne=fh(G.type,G.key,G.props,null,Z.mode,ne),ne.ref=uu(Z,null,G),ne.return=Z,ne;case P:return G=yv(G,Z.mode,ne),G.return=Z,G;case se:var _e=G._init;return Ae(Z,_e(G._payload),ne)}if(xt(G)||Q(G))return G=ms(G,Z.mode,ne,null),G.return=Z,G;Hf(Z,G)}return null}function be(Z,G,ne,_e){var qe=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return qe!==null?null:U(Z,G,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:return ne.key===qe?q(Z,G,ne,_e):null;case P:return ne.key===qe?ae(Z,G,ne,_e):null;case se:return qe=ne._init,be(Z,G,qe(ne._payload),_e)}if(xt(ne)||Q(ne))return qe!==null?null:Ce(Z,G,ne,_e,null);Hf(Z,ne)}return null}function Oe(Z,G,ne,_e,qe){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Z=Z.get(ne)||null,U(G,Z,""+_e,qe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case _:return Z=Z.get(_e.key===null?ne:_e.key)||null,q(G,Z,_e,qe);case P:return Z=Z.get(_e.key===null?ne:_e.key)||null,ae(G,Z,_e,qe);case se:var Qe=_e._init;return Oe(Z,G,ne,Qe(_e._payload),qe)}if(xt(_e)||Q(_e))return Z=Z.get(ne)||null,Ce(G,Z,_e,qe,null);Hf(G,_e)}return null}function Ue(Z,G,ne,_e){for(var qe=null,Qe=null,Xe=G,it=G=0,Vn=null;Xe!==null&&it<ne.length;it++){Xe.index>it?(Vn=Xe,Xe=null):Vn=Xe.sibling;var kt=be(Z,Xe,ne[it],_e);if(kt===null){Xe===null&&(Xe=Vn);break}s&&Xe&&kt.alternate===null&&c(Z,Xe),G=T(kt,G,it),Qe===null?qe=kt:Qe.sibling=kt,Qe=kt,Xe=Vn}if(it===ne.length)return m(Z,Xe),Zt&&ss(Z,it),qe;if(Xe===null){for(;it<ne.length;it++)Xe=Ae(Z,ne[it],_e),Xe!==null&&(G=T(Xe,G,it),Qe===null?qe=Xe:Qe.sibling=Xe,Qe=Xe);return Zt&&ss(Z,it),qe}for(Xe=x(Z,Xe);it<ne.length;it++)Vn=Oe(Xe,Z,it,ne[it],_e),Vn!==null&&(s&&Vn.alternate!==null&&Xe.delete(Vn.key===null?it:Vn.key),G=T(Vn,G,it),Qe===null?qe=Vn:Qe.sibling=Vn,Qe=Vn);return s&&Xe.forEach(function(Pa){return c(Z,Pa)}),Zt&&ss(Z,it),qe}function ze(Z,G,ne,_e){var qe=Q(ne);if(typeof qe!="function")throw Error(n(150));if(ne=qe.call(ne),ne==null)throw Error(n(151));for(var Qe=qe=null,Xe=G,it=G=0,Vn=null,kt=ne.next();Xe!==null&&!kt.done;it++,kt=ne.next()){Xe.index>it?(Vn=Xe,Xe=null):Vn=Xe.sibling;var Pa=be(Z,Xe,kt.value,_e);if(Pa===null){Xe===null&&(Xe=Vn);break}s&&Xe&&Pa.alternate===null&&c(Z,Xe),G=T(Pa,G,it),Qe===null?qe=Pa:Qe.sibling=Pa,Qe=Pa,Xe=Vn}if(kt.done)return m(Z,Xe),Zt&&ss(Z,it),qe;if(Xe===null){for(;!kt.done;it++,kt=ne.next())kt=Ae(Z,kt.value,_e),kt!==null&&(G=T(kt,G,it),Qe===null?qe=kt:Qe.sibling=kt,Qe=kt);return Zt&&ss(Z,it),qe}for(Xe=x(Z,Xe);!kt.done;it++,kt=ne.next())kt=Oe(Xe,Z,it,kt.value,_e),kt!==null&&(s&&kt.alternate!==null&&Xe.delete(kt.key===null?it:kt.key),G=T(kt,G,it),Qe===null?qe=kt:Qe.sibling=kt,Qe=kt);return s&&Xe.forEach(function(kL){return c(Z,kL)}),Zt&&ss(Z,it),qe}function yn(Z,G,ne,_e){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:e:{for(var qe=ne.key,Qe=G;Qe!==null;){if(Qe.key===qe){if(qe=ne.type,qe===D){if(Qe.tag===7){m(Z,Qe.sibling),G=A(Qe,ne.props.children),G.return=Z,Z=G;break e}}else if(Qe.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&vk(qe)===Qe.type){m(Z,Qe.sibling),G=A(Qe,ne.props),G.ref=uu(Z,Qe,ne),G.return=Z,Z=G;break e}m(Z,Qe);break}else c(Z,Qe);Qe=Qe.sibling}ne.type===D?(G=ms(ne.props.children,Z.mode,_e,ne.key),G.return=Z,Z=G):(_e=fh(ne.type,ne.key,ne.props,null,Z.mode,_e),_e.ref=uu(Z,G,ne),_e.return=Z,Z=_e)}return j(Z);case P:e:{for(Qe=ne.key;G!==null;){if(G.key===Qe)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){m(Z,G.sibling),G=A(G,ne.children||[]),G.return=Z,Z=G;break e}else{m(Z,G);break}else c(Z,G);G=G.sibling}G=yv(ne,Z.mode,_e),G.return=Z,Z=G}return j(Z);case se:return Qe=ne._init,yn(Z,G,Qe(ne._payload),_e)}if(xt(ne))return Ue(Z,G,ne,_e);if(Q(ne))return ze(Z,G,ne,_e);Hf(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,G!==null&&G.tag===6?(m(Z,G.sibling),G=A(G,ne),G.return=Z,Z=G):(m(Z,G),G=gv(ne,Z.mode,_e),G.return=Z,Z=G),j(Z)):m(Z,G)}return yn}var Nl=xk(!0),wk=xk(!1),zf=xa(null),Kf=null,Pl=null,ky=null;function Ty(){ky=Pl=Kf=null}function _y(s){var c=zf.current;Qt(zf),s._currentValue=c}function Ny(s,c,m){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===m)break;s=s.return}}function Il(s,c){Kf=s,ky=Pl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&c&&(Fr=!0),s.firstContext=null)}function wi(s){var c=s._currentValue;if(ky!==s)if(s={context:s,memoizedValue:c,next:null},Pl===null){if(Kf===null)throw Error(n(308));Pl=s,Kf.dependencies={lanes:0,firstContext:s}}else Pl=Pl.next=s;return c}var ls=null;function Py(s){ls===null?ls=[s]:ls.push(s)}function bk(s,c,m,x){var A=c.interleaved;return A===null?(m.next=m,Py(c)):(m.next=A.next,A.next=m),c.interleaved=m,jo(s,x)}function jo(s,c){s.lanes|=c;var m=s.alternate;for(m!==null&&(m.lanes|=c),m=s,s=s.return;s!==null;)s.childLanes|=c,m=s.alternate,m!==null&&(m.childLanes|=c),m=s,s=s.return;return m.tag===3?m.stateNode:null}var Ca=!1;function Iy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ck(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ro(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function Sa(s,c,m){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,St&2){var A=x.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),x.pending=c,jo(s,m)}return A=x.interleaved,A===null?(c.next=c,Py(x)):(c.next=A.next,A.next=c),x.interleaved=c,jo(s,m)}function qf(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,qg(s,m)}}function Sk(s,c){var m=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var A=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var j={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?A=T=j:T=T.next=j,m=m.next}while(m!==null);T===null?A=T=c:T=T.next=c}else A=T=c;m={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:x.shared,effects:x.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}function Vf(s,c,m,x){var A=s.updateQueue;Ca=!1;var T=A.firstBaseUpdate,j=A.lastBaseUpdate,U=A.shared.pending;if(U!==null){A.shared.pending=null;var q=U,ae=q.next;q.next=null,j===null?T=ae:j.next=ae,j=q;var Ce=s.alternate;Ce!==null&&(Ce=Ce.updateQueue,U=Ce.lastBaseUpdate,U!==j&&(U===null?Ce.firstBaseUpdate=ae:U.next=ae,Ce.lastBaseUpdate=q))}if(T!==null){var Ae=A.baseState;j=0,Ce=ae=q=null,U=T;do{var be=U.lane,Oe=U.eventTime;if((x&be)===be){Ce!==null&&(Ce=Ce.next={eventTime:Oe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ue=s,ze=U;switch(be=c,Oe=m,ze.tag){case 1:if(Ue=ze.payload,typeof Ue=="function"){Ae=Ue.call(Oe,Ae,be);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ze.payload,be=typeof Ue=="function"?Ue.call(Oe,Ae,be):Ue,be==null)break e;Ae=ee({},Ae,be);break e;case 2:Ca=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,be=A.effects,be===null?A.effects=[U]:be.push(U))}else Oe={eventTime:Oe,lane:be,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ce===null?(ae=Ce=Oe,q=Ae):Ce=Ce.next=Oe,j|=be;if(U=U.next,U===null){if(U=A.shared.pending,U===null)break;be=U,U=be.next,be.next=null,A.lastBaseUpdate=be,A.shared.pending=null}}while(!0);if(Ce===null&&(q=Ae),A.baseState=q,A.firstBaseUpdate=ae,A.lastBaseUpdate=Ce,c=A.shared.interleaved,c!==null){A=c;do j|=A.lane,A=A.next;while(A!==c)}else T===null&&(A.shared.lanes=0);ds|=j,s.lanes=j,s.memoizedState=Ae}}function Ek(s,c,m){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var x=s[c],A=x.callback;if(A!==null){if(x.callback=null,x=m,typeof A!="function")throw Error(n(191,A));A.call(x)}}}var du={},co=xa(du),fu=xa(du),hu=xa(du);function cs(s){if(s===du)throw Error(n(174));return s}function Dy(s,c){switch(Vt(hu,c),Vt(fu,s),Vt(co,du),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Sn(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Sn(c,s)}Qt(co),Vt(co,c)}function Dl(){Qt(co),Qt(fu),Qt(hu)}function Ak(s){cs(hu.current);var c=cs(co.current),m=Sn(c,s.type);c!==m&&(Vt(fu,s),Vt(co,m))}function Oy(s){fu.current===s&&(Qt(co),Qt(fu))}var on=xa(0);function Wf(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var jy=[];function Ry(){for(var s=0;s<jy.length;s++)jy[s]._workInProgressVersionPrimary=null;jy.length=0}var Gf=N.ReactCurrentDispatcher,My=N.ReactCurrentBatchConfig,us=0,an=null,Fn=null,Kn=null,Yf=!1,pu=!1,mu=0,YF=0;function dr(){throw Error(n(321))}function By(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!Bi(s[m],c[m]))return!1;return!0}function Fy(s,c,m,x,A,T){if(us=T,an=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Gf.current=s===null||s.memoizedState===null?ZF:eL,s=m(x,A),pu){T=0;do{if(pu=!1,mu=0,25<=T)throw Error(n(301));T+=1,Kn=Fn=null,c.updateQueue=null,Gf.current=tL,s=m(x,A)}while(pu)}if(Gf.current=Jf,c=Fn!==null&&Fn.next!==null,us=0,Kn=Fn=an=null,Yf=!1,c)throw Error(n(300));return s}function Ly(){var s=mu!==0;return mu=0,s}function uo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?an.memoizedState=Kn=s:Kn=Kn.next=s,Kn}function bi(){if(Fn===null){var s=an.alternate;s=s!==null?s.memoizedState:null}else s=Fn.next;var c=Kn===null?an.memoizedState:Kn.next;if(c!==null)Kn=c,Fn=s;else{if(s===null)throw Error(n(310));Fn=s,s={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Kn===null?an.memoizedState=Kn=s:Kn=Kn.next=s}return Kn}function gu(s,c){return typeof c=="function"?c(s):c}function $y(s){var c=bi(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var x=Fn,A=x.baseQueue,T=m.pending;if(T!==null){if(A!==null){var j=A.next;A.next=T.next,T.next=j}x.baseQueue=A=T,m.pending=null}if(A!==null){T=A.next,x=x.baseState;var U=j=null,q=null,ae=T;do{var Ce=ae.lane;if((us&Ce)===Ce)q!==null&&(q=q.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),x=ae.hasEagerState?ae.eagerState:s(x,ae.action);else{var Ae={lane:Ce,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};q===null?(U=q=Ae,j=x):q=q.next=Ae,an.lanes|=Ce,ds|=Ce}ae=ae.next}while(ae!==null&&ae!==T);q===null?j=x:q.next=U,Bi(x,c.memoizedState)||(Fr=!0),c.memoizedState=x,c.baseState=j,c.baseQueue=q,m.lastRenderedState=x}if(s=m.interleaved,s!==null){A=s;do T=A.lane,an.lanes|=T,ds|=T,A=A.next;while(A!==s)}else A===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Uy(s){var c=bi(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var x=m.dispatch,A=m.pending,T=c.memoizedState;if(A!==null){m.pending=null;var j=A=A.next;do T=s(T,j.action),j=j.next;while(j!==A);Bi(T,c.memoizedState)||(Fr=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,x]}function kk(){}function Tk(s,c){var m=an,x=bi(),A=c(),T=!Bi(x.memoizedState,A);if(T&&(x.memoizedState=A,Fr=!0),x=x.queue,Hy(Pk.bind(null,m,x,s),[s]),x.getSnapshot!==c||T||Kn!==null&&Kn.memoizedState.tag&1){if(m.flags|=2048,yu(9,Nk.bind(null,m,x,A,c),void 0,null),qn===null)throw Error(n(349));us&30||_k(m,c,A)}return A}function _k(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=an.updateQueue,c===null?(c={lastEffect:null,stores:null},an.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function Nk(s,c,m,x){c.value=m,c.getSnapshot=x,Ik(c)&&Dk(s)}function Pk(s,c,m){return m(function(){Ik(c)&&Dk(s)})}function Ik(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!Bi(s,m)}catch{return!0}}function Dk(s){var c=jo(s,1);c!==null&&Hi(c,s,1,-1)}function Ok(s){var c=uo();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:s},c.queue=s,s=s.dispatch=JF.bind(null,an,s),[c.memoizedState,s]}function yu(s,c,m,x){return s={tag:s,create:c,destroy:m,deps:x,next:null},c=an.updateQueue,c===null?(c={lastEffect:null,stores:null},an.updateQueue=c,c.lastEffect=s.next=s):(m=c.lastEffect,m===null?c.lastEffect=s.next=s:(x=m.next,m.next=s,s.next=x,c.lastEffect=s)),s}function jk(){return bi().memoizedState}function Qf(s,c,m,x){var A=uo();an.flags|=s,A.memoizedState=yu(1|c,m,void 0,x===void 0?null:x)}function Xf(s,c,m,x){var A=bi();x=x===void 0?null:x;var T=void 0;if(Fn!==null){var j=Fn.memoizedState;if(T=j.destroy,x!==null&&By(x,j.deps)){A.memoizedState=yu(c,m,T,x);return}}an.flags|=s,A.memoizedState=yu(1|c,m,T,x)}function Rk(s,c){return Qf(8390656,8,s,c)}function Hy(s,c){return Xf(2048,8,s,c)}function Mk(s,c){return Xf(4,2,s,c)}function Bk(s,c){return Xf(4,4,s,c)}function Fk(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Lk(s,c,m){return m=m!=null?m.concat([s]):null,Xf(4,4,Fk.bind(null,c,s),m)}function zy(){}function $k(s,c){var m=bi();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&By(c,x[1])?x[0]:(m.memoizedState=[s,c],s)}function Uk(s,c){var m=bi();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&By(c,x[1])?x[0]:(s=s(),m.memoizedState=[s,c],s)}function Hk(s,c,m){return us&21?(Bi(m,c)||(m=vA(),an.lanes|=m,ds|=m,s.baseState=!0),c):(s.baseState&&(s.baseState=!1,Fr=!0),s.memoizedState=m)}function QF(s,c){var m=Dt;Dt=m!==0&&4>m?m:4,s(!0);var x=My.transition;My.transition={};try{s(!1),c()}finally{Dt=m,My.transition=x}}function zk(){return bi().memoizedState}function XF(s,c,m){var x=Ta(s);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Kk(s))qk(c,m);else if(m=bk(s,c,m,x),m!==null){var A=Ar();Hi(m,s,x,A),Vk(m,c,x)}}function JF(s,c,m){var x=Ta(s),A={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Kk(s))qk(c,A);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var j=c.lastRenderedState,U=T(j,m);if(A.hasEagerState=!0,A.eagerState=U,Bi(U,j)){var q=c.interleaved;q===null?(A.next=A,Py(c)):(A.next=q.next,q.next=A),c.interleaved=A;return}}catch{}finally{}m=bk(s,c,A,x),m!==null&&(A=Ar(),Hi(m,s,x,A),Vk(m,c,x))}}function Kk(s){var c=s.alternate;return s===an||c!==null&&c===an}function qk(s,c){pu=Yf=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function Vk(s,c,m){if(m&4194240){var x=c.lanes;x&=s.pendingLanes,m|=x,c.lanes=m,qg(s,m)}}var Jf={readContext:wi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},ZF={readContext:wi,useCallback:function(s,c){return uo().memoizedState=[s,c===void 0?null:c],s},useContext:wi,useEffect:Rk,useImperativeHandle:function(s,c,m){return m=m!=null?m.concat([s]):null,Qf(4194308,4,Fk.bind(null,c,s),m)},useLayoutEffect:function(s,c){return Qf(4194308,4,s,c)},useInsertionEffect:function(s,c){return Qf(4,2,s,c)},useMemo:function(s,c){var m=uo();return c=c===void 0?null:c,s=s(),m.memoizedState=[s,c],s},useReducer:function(s,c,m){var x=uo();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},x.queue=s,s=s.dispatch=XF.bind(null,an,s),[x.memoizedState,s]},useRef:function(s){var c=uo();return s={current:s},c.memoizedState=s},useState:Ok,useDebugValue:zy,useDeferredValue:function(s){return uo().memoizedState=s},useTransition:function(){var s=Ok(!1),c=s[0];return s=QF.bind(null,s[1]),uo().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,m){var x=an,A=uo();if(Zt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),qn===null)throw Error(n(349));us&30||_k(x,c,m)}A.memoizedState=m;var T={value:m,getSnapshot:c};return A.queue=T,Rk(Pk.bind(null,x,T,s),[s]),x.flags|=2048,yu(9,Nk.bind(null,x,T,m,c),void 0,null),m},useId:function(){var s=uo(),c=qn.identifierPrefix;if(Zt){var m=Oo,x=Do;m=(x&~(1<<32-Mi(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=mu++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=YF++,c=":"+c+"r"+m.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},eL={readContext:wi,useCallback:$k,useContext:wi,useEffect:Hy,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Bk,useMemo:Uk,useReducer:$y,useRef:jk,useState:function(){return $y(gu)},useDebugValue:zy,useDeferredValue:function(s){var c=bi();return Hk(c,Fn.memoizedState,s)},useTransition:function(){var s=$y(gu)[0],c=bi().memoizedState;return[s,c]},useMutableSource:kk,useSyncExternalStore:Tk,useId:zk,unstable_isNewReconciler:!1},tL={readContext:wi,useCallback:$k,useContext:wi,useEffect:Hy,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Bk,useMemo:Uk,useReducer:Uy,useRef:jk,useState:function(){return Uy(gu)},useDebugValue:zy,useDeferredValue:function(s){var c=bi();return Fn===null?c.memoizedState=s:Hk(c,Fn.memoizedState,s)},useTransition:function(){var s=Uy(gu)[0],c=bi().memoizedState;return[s,c]},useMutableSource:kk,useSyncExternalStore:Tk,useId:zk,unstable_isNewReconciler:!1};function Li(s,c){if(s&&s.defaultProps){c=ee({},c),s=s.defaultProps;for(var m in s)c[m]===void 0&&(c[m]=s[m]);return c}return c}function Ky(s,c,m,x){c=s.memoizedState,m=m(x,c),m=m==null?c:ee({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var Zf={isMounted:function(s){return(s=s._reactInternals)?Xr(s)===s:!1},enqueueSetState:function(s,c,m){s=s._reactInternals;var x=Ar(),A=Ta(s),T=Ro(x,A);T.payload=c,m!=null&&(T.callback=m),c=Sa(s,T,A),c!==null&&(Hi(c,s,A,x),qf(c,s,A))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var x=Ar(),A=Ta(s),T=Ro(x,A);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=Sa(s,T,A),c!==null&&(Hi(c,s,A,x),qf(c,s,A))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=Ar(),x=Ta(s),A=Ro(m,x);A.tag=2,c!=null&&(A.callback=c),c=Sa(s,A,x),c!==null&&(Hi(c,s,x,m),qf(c,s,x))}};function Wk(s,c,m,x,A,T,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,T,j):c.prototype&&c.prototype.isPureReactComponent?!ru(m,x)||!ru(A,T):!0}function Gk(s,c,m){var x=!1,A=wa,T=c.contextType;return typeof T=="object"&&T!==null?T=wi(T):(A=Br(c)?os:ur.current,x=c.contextTypes,T=(x=x!=null)?Al(s,A):wa),c=new c(m,T),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Zf,s.stateNode=c,c._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=A,s.__reactInternalMemoizedMaskedChildContext=T),c}function Yk(s,c,m,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==s&&Zf.enqueueReplaceState(c,c.state,null)}function qy(s,c,m,x){var A=s.stateNode;A.props=m,A.state=s.memoizedState,A.refs={},Iy(s);var T=c.contextType;typeof T=="object"&&T!==null?A.context=wi(T):(T=Br(c)?os:ur.current,A.context=Al(s,T)),A.state=s.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Ky(s,c,T,m),A.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&Zf.enqueueReplaceState(A,A.state,null),Vf(s,m,A,x),A.state=s.memoizedState),typeof A.componentDidMount=="function"&&(s.flags|=4194308)}function Ol(s,c){try{var m="",x=c;do m+=J(x),x=x.return;while(x);var A=m}catch(T){A=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:c,stack:A,digest:null}}function Vy(s,c,m){return{value:s,source:null,stack:m??null,digest:c??null}}function Wy(s,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var nL=typeof WeakMap=="function"?WeakMap:Map;function Qk(s,c,m){m=Ro(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){ah||(ah=!0,lv=x),Wy(s,c)},m}function Xk(s,c,m){m=Ro(-1,m),m.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var A=c.value;m.payload=function(){return x(A)},m.callback=function(){Wy(s,c)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Wy(s,c),typeof x!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var j=c.stack;this.componentDidCatch(c.value,{componentStack:j!==null?j:""})}),m}function Jk(s,c,m){var x=s.pingCache;if(x===null){x=s.pingCache=new nL;var A=new Set;x.set(c,A)}else A=x.get(c),A===void 0&&(A=new Set,x.set(c,A));A.has(m)||(A.add(m),s=gL.bind(null,s,c,m),c.then(s,s))}function Zk(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function eT(s,c,m,x,A){return s.mode&1?(s.flags|=65536,s.lanes=A,s):(s===c?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=Ro(-1,1),c.tag=2,Sa(m,c,1))),m.lanes|=1),s)}var rL=N.ReactCurrentOwner,Fr=!1;function Er(s,c,m,x){c.child=s===null?wk(c,null,m,x):Nl(c,s.child,m,x)}function tT(s,c,m,x,A){m=m.render;var T=c.ref;return Il(c,A),x=Fy(s,c,m,x,T,A),m=Ly(),s!==null&&!Fr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~A,Mo(s,c,A)):(Zt&&m&&by(c),c.flags|=1,Er(s,c,x,A),c.child)}function nT(s,c,m,x,A){if(s===null){var T=m.type;return typeof T=="function"&&!mv(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=T,rT(s,c,T,x,A)):(s=fh(m.type,null,x,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(T=s.child,!(s.lanes&A)){var j=T.memoizedProps;if(m=m.compare,m=m!==null?m:ru,m(j,x)&&s.ref===c.ref)return Mo(s,c,A)}return c.flags|=1,s=Na(T,x),s.ref=c.ref,s.return=c,c.child=s}function rT(s,c,m,x,A){if(s!==null){var T=s.memoizedProps;if(ru(T,x)&&s.ref===c.ref)if(Fr=!1,c.pendingProps=x=T,(s.lanes&A)!==0)s.flags&131072&&(Fr=!0);else return c.lanes=s.lanes,Mo(s,c,A)}return Gy(s,c,m,x,A)}function iT(s,c,m){var x=c.pendingProps,A=x.children,T=s!==null?s.memoizedState:null;if(x.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Rl,ti),ti|=m;else{if(!(m&1073741824))return s=T!==null?T.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,Vt(Rl,ti),ti|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,Vt(Rl,ti),ti|=x}else T!==null?(x=T.baseLanes|m,c.memoizedState=null):x=m,Vt(Rl,ti),ti|=x;return Er(s,c,A,m),c.child}function oT(s,c){var m=c.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function Gy(s,c,m,x,A){var T=Br(m)?os:ur.current;return T=Al(c,T),Il(c,A),m=Fy(s,c,m,x,T,A),x=Ly(),s!==null&&!Fr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~A,Mo(s,c,A)):(Zt&&x&&by(c),c.flags|=1,Er(s,c,m,A),c.child)}function aT(s,c,m,x,A){if(Br(m)){var T=!0;Bf(c)}else T=!1;if(Il(c,A),c.stateNode===null)th(s,c),Gk(c,m,x),qy(c,m,x,A),x=!0;else if(s===null){var j=c.stateNode,U=c.memoizedProps;j.props=U;var q=j.context,ae=m.contextType;typeof ae=="object"&&ae!==null?ae=wi(ae):(ae=Br(m)?os:ur.current,ae=Al(c,ae));var Ce=m.getDerivedStateFromProps,Ae=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function";Ae||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==x||q!==ae)&&Yk(c,j,x,ae),Ca=!1;var be=c.memoizedState;j.state=be,Vf(c,x,j,A),q=c.memoizedState,U!==x||be!==q||Mr.current||Ca?(typeof Ce=="function"&&(Ky(c,m,Ce,x),q=c.memoizedState),(U=Ca||Wk(c,m,U,x,be,q,ae))?(Ae||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(c.flags|=4194308)):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=q),j.props=x,j.state=q,j.context=ae,x=U):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{j=c.stateNode,Ck(s,c),U=c.memoizedProps,ae=c.type===c.elementType?U:Li(c.type,U),j.props=ae,Ae=c.pendingProps,be=j.context,q=m.contextType,typeof q=="object"&&q!==null?q=wi(q):(q=Br(m)?os:ur.current,q=Al(c,q));var Oe=m.getDerivedStateFromProps;(Ce=typeof Oe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==Ae||be!==q)&&Yk(c,j,x,q),Ca=!1,be=c.memoizedState,j.state=be,Vf(c,x,j,A);var Ue=c.memoizedState;U!==Ae||be!==Ue||Mr.current||Ca?(typeof Oe=="function"&&(Ky(c,m,Oe,x),Ue=c.memoizedState),(ae=Ca||Wk(c,m,ae,x,be,Ue,q)||!1)?(Ce||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(x,Ue,q),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(x,Ue,q)),typeof j.componentDidUpdate=="function"&&(c.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof j.componentDidUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ue),j.props=x,j.state=Ue,j.context=q,x=ae):(typeof j.componentDidUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&be===s.memoizedState||(c.flags|=1024),x=!1)}return Yy(s,c,m,x,T,A)}function Yy(s,c,m,x,A,T){oT(s,c);var j=(c.flags&128)!==0;if(!x&&!j)return A&&dk(c,m,!1),Mo(s,c,T);x=c.stateNode,rL.current=c;var U=j&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,s!==null&&j?(c.child=Nl(c,s.child,null,T),c.child=Nl(c,null,U,T)):Er(s,c,U,T),c.memoizedState=x.state,A&&dk(c,m,!0),c.child}function sT(s){var c=s.stateNode;c.pendingContext?ck(s,c.pendingContext,c.pendingContext!==c.context):c.context&&ck(s,c.context,!1),Dy(s,c.containerInfo)}function lT(s,c,m,x,A){return _l(),Ay(A),c.flags|=256,Er(s,c,m,x),c.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Xy(s){return{baseLanes:s,cachePool:null,transitions:null}}function cT(s,c,m){var x=c.pendingProps,A=on.current,T=!1,j=(c.flags&128)!==0,U;if((U=j)||(U=s!==null&&s.memoizedState===null?!1:(A&2)!==0),U?(T=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(A|=1),Vt(on,A&1),s===null)return Ey(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(c.mode&1?s.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(j=x.children,s=x.fallback,T?(x=c.mode,T=c.child,j={mode:"hidden",children:j},!(x&1)&&T!==null?(T.childLanes=0,T.pendingProps=j):T=hh(j,x,0,null),s=ms(s,x,m,null),T.return=c,s.return=c,T.sibling=s,c.child=T,c.child.memoizedState=Xy(m),c.memoizedState=Qy,s):Jy(c,j));if(A=s.memoizedState,A!==null&&(U=A.dehydrated,U!==null))return iL(s,c,j,x,U,A,m);if(T){T=x.fallback,j=c.mode,A=s.child,U=A.sibling;var q={mode:"hidden",children:x.children};return!(j&1)&&c.child!==A?(x=c.child,x.childLanes=0,x.pendingProps=q,c.deletions=null):(x=Na(A,q),x.subtreeFlags=A.subtreeFlags&14680064),U!==null?T=Na(U,T):(T=ms(T,j,m,null),T.flags|=2),T.return=c,x.return=c,x.sibling=T,c.child=x,x=T,T=c.child,j=s.child.memoizedState,j=j===null?Xy(m):{baseLanes:j.baseLanes|m,cachePool:null,transitions:j.transitions},T.memoizedState=j,T.childLanes=s.childLanes&~m,c.memoizedState=Qy,x}return T=s.child,s=T.sibling,x=Na(T,{mode:"visible",children:x.children}),!(c.mode&1)&&(x.lanes=m),x.return=c,x.sibling=null,s!==null&&(m=c.deletions,m===null?(c.deletions=[s],c.flags|=16):m.push(s)),c.child=x,c.memoizedState=null,x}function Jy(s,c){return c=hh({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function eh(s,c,m,x){return x!==null&&Ay(x),Nl(c,s.child,null,m),s=Jy(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function iL(s,c,m,x,A,T,j){if(m)return c.flags&256?(c.flags&=-257,x=Vy(Error(n(422))),eh(s,c,j,x)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(T=x.fallback,A=c.mode,x=hh({mode:"visible",children:x.children},A,0,null),T=ms(T,A,j,null),T.flags|=2,x.return=c,T.return=c,x.sibling=T,c.child=x,c.mode&1&&Nl(c,s.child,null,j),c.child.memoizedState=Xy(j),c.memoizedState=Qy,T);if(!(c.mode&1))return eh(s,c,j,null);if(A.data==="$!"){if(x=A.nextSibling&&A.nextSibling.dataset,x)var U=x.dgst;return x=U,T=Error(n(419)),x=Vy(T,x,void 0),eh(s,c,j,x)}if(U=(j&s.childLanes)!==0,Fr||U){if(x=qn,x!==null){switch(j&-j){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(x.suspendedLanes|j)?0:A,A!==0&&A!==T.retryLane&&(T.retryLane=A,jo(s,A),Hi(x,s,A,-1))}return pv(),x=Vy(Error(n(421))),eh(s,c,j,x)}return A.data==="$?"?(c.flags|=128,c.child=s.child,c=yL.bind(null,s),A._reactRetry=c,null):(s=T.treeContext,ei=va(A.nextSibling),Zr=c,Zt=!0,Fi=null,s!==null&&(vi[xi++]=Do,vi[xi++]=Oo,vi[xi++]=as,Do=s.id,Oo=s.overflow,as=c),c=Jy(c,x.children),c.flags|=4096,c)}function uT(s,c,m){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),Ny(s.return,c,m)}function Zy(s,c,m,x,A){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:A}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=A)}function dT(s,c,m){var x=c.pendingProps,A=x.revealOrder,T=x.tail;if(Er(s,c,x.children,m),x=on.current,x&2)x=x&1|2,c.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uT(s,m,c);else if(s.tag===19)uT(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(Vt(on,x),!(c.mode&1))c.memoizedState=null;else switch(A){case"forwards":for(m=c.child,A=null;m!==null;)s=m.alternate,s!==null&&Wf(s)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),Zy(c,!1,A,m,T);break;case"backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&Wf(s)===null){c.child=A;break}s=A.sibling,A.sibling=m,m=A,A=s}Zy(c,!0,m,null,T);break;case"together":Zy(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function th(s,c){!(c.mode&1)&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Mo(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),ds|=c.lanes,!(m&c.childLanes))return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,m=Na(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=Na(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function oL(s,c,m){switch(c.tag){case 3:sT(c),_l();break;case 5:Ak(c);break;case 1:Br(c.type)&&Bf(c);break;case 4:Dy(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,A=c.memoizedProps.value;Vt(zf,x._currentValue),x._currentValue=A;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Vt(on,on.current&1),c.flags|=128,null):m&c.child.childLanes?cT(s,c,m):(Vt(on,on.current&1),s=Mo(s,c,m),s!==null?s.sibling:null);Vt(on,on.current&1);break;case 19:if(x=(m&c.childLanes)!==0,s.flags&128){if(x)return dT(s,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Vt(on,on.current),x)break;return null;case 22:case 23:return c.lanes=0,iT(s,c,m)}return Mo(s,c,m)}var fT,ev,hT,pT;fT=function(s,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},ev=function(){},hT=function(s,c,m,x){var A=s.memoizedProps;if(A!==x){s=c.stateNode,cs(co.current);var T=null;switch(m){case"input":A=Pe(s,A),x=Pe(s,x),T=[];break;case"select":A=ee({},A,{value:void 0}),x=ee({},x,{value:void 0}),T=[];break;case"textarea":A=_t(s,A),x=_t(s,x),T=[];break;default:typeof A.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=jf)}re(m,x);var j;m=null;for(ae in A)if(!x.hasOwnProperty(ae)&&A.hasOwnProperty(ae)&&A[ae]!=null)if(ae==="style"){var U=A[ae];for(j in U)U.hasOwnProperty(j)&&(m||(m={}),m[j]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?T||(T=[]):(T=T||[]).push(ae,null));for(ae in x){var q=x[ae];if(U=A!=null?A[ae]:void 0,x.hasOwnProperty(ae)&&q!==U&&(q!=null||U!=null))if(ae==="style")if(U){for(j in U)!U.hasOwnProperty(j)||q&&q.hasOwnProperty(j)||(m||(m={}),m[j]="");for(j in q)q.hasOwnProperty(j)&&U[j]!==q[j]&&(m||(m={}),m[j]=q[j])}else m||(T||(T=[]),T.push(ae,m)),m=q;else ae==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,U=U?U.__html:void 0,q!=null&&U!==q&&(T=T||[]).push(ae,q)):ae==="children"?typeof q!="string"&&typeof q!="number"||(T=T||[]).push(ae,""+q):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(q!=null&&ae==="onScroll"&&Yt("scroll",s),T||U===q||(T=[])):(T=T||[]).push(ae,q))}m&&(T=T||[]).push("style",m);var ae=T;(c.updateQueue=ae)&&(c.flags|=4)}},pT=function(s,c,m,x){m!==x&&(c.flags|=4)};function vu(s,c){if(!Zt)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function fr(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,x=0;if(c)for(var A=s.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags&14680064,x|=A.flags&14680064,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)m|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=x,s.childLanes=m,c}function aL(s,c,m){var x=c.pendingProps;switch(Cy(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(c),null;case 1:return Br(c.type)&&Mf(),fr(c),null;case 3:return x=c.stateNode,Dl(),Qt(Mr),Qt(ur),Ry(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(Uf(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Fi!==null&&(dv(Fi),Fi=null))),ev(s,c),fr(c),null;case 5:Oy(c);var A=cs(hu.current);if(m=c.type,s!==null&&c.stateNode!=null)hT(s,c,m,x,A),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return fr(c),null}if(s=cs(co.current),Uf(c)){x=c.stateNode,m=c.type;var T=c.memoizedProps;switch(x[lo]=c,x[lu]=T,s=(c.mode&1)!==0,m){case"dialog":Yt("cancel",x),Yt("close",x);break;case"iframe":case"object":case"embed":Yt("load",x);break;case"video":case"audio":for(A=0;A<ou.length;A++)Yt(ou[A],x);break;case"source":Yt("error",x);break;case"img":case"image":case"link":Yt("error",x),Yt("load",x);break;case"details":Yt("toggle",x);break;case"input":Je(x,T),Yt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Yt("invalid",x);break;case"textarea":Cn(x,T),Yt("invalid",x)}re(m,T),A=null;for(var j in T)if(T.hasOwnProperty(j)){var U=T[j];j==="children"?typeof U=="string"?x.textContent!==U&&(T.suppressHydrationWarning!==!0&&Of(x.textContent,U,s),A=["children",U]):typeof U=="number"&&x.textContent!==""+U&&(T.suppressHydrationWarning!==!0&&Of(x.textContent,U,s),A=["children",""+U]):i.hasOwnProperty(j)&&U!=null&&j==="onScroll"&&Yt("scroll",x)}switch(m){case"input":ye(x),Et(x,T,!0);break;case"textarea":ye(x),Cr(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=jf)}x=A,c.updateQueue=x,x!==null&&(c.flags|=4)}else{j=A.nodeType===9?A:A.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=mn(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=j.createElement(m,{is:x.is}):(s=j.createElement(m),m==="select"&&(j=s,x.multiple?j.multiple=!0:x.size&&(j.size=x.size))):s=j.createElementNS(s,m),s[lo]=c,s[lu]=x,fT(s,c,!1,!1),c.stateNode=s;e:{switch(j=He(m,x),m){case"dialog":Yt("cancel",s),Yt("close",s),A=x;break;case"iframe":case"object":case"embed":Yt("load",s),A=x;break;case"video":case"audio":for(A=0;A<ou.length;A++)Yt(ou[A],s);A=x;break;case"source":Yt("error",s),A=x;break;case"img":case"image":case"link":Yt("error",s),Yt("load",s),A=x;break;case"details":Yt("toggle",s),A=x;break;case"input":Je(s,x),A=Pe(s,x),Yt("invalid",s);break;case"option":A=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},A=ee({},x,{value:void 0}),Yt("invalid",s);break;case"textarea":Cn(s,x),A=_t(s,x),Yt("invalid",s);break;default:A=x}re(m,A),U=A;for(T in U)if(U.hasOwnProperty(T)){var q=U[T];T==="style"?at(s,q):T==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ze(s,q)):T==="children"?typeof q=="string"?(m!=="textarea"||q!=="")&&Nt(s,q):typeof q=="number"&&Nt(s,""+q):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?q!=null&&T==="onScroll"&&Yt("scroll",s):q!=null&&k(s,T,q,j))}switch(m){case"input":ye(s),Et(s,x,!1);break;case"textarea":ye(s),Cr(s);break;case"option":x.value!=null&&s.setAttribute("value",""+te(x.value));break;case"select":s.multiple=!!x.multiple,T=x.value,T!=null?Ut(s,!!x.multiple,T,!1):x.defaultValue!=null&&Ut(s,!!x.multiple,x.defaultValue,!0);break;default:typeof A.onClick=="function"&&(s.onclick=jf)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return fr(c),null;case 6:if(s&&c.stateNode!=null)pT(s,c,s.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(m=cs(hu.current),cs(co.current),Uf(c)){if(x=c.stateNode,m=c.memoizedProps,x[lo]=c,(T=x.nodeValue!==m)&&(s=Zr,s!==null))switch(s.tag){case 3:Of(x.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Of(x.nodeValue,m,(s.mode&1)!==0)}T&&(c.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[lo]=c,c.stateNode=x}return fr(c),null;case 13:if(Qt(on),x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Zt&&ei!==null&&c.mode&1&&!(c.flags&128))yk(),_l(),c.flags|=98560,T=!1;else if(T=Uf(c),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[lo]=c}else _l(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;fr(c),T=!1}else Fi!==null&&(dv(Fi),Fi=null),T=!0;if(!T)return c.flags&65536?c:null}return c.flags&128?(c.lanes=m,c):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(c.child.flags|=8192,c.mode&1&&(s===null||on.current&1?Ln===0&&(Ln=3):pv())),c.updateQueue!==null&&(c.flags|=4),fr(c),null);case 4:return Dl(),ev(s,c),s===null&&au(c.stateNode.containerInfo),fr(c),null;case 10:return _y(c.type._context),fr(c),null;case 17:return Br(c.type)&&Mf(),fr(c),null;case 19:if(Qt(on),T=c.memoizedState,T===null)return fr(c),null;if(x=(c.flags&128)!==0,j=T.rendering,j===null)if(x)vu(T,!1);else{if(Ln!==0||s!==null&&s.flags&128)for(s=c.child;s!==null;){if(j=Wf(s),j!==null){for(c.flags|=128,vu(T,!1),x=j.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=m,m=c.child;m!==null;)T=m,s=x,T.flags&=14680066,j=T.alternate,j===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=j.childLanes,T.lanes=j.lanes,T.child=j.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=j.memoizedProps,T.memoizedState=j.memoizedState,T.updateQueue=j.updateQueue,T.type=j.type,s=j.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return Vt(on,on.current&1|2),c.child}s=s.sibling}T.tail!==null&&je()>Ml&&(c.flags|=128,x=!0,vu(T,!1),c.lanes=4194304)}else{if(!x)if(s=Wf(j),s!==null){if(c.flags|=128,x=!0,m=s.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),vu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!j.alternate&&!Zt)return fr(c),null}else 2*je()-T.renderingStartTime>Ml&&m!==1073741824&&(c.flags|=128,x=!0,vu(T,!1),c.lanes=4194304);T.isBackwards?(j.sibling=c.child,c.child=j):(m=T.last,m!==null?m.sibling=j:c.child=j,T.last=j)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=je(),c.sibling=null,m=on.current,Vt(on,x?m&1|2:m&1),c):(fr(c),null);case 22:case 23:return hv(),x=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(c.flags|=8192),x&&c.mode&1?ti&1073741824&&(fr(c),c.subtreeFlags&6&&(c.flags|=8192)):fr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function sL(s,c){switch(Cy(c),c.tag){case 1:return Br(c.type)&&Mf(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Dl(),Qt(Mr),Qt(ur),Ry(),s=c.flags,s&65536&&!(s&128)?(c.flags=s&-65537|128,c):null;case 5:return Oy(c),null;case 13:if(Qt(on),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));_l()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Qt(on),null;case 4:return Dl(),null;case 10:return _y(c.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var nh=!1,hr=!1,lL=typeof WeakSet=="function"?WeakSet:Set,Me=null;function jl(s,c){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){un(s,c,x)}else m.current=null}function tv(s,c,m){try{m()}catch(x){un(s,c,x)}}var mT=!1;function cL(s,c){if(hy=Cf,s=WA(),oy(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var A=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var j=0,U=-1,q=-1,ae=0,Ce=0,Ae=s,be=null;t:for(;;){for(var Oe;Ae!==m||A!==0&&Ae.nodeType!==3||(U=j+A),Ae!==T||x!==0&&Ae.nodeType!==3||(q=j+x),Ae.nodeType===3&&(j+=Ae.nodeValue.length),(Oe=Ae.firstChild)!==null;)be=Ae,Ae=Oe;for(;;){if(Ae===s)break t;if(be===m&&++ae===A&&(U=j),be===T&&++Ce===x&&(q=j),(Oe=Ae.nextSibling)!==null)break;Ae=be,be=Ae.parentNode}Ae=Oe}m=U===-1||q===-1?null:{start:U,end:q}}else m=null}m=m||{start:0,end:0}}else m=null;for(py={focusedElem:s,selectionRange:m},Cf=!1,Me=c;Me!==null;)if(c=Me,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Me=s;else for(;Me!==null;){c=Me;try{var Ue=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var ze=Ue.memoizedProps,yn=Ue.memoizedState,Z=c.stateNode,G=Z.getSnapshotBeforeUpdate(c.elementType===c.type?ze:Li(c.type,ze),yn);Z.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){un(c,c.return,_e)}if(s=c.sibling,s!==null){s.return=c.return,Me=s;break}Me=c.return}return Ue=mT,mT=!1,Ue}function xu(s,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&s)===s){var T=A.destroy;A.destroy=void 0,T!==void 0&&tv(c,m,T)}A=A.next}while(A!==x)}}function rh(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&s)===s){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function nv(s){var c=s.ref;if(c!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof c=="function"?c(s):c.current=s}}function gT(s){var c=s.alternate;c!==null&&(s.alternate=null,gT(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[lo],delete c[lu],delete c[vy],delete c[qF],delete c[VF])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function yT(s){return s.tag===5||s.tag===3||s.tag===4}function vT(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rv(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(s,c):m.insertBefore(s,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(s,m)):(c=m,c.appendChild(s)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=jf));else if(x!==4&&(s=s.child,s!==null))for(rv(s,c,m),s=s.sibling;s!==null;)rv(s,c,m),s=s.sibling}function iv(s,c,m){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(iv(s,c,m),s=s.sibling;s!==null;)iv(s,c,m),s=s.sibling}var tr=null,$i=!1;function Ea(s,c,m){for(m=m.child;m!==null;)xT(s,c,m),m=m.sibling}function xT(s,c,m){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Sr,m)}catch{}switch(m.tag){case 5:hr||jl(m,c);case 6:var x=tr,A=$i;tr=null,Ea(s,c,m),tr=x,$i=A,tr!==null&&($i?(s=tr,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):tr.removeChild(m.stateNode));break;case 18:tr!==null&&($i?(s=tr,m=m.stateNode,s.nodeType===8?yy(s.parentNode,m):s.nodeType===1&&yy(s,m),Xc(s)):yy(tr,m.stateNode));break;case 4:x=tr,A=$i,tr=m.stateNode.containerInfo,$i=!0,Ea(s,c,m),tr=x,$i=A;break;case 0:case 11:case 14:case 15:if(!hr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){A=x=x.next;do{var T=A,j=T.destroy;T=T.tag,j!==void 0&&(T&2||T&4)&&tv(m,c,j),A=A.next}while(A!==x)}Ea(s,c,m);break;case 1:if(!hr&&(jl(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(U){un(m,c,U)}Ea(s,c,m);break;case 21:Ea(s,c,m);break;case 22:m.mode&1?(hr=(x=hr)||m.memoizedState!==null,Ea(s,c,m),hr=x):Ea(s,c,m);break;default:Ea(s,c,m)}}function wT(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new lL),c.forEach(function(x){var A=vL.bind(null,s,x);m.has(x)||(m.add(x),x.then(A,A))})}}function Ui(s,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var A=m[x];try{var T=s,j=c,U=j;e:for(;U!==null;){switch(U.tag){case 5:tr=U.stateNode,$i=!1;break e;case 3:tr=U.stateNode.containerInfo,$i=!0;break e;case 4:tr=U.stateNode.containerInfo,$i=!0;break e}U=U.return}if(tr===null)throw Error(n(160));xT(T,j,A),tr=null,$i=!1;var q=A.alternate;q!==null&&(q.return=null),A.return=null}catch(ae){un(A,c,ae)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)bT(c,s),c=c.sibling}function bT(s,c){var m=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ui(c,s),fo(s),x&4){try{xu(3,s,s.return),rh(3,s)}catch(ze){un(s,s.return,ze)}try{xu(5,s,s.return)}catch(ze){un(s,s.return,ze)}}break;case 1:Ui(c,s),fo(s),x&512&&m!==null&&jl(m,m.return);break;case 5:if(Ui(c,s),fo(s),x&512&&m!==null&&jl(m,m.return),s.flags&32){var A=s.stateNode;try{Nt(A,"")}catch(ze){un(s,s.return,ze)}}if(x&4&&(A=s.stateNode,A!=null)){var T=s.memoizedProps,j=m!==null?m.memoizedProps:T,U=s.type,q=s.updateQueue;if(s.updateQueue=null,q!==null)try{U==="input"&&T.type==="radio"&&T.name!=null&&et(A,T),He(U,j);var ae=He(U,T);for(j=0;j<q.length;j+=2){var Ce=q[j],Ae=q[j+1];Ce==="style"?at(A,Ae):Ce==="dangerouslySetInnerHTML"?Ze(A,Ae):Ce==="children"?Nt(A,Ae):k(A,Ce,Ae,ae)}switch(U){case"input":ht(A,T);break;case"textarea":Bt(A,T);break;case"select":var be=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!T.multiple;var Oe=T.value;Oe!=null?Ut(A,!!T.multiple,Oe,!1):be!==!!T.multiple&&(T.defaultValue!=null?Ut(A,!!T.multiple,T.defaultValue,!0):Ut(A,!!T.multiple,T.multiple?[]:"",!1))}A[lu]=T}catch(ze){un(s,s.return,ze)}}break;case 6:if(Ui(c,s),fo(s),x&4){if(s.stateNode===null)throw Error(n(162));A=s.stateNode,T=s.memoizedProps;try{A.nodeValue=T}catch(ze){un(s,s.return,ze)}}break;case 3:if(Ui(c,s),fo(s),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Xc(c.containerInfo)}catch(ze){un(s,s.return,ze)}break;case 4:Ui(c,s),fo(s);break;case 13:Ui(c,s),fo(s),A=s.child,A.flags&8192&&(T=A.memoizedState!==null,A.stateNode.isHidden=T,!T||A.alternate!==null&&A.alternate.memoizedState!==null||(sv=je())),x&4&&wT(s);break;case 22:if(Ce=m!==null&&m.memoizedState!==null,s.mode&1?(hr=(ae=hr)||Ce,Ui(c,s),hr=ae):Ui(c,s),fo(s),x&8192){if(ae=s.memoizedState!==null,(s.stateNode.isHidden=ae)&&!Ce&&s.mode&1)for(Me=s,Ce=s.child;Ce!==null;){for(Ae=Me=Ce;Me!==null;){switch(be=Me,Oe=be.child,be.tag){case 0:case 11:case 14:case 15:xu(4,be,be.return);break;case 1:jl(be,be.return);var Ue=be.stateNode;if(typeof Ue.componentWillUnmount=="function"){x=be,m=be.return;try{c=x,Ue.props=c.memoizedProps,Ue.state=c.memoizedState,Ue.componentWillUnmount()}catch(ze){un(x,m,ze)}}break;case 5:jl(be,be.return);break;case 22:if(be.memoizedState!==null){ET(Ae);continue}}Oe!==null?(Oe.return=be,Me=Oe):ET(Ae)}Ce=Ce.sibling}e:for(Ce=null,Ae=s;;){if(Ae.tag===5){if(Ce===null){Ce=Ae;try{A=Ae.stateNode,ae?(T=A.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(U=Ae.stateNode,q=Ae.memoizedProps.style,j=q!=null&&q.hasOwnProperty("display")?q.display:null,U.style.display=Ye("display",j))}catch(ze){un(s,s.return,ze)}}}else if(Ae.tag===6){if(Ce===null)try{Ae.stateNode.nodeValue=ae?"":Ae.memoizedProps}catch(ze){un(s,s.return,ze)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===s)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===s)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===s)break e;Ce===Ae&&(Ce=null),Ae=Ae.return}Ce===Ae&&(Ce=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:Ui(c,s),fo(s),x&4&&wT(s);break;case 21:break;default:Ui(c,s),fo(s)}}function fo(s){var c=s.flags;if(c&2){try{e:{for(var m=s.return;m!==null;){if(yT(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var A=x.stateNode;x.flags&32&&(Nt(A,""),x.flags&=-33);var T=vT(s);iv(s,T,A);break;case 3:case 4:var j=x.stateNode.containerInfo,U=vT(s);rv(s,U,j);break;default:throw Error(n(161))}}catch(q){un(s,s.return,q)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function uL(s,c,m){Me=s,CT(s)}function CT(s,c,m){for(var x=(s.mode&1)!==0;Me!==null;){var A=Me,T=A.child;if(A.tag===22&&x){var j=A.memoizedState!==null||nh;if(!j){var U=A.alternate,q=U!==null&&U.memoizedState!==null||hr;U=nh;var ae=hr;if(nh=j,(hr=q)&&!ae)for(Me=A;Me!==null;)j=Me,q=j.child,j.tag===22&&j.memoizedState!==null?AT(A):q!==null?(q.return=j,Me=q):AT(A);for(;T!==null;)Me=T,CT(T),T=T.sibling;Me=A,nh=U,hr=ae}ST(s)}else A.subtreeFlags&8772&&T!==null?(T.return=A,Me=T):ST(s)}}function ST(s){for(;Me!==null;){var c=Me;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:hr||rh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!hr)if(m===null)x.componentDidMount();else{var A=c.elementType===c.type?m.memoizedProps:Li(c.type,m.memoizedProps);x.componentDidUpdate(A,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&Ek(c,T,x);break;case 3:var j=c.updateQueue;if(j!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}Ek(c,j,m)}break;case 5:var U=c.stateNode;if(m===null&&c.flags&4){m=U;var q=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&m.focus();break;case"img":q.src&&(m.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ae=c.alternate;if(ae!==null){var Ce=ae.memoizedState;if(Ce!==null){var Ae=Ce.dehydrated;Ae!==null&&Xc(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hr||c.flags&512&&nv(c)}catch(be){un(c,c.return,be)}}if(c===s){Me=null;break}if(m=c.sibling,m!==null){m.return=c.return,Me=m;break}Me=c.return}}function ET(s){for(;Me!==null;){var c=Me;if(c===s){Me=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Me=m;break}Me=c.return}}function AT(s){for(;Me!==null;){var c=Me;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{rh(4,c)}catch(q){un(c,m,q)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var A=c.return;try{x.componentDidMount()}catch(q){un(c,A,q)}}var T=c.return;try{nv(c)}catch(q){un(c,T,q)}break;case 5:var j=c.return;try{nv(c)}catch(q){un(c,j,q)}}}catch(q){un(c,c.return,q)}if(c===s){Me=null;break}var U=c.sibling;if(U!==null){U.return=c.return,Me=U;break}Me=c.return}}var dL=Math.ceil,ih=N.ReactCurrentDispatcher,ov=N.ReactCurrentOwner,Ci=N.ReactCurrentBatchConfig,St=0,qn=null,kn=null,nr=0,ti=0,Rl=xa(0),Ln=0,wu=null,ds=0,oh=0,av=0,bu=null,Lr=null,sv=0,Ml=1/0,Bo=null,ah=!1,lv=null,Aa=null,sh=!1,ka=null,lh=0,Cu=0,cv=null,ch=-1,uh=0;function Ar(){return St&6?je():ch!==-1?ch:ch=je()}function Ta(s){return s.mode&1?St&2&&nr!==0?nr&-nr:GF.transition!==null?(uh===0&&(uh=vA()),uh):(s=Dt,s!==0||(s=window.event,s=s===void 0?16:TA(s.type)),s):1}function Hi(s,c,m,x){if(50<Cu)throw Cu=0,cv=null,Error(n(185));Vc(s,m,x),(!(St&2)||s!==qn)&&(s===qn&&(!(St&2)&&(oh|=m),Ln===4&&_a(s,nr)),$r(s,x),m===1&&St===0&&!(c.mode&1)&&(Ml=je()+500,Ff&&ba()))}function $r(s,c){var m=s.callbackNode;GB(s,c);var x=xf(s,s===qn?nr:0);if(x===0)m!==null&&ve(m),s.callbackNode=null,s.callbackPriority=0;else if(c=x&-x,s.callbackPriority!==c){if(m!=null&&ve(m),c===1)s.tag===0?WF(TT.bind(null,s)):fk(TT.bind(null,s)),zF(function(){!(St&6)&&ba()}),m=null;else{switch(xA(x)){case 1:m=Ne;break;case 4:m=Pt;break;case 16:m=tt;break;case 536870912:m=qt;break;default:m=tt}m=RT(m,kT.bind(null,s))}s.callbackPriority=c,s.callbackNode=m}}function kT(s,c){if(ch=-1,uh=0,St&6)throw Error(n(327));var m=s.callbackNode;if(Bl()&&s.callbackNode!==m)return null;var x=xf(s,s===qn?nr:0);if(x===0)return null;if(x&30||x&s.expiredLanes||c)c=dh(s,x);else{c=x;var A=St;St|=2;var T=NT();(qn!==s||nr!==c)&&(Bo=null,Ml=je()+500,hs(s,c));do try{pL();break}catch(U){_T(s,U)}while(!0);Ty(),ih.current=T,St=A,kn!==null?c=0:(qn=null,nr=0,c=Ln)}if(c!==0){if(c===2&&(A=zg(s),A!==0&&(x=A,c=uv(s,A))),c===1)throw m=wu,hs(s,0),_a(s,x),$r(s,je()),m;if(c===6)_a(s,x);else{if(A=s.current.alternate,!(x&30)&&!fL(A)&&(c=dh(s,x),c===2&&(T=zg(s),T!==0&&(x=T,c=uv(s,T))),c===1))throw m=wu,hs(s,0),_a(s,x),$r(s,je()),m;switch(s.finishedWork=A,s.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:ps(s,Lr,Bo);break;case 3:if(_a(s,x),(x&130023424)===x&&(c=sv+500-je(),10<c)){if(xf(s,0)!==0)break;if(A=s.suspendedLanes,(A&x)!==x){Ar(),s.pingedLanes|=s.suspendedLanes&A;break}s.timeoutHandle=gy(ps.bind(null,s,Lr,Bo),c);break}ps(s,Lr,Bo);break;case 4:if(_a(s,x),(x&4194240)===x)break;for(c=s.eventTimes,A=-1;0<x;){var j=31-Mi(x);T=1<<j,j=c[j],j>A&&(A=j),x&=~T}if(x=A,x=je()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*dL(x/1960))-x,10<x){s.timeoutHandle=gy(ps.bind(null,s,Lr,Bo),x);break}ps(s,Lr,Bo);break;case 5:ps(s,Lr,Bo);break;default:throw Error(n(329))}}}return $r(s,je()),s.callbackNode===m?kT.bind(null,s):null}function uv(s,c){var m=bu;return s.current.memoizedState.isDehydrated&&(hs(s,c).flags|=256),s=dh(s,c),s!==2&&(c=Lr,Lr=m,c!==null&&dv(c)),s}function dv(s){Lr===null?Lr=s:Lr.push.apply(Lr,s)}function fL(s){for(var c=s;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var A=m[x],T=A.getSnapshot;A=A.value;try{if(!Bi(T(),A))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _a(s,c){for(c&=~av,c&=~oh,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var m=31-Mi(c),x=1<<m;s[m]=-1,c&=~x}}function TT(s){if(St&6)throw Error(n(327));Bl();var c=xf(s,0);if(!(c&1))return $r(s,je()),null;var m=dh(s,c);if(s.tag!==0&&m===2){var x=zg(s);x!==0&&(c=x,m=uv(s,x))}if(m===1)throw m=wu,hs(s,0),_a(s,c),$r(s,je()),m;if(m===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,ps(s,Lr,Bo),$r(s,je()),null}function fv(s,c){var m=St;St|=1;try{return s(c)}finally{St=m,St===0&&(Ml=je()+500,Ff&&ba())}}function fs(s){ka!==null&&ka.tag===0&&!(St&6)&&Bl();var c=St;St|=1;var m=Ci.transition,x=Dt;try{if(Ci.transition=null,Dt=1,s)return s()}finally{Dt=x,Ci.transition=m,St=c,!(St&6)&&ba()}}function hv(){ti=Rl.current,Qt(Rl)}function hs(s,c){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,HF(m)),kn!==null)for(m=kn.return;m!==null;){var x=m;switch(Cy(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Mf();break;case 3:Dl(),Qt(Mr),Qt(ur),Ry();break;case 5:Oy(x);break;case 4:Dl();break;case 13:Qt(on);break;case 19:Qt(on);break;case 10:_y(x.type._context);break;case 22:case 23:hv()}m=m.return}if(qn=s,kn=s=Na(s.current,null),nr=ti=c,Ln=0,wu=null,av=oh=ds=0,Lr=bu=null,ls!==null){for(c=0;c<ls.length;c++)if(m=ls[c],x=m.interleaved,x!==null){m.interleaved=null;var A=x.next,T=m.pending;if(T!==null){var j=T.next;T.next=A,x.next=j}m.pending=x}ls=null}return s}function _T(s,c){do{var m=kn;try{if(Ty(),Gf.current=Jf,Yf){for(var x=an.memoizedState;x!==null;){var A=x.queue;A!==null&&(A.pending=null),x=x.next}Yf=!1}if(us=0,Kn=Fn=an=null,pu=!1,mu=0,ov.current=null,m===null||m.return===null){Ln=1,wu=c,kn=null;break}e:{var T=s,j=m.return,U=m,q=c;if(c=nr,U.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=q,Ce=U,Ae=Ce.tag;if(!(Ce.mode&1)&&(Ae===0||Ae===11||Ae===15)){var be=Ce.alternate;be?(Ce.updateQueue=be.updateQueue,Ce.memoizedState=be.memoizedState,Ce.lanes=be.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Oe=Zk(j);if(Oe!==null){Oe.flags&=-257,eT(Oe,j,U,T,c),Oe.mode&1&&Jk(T,ae,c),c=Oe,q=ae;var Ue=c.updateQueue;if(Ue===null){var ze=new Set;ze.add(q),c.updateQueue=ze}else Ue.add(q);break e}else{if(!(c&1)){Jk(T,ae,c),pv();break e}q=Error(n(426))}}else if(Zt&&U.mode&1){var yn=Zk(j);if(yn!==null){!(yn.flags&65536)&&(yn.flags|=256),eT(yn,j,U,T,c),Ay(Ol(q,U));break e}}T=q=Ol(q,U),Ln!==4&&(Ln=2),bu===null?bu=[T]:bu.push(T),T=j;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var Z=Qk(T,q,c);Sk(T,Z);break e;case 1:U=q;var G=T.type,ne=T.stateNode;if(!(T.flags&128)&&(typeof G.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Aa===null||!Aa.has(ne)))){T.flags|=65536,c&=-c,T.lanes|=c;var _e=Xk(T,U,c);Sk(T,_e);break e}}T=T.return}while(T!==null)}IT(m)}catch(qe){c=qe,kn===m&&m!==null&&(kn=m=m.return);continue}break}while(!0)}function NT(){var s=ih.current;return ih.current=Jf,s===null?Jf:s}function pv(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),qn===null||!(ds&268435455)&&!(oh&268435455)||_a(qn,nr)}function dh(s,c){var m=St;St|=2;var x=NT();(qn!==s||nr!==c)&&(Bo=null,hs(s,c));do try{hL();break}catch(A){_T(s,A)}while(!0);if(Ty(),St=m,ih.current=x,kn!==null)throw Error(n(261));return qn=null,nr=0,Ln}function hL(){for(;kn!==null;)PT(kn)}function pL(){for(;kn!==null&&!De();)PT(kn)}function PT(s){var c=jT(s.alternate,s,ti);s.memoizedProps=s.pendingProps,c===null?IT(s):kn=c,ov.current=null}function IT(s){var c=s;do{var m=c.alternate;if(s=c.return,c.flags&32768){if(m=sL(m,c),m!==null){m.flags&=32767,kn=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ln=6,kn=null;return}}else if(m=aL(m,c,ti),m!==null){kn=m;return}if(c=c.sibling,c!==null){kn=c;return}kn=c=s}while(c!==null);Ln===0&&(Ln=5)}function ps(s,c,m){var x=Dt,A=Ci.transition;try{Ci.transition=null,Dt=1,mL(s,c,m,x)}finally{Ci.transition=A,Dt=x}return null}function mL(s,c,m,x){do Bl();while(ka!==null);if(St&6)throw Error(n(327));m=s.finishedWork;var A=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=m.lanes|m.childLanes;if(YB(s,T),s===qn&&(kn=qn=null,nr=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||sh||(sh=!0,RT(tt,function(){return Bl(),null})),T=(m.flags&15990)!==0,m.subtreeFlags&15990||T){T=Ci.transition,Ci.transition=null;var j=Dt;Dt=1;var U=St;St|=4,ov.current=null,cL(s,m),bT(m,s),RF(py),Cf=!!hy,py=hy=null,s.current=m,uL(m),$e(),St=U,Dt=j,Ci.transition=T}else s.current=m;if(sh&&(sh=!1,ka=s,lh=A),T=s.pendingLanes,T===0&&(Aa=null),Hg(m.stateNode),$r(s,je()),c!==null)for(x=s.onRecoverableError,m=0;m<c.length;m++)A=c[m],x(A.value,{componentStack:A.stack,digest:A.digest});if(ah)throw ah=!1,s=lv,lv=null,s;return lh&1&&s.tag!==0&&Bl(),T=s.pendingLanes,T&1?s===cv?Cu++:(Cu=0,cv=s):Cu=0,ba(),null}function Bl(){if(ka!==null){var s=xA(lh),c=Ci.transition,m=Dt;try{if(Ci.transition=null,Dt=16>s?16:s,ka===null)var x=!1;else{if(s=ka,ka=null,lh=0,St&6)throw Error(n(331));var A=St;for(St|=4,Me=s.current;Me!==null;){var T=Me,j=T.child;if(Me.flags&16){var U=T.deletions;if(U!==null){for(var q=0;q<U.length;q++){var ae=U[q];for(Me=ae;Me!==null;){var Ce=Me;switch(Ce.tag){case 0:case 11:case 15:xu(8,Ce,T)}var Ae=Ce.child;if(Ae!==null)Ae.return=Ce,Me=Ae;else for(;Me!==null;){Ce=Me;var be=Ce.sibling,Oe=Ce.return;if(gT(Ce),Ce===ae){Me=null;break}if(be!==null){be.return=Oe,Me=be;break}Me=Oe}}}var Ue=T.alternate;if(Ue!==null){var ze=Ue.child;if(ze!==null){Ue.child=null;do{var yn=ze.sibling;ze.sibling=null,ze=yn}while(ze!==null)}}Me=T}}if(T.subtreeFlags&2064&&j!==null)j.return=T,Me=j;else e:for(;Me!==null;){if(T=Me,T.flags&2048)switch(T.tag){case 0:case 11:case 15:xu(9,T,T.return)}var Z=T.sibling;if(Z!==null){Z.return=T.return,Me=Z;break e}Me=T.return}}var G=s.current;for(Me=G;Me!==null;){j=Me;var ne=j.child;if(j.subtreeFlags&2064&&ne!==null)ne.return=j,Me=ne;else e:for(j=G;Me!==null;){if(U=Me,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:rh(9,U)}}catch(qe){un(U,U.return,qe)}if(U===j){Me=null;break e}var _e=U.sibling;if(_e!==null){_e.return=U.return,Me=_e;break e}Me=U.return}}if(St=A,ba(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Sr,s)}catch{}x=!0}return x}finally{Dt=m,Ci.transition=c}}return!1}function DT(s,c,m){c=Ol(m,c),c=Qk(s,c,1),s=Sa(s,c,1),c=Ar(),s!==null&&(Vc(s,1,c),$r(s,c))}function un(s,c,m){if(s.tag===3)DT(s,s,m);else for(;c!==null;){if(c.tag===3){DT(c,s,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Aa===null||!Aa.has(x))){s=Ol(m,s),s=Xk(c,s,1),c=Sa(c,s,1),s=Ar(),c!==null&&(Vc(c,1,s),$r(c,s));break}}c=c.return}}function gL(s,c,m){var x=s.pingCache;x!==null&&x.delete(c),c=Ar(),s.pingedLanes|=s.suspendedLanes&m,qn===s&&(nr&m)===m&&(Ln===4||Ln===3&&(nr&130023424)===nr&&500>je()-sv?hs(s,0):av|=m),$r(s,c)}function OT(s,c){c===0&&(s.mode&1?(c=vf,vf<<=1,!(vf&130023424)&&(vf=4194304)):c=1);var m=Ar();s=jo(s,c),s!==null&&(Vc(s,c,m),$r(s,m))}function yL(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),OT(s,m)}function vL(s,c){var m=0;switch(s.tag){case 13:var x=s.stateNode,A=s.memoizedState;A!==null&&(m=A.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),OT(s,m)}var jT;jT=function(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps||Mr.current)Fr=!0;else{if(!(s.lanes&m)&&!(c.flags&128))return Fr=!1,oL(s,c,m);Fr=!!(s.flags&131072)}else Fr=!1,Zt&&c.flags&1048576&&hk(c,$f,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;th(s,c),s=c.pendingProps;var A=Al(c,ur.current);Il(c,m),A=Fy(null,c,x,s,A,m);var T=Ly();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Br(x)?(T=!0,Bf(c)):T=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Iy(c),A.updater=Zf,c.stateNode=A,A._reactInternals=c,qy(c,x,s,m),c=Yy(null,c,x,!0,T,m)):(c.tag=0,Zt&&T&&by(c),Er(null,c,A,m),c=c.child),c;case 16:x=c.elementType;e:{switch(th(s,c),s=c.pendingProps,A=x._init,x=A(x._payload),c.type=x,A=c.tag=wL(x),s=Li(x,s),A){case 0:c=Gy(null,c,x,s,m);break e;case 1:c=aT(null,c,x,s,m);break e;case 11:c=tT(null,c,x,s,m);break e;case 14:c=nT(null,c,x,Li(x.type,s),m);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,A=c.pendingProps,A=c.elementType===x?A:Li(x,A),Gy(s,c,x,A,m);case 1:return x=c.type,A=c.pendingProps,A=c.elementType===x?A:Li(x,A),aT(s,c,x,A,m);case 3:e:{if(sT(c),s===null)throw Error(n(387));x=c.pendingProps,T=c.memoizedState,A=T.element,Ck(s,c),Vf(c,x,null,m);var j=c.memoizedState;if(x=j.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){A=Ol(Error(n(423)),c),c=lT(s,c,x,m,A);break e}else if(x!==A){A=Ol(Error(n(424)),c),c=lT(s,c,x,m,A);break e}else for(ei=va(c.stateNode.containerInfo.firstChild),Zr=c,Zt=!0,Fi=null,m=wk(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(_l(),x===A){c=Mo(s,c,m);break e}Er(s,c,x,m)}c=c.child}return c;case 5:return Ak(c),s===null&&Ey(c),x=c.type,A=c.pendingProps,T=s!==null?s.memoizedProps:null,j=A.children,my(x,A)?j=null:T!==null&&my(x,T)&&(c.flags|=32),oT(s,c),Er(s,c,j,m),c.child;case 6:return s===null&&Ey(c),null;case 13:return cT(s,c,m);case 4:return Dy(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=Nl(c,null,x,m):Er(s,c,x,m),c.child;case 11:return x=c.type,A=c.pendingProps,A=c.elementType===x?A:Li(x,A),tT(s,c,x,A,m);case 7:return Er(s,c,c.pendingProps,m),c.child;case 8:return Er(s,c,c.pendingProps.children,m),c.child;case 12:return Er(s,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,A=c.pendingProps,T=c.memoizedProps,j=A.value,Vt(zf,x._currentValue),x._currentValue=j,T!==null)if(Bi(T.value,j)){if(T.children===A.children&&!Mr.current){c=Mo(s,c,m);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var U=T.dependencies;if(U!==null){j=T.child;for(var q=U.firstContext;q!==null;){if(q.context===x){if(T.tag===1){q=Ro(-1,m&-m),q.tag=2;var ae=T.updateQueue;if(ae!==null){ae=ae.shared;var Ce=ae.pending;Ce===null?q.next=q:(q.next=Ce.next,Ce.next=q),ae.pending=q}}T.lanes|=m,q=T.alternate,q!==null&&(q.lanes|=m),Ny(T.return,m,c),U.lanes|=m;break}q=q.next}}else if(T.tag===10)j=T.type===c.type?null:T.child;else if(T.tag===18){if(j=T.return,j===null)throw Error(n(341));j.lanes|=m,U=j.alternate,U!==null&&(U.lanes|=m),Ny(j,m,c),j=T.sibling}else j=T.child;if(j!==null)j.return=T;else for(j=T;j!==null;){if(j===c){j=null;break}if(T=j.sibling,T!==null){T.return=j.return,j=T;break}j=j.return}T=j}Er(s,c,A.children,m),c=c.child}return c;case 9:return A=c.type,x=c.pendingProps.children,Il(c,m),A=wi(A),x=x(A),c.flags|=1,Er(s,c,x,m),c.child;case 14:return x=c.type,A=Li(x,c.pendingProps),A=Li(x.type,A),nT(s,c,x,A,m);case 15:return rT(s,c,c.type,c.pendingProps,m);case 17:return x=c.type,A=c.pendingProps,A=c.elementType===x?A:Li(x,A),th(s,c),c.tag=1,Br(x)?(s=!0,Bf(c)):s=!1,Il(c,m),Gk(c,x,A),qy(c,x,A,m),Yy(null,c,x,!0,s,m);case 19:return dT(s,c,m);case 22:return iT(s,c,m)}throw Error(n(156,c.tag))};function RT(s,c){return pe(s,c)}function xL(s,c,m,x){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(s,c,m,x){return new xL(s,c,m,x)}function mv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wL(s){if(typeof s=="function")return mv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===X)return 14}return 2}function Na(s,c){var m=s.alternate;return m===null?(m=Si(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function fh(s,c,m,x,A,T){var j=2;if(x=s,typeof s=="function")mv(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case D:return ms(m.children,A,T,c);case R:j=8,A|=8;break;case F:return s=Si(12,m,c,A|2),s.elementType=F,s.lanes=T,s;case L:return s=Si(13,m,c,A),s.elementType=L,s.lanes=T,s;case H:return s=Si(19,m,c,A),s.elementType=H,s.lanes=T,s;case ie:return hh(m,A,T,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:j=10;break e;case B:j=9;break e;case $:j=11;break e;case X:j=14;break e;case se:j=16,x=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return c=Si(j,m,c,A),c.elementType=s,c.type=x,c.lanes=T,c}function ms(s,c,m,x){return s=Si(7,s,x,c),s.lanes=m,s}function hh(s,c,m,x){return s=Si(22,s,x,c),s.elementType=ie,s.lanes=m,s.stateNode={isHidden:!1},s}function gv(s,c,m){return s=Si(6,s,null,c),s.lanes=m,s}function yv(s,c,m){return c=Si(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function bL(s,c,m,x,A){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kg(0),this.expirationTimes=Kg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kg(0),this.identifierPrefix=x,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function vv(s,c,m,x,A,T,j,U,q){return s=new bL(s,c,m,U,q),c===1?(c=1,T===!0&&(c|=8)):c=0,T=Si(3,null,null,c),s.current=T,T.stateNode=s,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iy(T),s}function CL(s,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:s,containerInfo:c,implementation:m}}function MT(s){if(!s)return wa;s=s._reactInternals;e:{if(Xr(s)!==s||s.tag!==1)throw Error(n(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Br(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(s.tag===1){var m=s.type;if(Br(m))return uk(s,m,c)}return c}function BT(s,c,m,x,A,T,j,U,q){return s=vv(m,x,!0,s,A,T,j,U,q),s.context=MT(null),m=s.current,x=Ar(),A=Ta(m),T=Ro(x,A),T.callback=c??null,Sa(m,T,A),s.current.lanes=A,Vc(s,A,x),$r(s,x),s}function ph(s,c,m,x){var A=c.current,T=Ar(),j=Ta(A);return m=MT(m),c.context===null?c.context=m:c.pendingContext=m,c=Ro(T,j),c.payload={element:s},x=x===void 0?null:x,x!==null&&(c.callback=x),s=Sa(A,c,j),s!==null&&(Hi(s,A,j,T),qf(s,A,j)),j}function mh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function FT(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function xv(s,c){FT(s,c),(s=s.alternate)&&FT(s,c)}var LT=typeof reportError=="function"?reportError:function(s){console.error(s)};function wv(s){this._internalRoot=s}gh.prototype.render=wv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));ph(s,c,null,null)},gh.prototype.unmount=wv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;fs(function(){ph(null,s,null,null)}),c[Po]=null}};function gh(s){this._internalRoot=s}gh.prototype.unstable_scheduleHydration=function(s){if(s){var c=CA();s={blockedOn:null,target:s,priority:c};for(var m=0;m<ma.length&&c!==0&&c<ma[m].priority;m++);ma.splice(m,0,s),m===0&&AA(s)}};function bv(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function yh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $T(){}function SL(s,c,m,x,A){if(A){if(typeof x=="function"){var T=x;x=function(){var ae=mh(j);T.call(ae)}}var j=BT(c,x,s,0,null,!1,!1,"",$T);return s._reactRootContainer=j,s[Po]=j.current,au(s.nodeType===8?s.parentNode:s),fs(),j}for(;A=s.lastChild;)s.removeChild(A);if(typeof x=="function"){var U=x;x=function(){var ae=mh(q);U.call(ae)}}var q=vv(s,0,!1,null,null,!1,!1,"",$T);return s._reactRootContainer=q,s[Po]=q.current,au(s.nodeType===8?s.parentNode:s),fs(function(){ph(c,q,m,x)}),q}function vh(s,c,m,x,A){var T=m._reactRootContainer;if(T){var j=T;if(typeof A=="function"){var U=A;A=function(){var q=mh(j);U.call(q)}}ph(c,j,s,A)}else j=SL(m,c,s,A,x);return mh(j)}wA=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var m=qc(c.pendingLanes);m!==0&&(qg(c,m|1),$r(c,je()),!(St&6)&&(Ml=je()+500,ba()))}break;case 13:fs(function(){var x=jo(s,1);if(x!==null){var A=Ar();Hi(x,s,1,A)}}),xv(s,1)}},Vg=function(s){if(s.tag===13){var c=jo(s,134217728);if(c!==null){var m=Ar();Hi(c,s,134217728,m)}xv(s,134217728)}},bA=function(s){if(s.tag===13){var c=Ta(s),m=jo(s,c);if(m!==null){var x=Ar();Hi(m,s,c,x)}xv(s,c)}},CA=function(){return Dt},SA=function(s,c){var m=Dt;try{return Dt=s,c()}finally{Dt=m}},wt=function(s,c,m){switch(c){case"input":if(ht(s,m),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==s&&x.form===s.form){var A=Rf(x);if(!A)throw Error(n(90));le(x),ht(x,A)}}}break;case"textarea":Bt(s,m);break;case"select":c=m.value,c!=null&&Ut(s,!!m.multiple,c,!1)}},gt=fv,rn=fs;var EL={usingClientEntryPoint:!1,Events:[cu,Sl,Rf,Kt,En,fv]},Su={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AL={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ug(s),s===null?null:s.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Sr=xh.inject(AL),An=xh}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EL,Ur.createPortal=function(s,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(c))throw Error(n(200));return CL(s,c,null,m)},Ur.createRoot=function(s,c){if(!bv(s))throw Error(n(299));var m=!1,x="",A=LT;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=vv(s,1,!1,null,null,m,!1,x,A),s[Po]=c.current,au(s.nodeType===8?s.parentNode:s),new wv(c)},Ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ug(c),s=s===null?null:s.stateNode,s},Ur.flushSync=function(s){return fs(s)},Ur.hydrate=function(s,c,m){if(!yh(c))throw Error(n(200));return vh(null,s,c,!0,m)},Ur.hydrateRoot=function(s,c,m){if(!bv(s))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,A=!1,T="",j=LT;if(m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(j=m.onRecoverableError)),c=BT(c,null,s,1,m??null,A,!1,T,j),s[Po]=c.current,au(s),x)for(s=0;s<x.length;s++)m=x[s],A=m._getVersion,A=A(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,A]:c.mutableSourceEagerHydrationData.push(m,A);return new gh(c)},Ur.render=function(s,c,m){if(!yh(c))throw Error(n(200));return vh(null,s,c,!1,m)},Ur.unmountComponentAtNode=function(s){if(!yh(s))throw Error(n(40));return s._reactRootContainer?(fs(function(){vh(null,null,s,!1,function(){s._reactRootContainer=null,s[Po]=null})}),!0):!1},Ur.unstable_batchedUpdates=fv,Ur.unstable_renderSubtreeIntoContainer=function(s,c,m,x){if(!yh(m))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return vh(s,c,m,!1,x)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var GT;function ej(){if(GT)return Av.exports;GT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Av.exports=RL(),Av.exports}var YT;function ML(){if(YT)return bh;YT=1;var t=ej();return bh.createRoot=t.createRoot,bh.hydrateRoot=t.hydrateRoot,bh}var BL=ML(),Au={},QT;function FL(){if(QT)return Au;QT=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=a,Au.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,y){const v=new o,w=g.length;if(w<2)return v;const b=(y==null?void 0:y.decode)||f;let E=0;do{const C=g.indexOf("=",E);if(C===-1)break;const k=g.indexOf(";",E),N=k===-1?w:k;if(C>N){E=g.lastIndexOf(";",C-1)+1;continue}const _=l(g,E,C),P=u(g,C,_),D=g.slice(_,P);if(v[D]===void 0){let R=l(g,C+1,N),F=u(g,N,R);const O=b(g.slice(R,F));v[D]=O}E=N+1}while(E<w);return v}function l(g,y,v){do{const w=g.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function u(g,y,v){for(;y>v;){const w=g.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function d(g,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const b=w(y);if(!e.test(b))throw new TypeError(`argument val is invalid: ${y}`);let E=g+"="+b;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!p(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Au}FL();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XT="popstate";function LL(t={}){function e(r,i){let{pathname:o,search:a,hash:l}=r.location;return $w("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ad(i)}return UL(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $L(){return Math.random().toString(36).substring(2,10)}function JT(t,e){return{usr:t.state,key:t.key,idx:e}}function $w(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sc(e):e,state:n,key:e&&e.key||r||$L()}}function ad({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let b=f(),E=b==null?null:b-d;d=b,u&&u({action:l,location:w.location,delta:E})}function g(b,E){l="PUSH";let C=$w(w.location,b,E);d=f()+1;let k=JT(C,d),N=w.createHref(C);try{a.pushState(k,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(N)}o&&u&&u({action:l,location:w.location,delta:1})}function y(b,E){l="REPLACE";let C=$w(w.location,b,E);d=f();let k=JT(C,d),N=w.createHref(C);a.replaceState(k,"",N),o&&u&&u({action:l,location:w.location,delta:0})}function v(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof b=="string"?b:ad(b);return C=C.replace(/ $/,"%20"),nn(E,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,E)}let w={get action(){return l},get location(){return t(i,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(XT,p),u=b,()=>{i.removeEventListener(XT,p),u=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let E=v(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(b){return a.go(b)}};return w}function tj(t,e,n="/"){return HL(t,e,n,!1)}function HL(t,e,n,r){let i=typeof e=="string"?Sc(e):e,o=Va(i.pathname||"/",n);if(o==null)return null;let a=nj(t);zL(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=e$(o);l=JL(a[u],d,r)}return l}function nj(t,e=[],n=[],r=""){let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(nn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Vo([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(nn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),nj(o.children,e,f,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:QL(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of rj(o.path))i(o,a,u)}),e}function rj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=rj(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function zL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KL=/^:[\w-]+$/,qL=3,VL=2,WL=1,GL=10,YL=-2,ZT=t=>t==="*";function QL(t,e){let n=t.split("/"),r=n.length;return n.some(ZT)&&(r+=YL),e&&(r+=VL),n.filter(i=>!ZT(i)).reduce((i,o)=>i+(KL.test(o)?qL:o===""?WL:GL),r)}function XL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function JL(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=X0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=X0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Vo([o,p.pathname]),pathnameBase:i$(Vo([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=Vo([o,p.pathnameBase]))}return a}function X0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let v=l[g]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function ZL(t,e=!1,n=!0){Qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Va(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function t$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sc(t):t;return{pathname:n?n.startsWith("/")?n:n$(n,e):e,search:o$(r),hash:a$(i)}}function n$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _v(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I1(t){let e=r$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function D1(t,e,n,r=!1){let i;typeof t=="string"?i=Sc(t):(i={...t},nn(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=t$(i,l),d=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Vo=t=>t.join("/").replace(/\/\/+/g,"/"),i$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ij=["POST","PUT","PATCH","DELETE"];new Set(ij);var l$=["GET",...ij];new Set(l$);var Ec=S.createContext(null);Ec.displayName="DataRouter";var _m=S.createContext(null);_m.displayName="DataRouterState";var oj=S.createContext({isTransitioning:!1});oj.displayName="ViewTransition";var c$=S.createContext(new Map);c$.displayName="Fetchers";var u$=S.createContext(null);u$.displayName="Await";var to=S.createContext(null);to.displayName="Navigation";var $d=S.createContext(null);$d.displayName="Location";var no=S.createContext({outlet:null,matches:[],isDataRoute:!1});no.displayName="Route";var O1=S.createContext(null);O1.displayName="RouteError";function d$(t,{relative:e}={}){nn(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(to),{hash:i,pathname:o,search:a}=Ud(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:Vo([n,o])),r.createHref({pathname:l,search:a,hash:i})}function Ac(){return S.useContext($d)!=null}function _o(){return nn(Ac(),"useLocation() may be used only in the context of a <Router> component."),S.useContext($d).location}var aj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sj(t){S.useContext(to).static||S.useLayoutEffect(t)}function oa(){let{isDataRoute:t}=S.useContext(no);return t?k$():f$()}function f$(){nn(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ec),{basename:e,navigator:n}=S.useContext(to),{matches:r}=S.useContext(no),{pathname:i}=_o(),o=JSON.stringify(I1(r)),a=S.useRef(!1);return sj(()=>{a.current=!0}),S.useCallback((u,d={})=>{if(Qi(a.current,aj),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=D1(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}var h$=S.createContext(null);function p$(t){let e=S.useContext(no).outlet;return e&&S.createElement(h$.Provider,{value:t},e)}function Ud(t,{relative:e}={}){let{matches:n}=S.useContext(no),{pathname:r}=_o(),i=JSON.stringify(I1(n));return S.useMemo(()=>D1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function m$(t,e){return lj(t,e)}function lj(t,e,n,r){var E;nn(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(to),{matches:o}=S.useContext(no),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let C=f&&f.path||"";cj(u,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=_o(),g;if(e){let C=typeof e=="string"?Sc(e):e;nn(d==="/"||((E=C.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=p;let y=g.pathname||"/",v=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=tj(t,{pathname:v});Qi(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Qi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=w$(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Vo([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Vo([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&b?S.createElement($d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},b):b}function g$(){let t=A$(),e=s$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,a)}var y$=S.createElement(g$,null),v$=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?S.createElement(no.Provider,{value:this.props.routeContext},S.createElement(O1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x$({routeContext:t,match:e,children:n}){let r=S.useContext(Ec);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(no.Provider,{value:t},n)}function w$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);nn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let p,g=!1,y=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||y$,a&&(l<0&&f===0?(cj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),b=()=>{let E;return p?E=y:g?E=v:d.route.Component?E=S.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,S.createElement(x$,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(v$,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}function j1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b$(t){let e=S.useContext(Ec);return nn(e,j1(t)),e}function C$(t){let e=S.useContext(_m);return nn(e,j1(t)),e}function S$(t){let e=S.useContext(no);return nn(e,j1(t)),e}function R1(t){let e=S$(t),n=e.matches[e.matches.length-1];return nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function E$(){return R1("useRouteId")}function A$(){var r;let t=S.useContext(O1),e=C$("useRouteError"),n=R1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function k$(){let{router:t}=b$("useNavigate"),e=R1("useNavigate"),n=S.useRef(!1);return sj(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{Qi(n.current,aj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var e_={};function cj(t,e,n){!e&&!e_[t]&&(e_[t]=!0,Qi(!1,n))}S.memo(T$);function T$({routes:t,future:e,state:n}){return lj(t,void 0,n,e)}function t_({to:t,replace:e,state:n,relative:r}){nn(Ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(to);Qi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(no),{pathname:a}=_o(),l=oa(),u=D1(t,I1(o),a,r==="path"),d=JSON.stringify(u);return S.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function _$(t){return p$(t.context)}function ni(t){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){nn(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Sc(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,y=S.useMemo(()=>{let v=Va(u,a);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:g},navigationType:r}},[a,u,d,f,p,g,r]);return Qi(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:S.createElement(to.Provider,{value:l},S.createElement($d.Provider,{children:e,value:y}))}function P$({children:t,location:e}){return m$(Uw(t),e)}function Uw(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let o=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Uw(r.props.children,o));return}nn(r.type===ni,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Uw(r.props.children,o)),n.push(a)}),n}var e0="get",t0="application/x-www-form-urlencoded";function Nm(t){return t!=null&&typeof t.tagName=="string"}function I$(t){return Nm(t)&&t.tagName.toLowerCase()==="button"}function D$(t){return Nm(t)&&t.tagName.toLowerCase()==="form"}function O$(t){return Nm(t)&&t.tagName.toLowerCase()==="input"}function j$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R$(t,e){return t.button===0&&(!e||e==="_self")&&!j$(t)}var Ch=null;function M$(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var B$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nv(t){return t!=null&&!B$.has(t)?(Qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${t0}"`),null):t}function F$(t,e){let n,r,i,o,a;if(D$(t)){let l=t.getAttribute("action");r=l?Va(l,e):null,n=t.getAttribute("method")||e0,i=Nv(t.getAttribute("enctype"))||t0,o=new FormData(t)}else if(I$(t)||O$(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Va(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||e0,i=Nv(t.getAttribute("formenctype"))||Nv(l.getAttribute("enctype"))||t0,o=new FormData(l,t),!M$()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else d&&o.append(d,p)}}else{if(Nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=e0,r=null,i=t0,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function M1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function L$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function U$(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await L$(o,n);return a.links?a.links():[]}return[]}));return q$(r.flat(1).filter($$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n_(t,e,n,r,i,o){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):o==="data"?e.filter((u,d)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function H$(t,e){return z$(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function z$(t){return[...new Set(t)]}function K$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function q$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(K$(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function V$(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function W$(){let t=S.useContext(Ec);return M1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G$(){let t=S.useContext(_m);return M1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var B1=S.createContext(void 0);B1.displayName="FrameworkContext";function uj(){let t=S.useContext(B1);return M1(t,"You must render this element inside a <HydratedRouter> element"),t}function Y$(t,e){let n=S.useContext(B1),[r,i]=S.useState(!1),[o,a]=S.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=E=>{E.forEach(C=>{a(C.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),S.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:ku(l,y),onBlur:ku(u,v),onMouseEnter:ku(d,y),onMouseLeave:ku(f,v),onTouchStart:ku(p,y)}]:[!1,g,{}]}function ku(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Q$({page:t,...e}){let{router:n}=W$(),r=S.useMemo(()=>tj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(J$,{page:t,matches:r,...e}):null}function X$(t){let{manifest:e,routeModules:n}=uj(),[r,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return U$(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function J$({page:t,matches:e,...n}){let r=_o(),{manifest:i,routeModules:o}=uj(),{loaderData:a,matches:l}=G$(),u=S.useMemo(()=>n_(t,e,l,i,r,"data"),[t,e,l,i,r]),d=S.useMemo(()=>n_(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(b=>{var C;let E=i.routes[b.route.id];!E||!E.hasLoader||(!u.some(k=>k.route.id===b.route.id)&&b.route.id in a&&((C=o[b.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?v=!0:y.add(b.route.id))}),y.size===0)return[];let w=V$(t);return v&&y.size>0&&w.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[a,r,i,u,e,t,o]),p=S.useMemo(()=>H$(d,i),[d,i]),g=X$(d);return S.createElement(S.Fragment,null,f.map(y=>S.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>S.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:v})=>S.createElement("link",{key:y,...v})))}function Z$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dj&&(window.__reactRouterVersion="7.1.1")}catch{}function eU({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=LL({window:n,v5Compat:!0}));let i=r.current,[o,a]=S.useState({action:i.action,location:i.location}),l=S.useCallback(u=>{S.startTransition(()=>a(u))},[a]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(N$,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var fj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F1=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:l,target:u,to:d,preventScrollReset:f,viewTransition:p,...g},y){let{basename:v}=S.useContext(to),w=typeof d=="string"&&fj.test(d),b,E=!1;if(typeof d=="string"&&w&&(b=d,dj))try{let F=new URL(window.location.href),O=d.startsWith("//")?new URL(F.protocol+d):new URL(d),B=Va(O.pathname,v);O.origin===F.origin&&B!=null?d=B+O.search+O.hash:E=!0}catch{Qi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=d$(d,{relative:i}),[k,N,_]=Y$(r,g),P=iU(d,{replace:a,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function D(F){e&&e(F),F.defaultPrevented||P(F)}let R=S.createElement("a",{...g,..._,href:b||C,onClick:E||o?e:D,ref:Z$(y,N),target:u,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?S.createElement(S.Fragment,null,R,S.createElement(Q$,{page:C})):R});F1.displayName="Link";var tU=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:l,children:u,...d},f){let p=Ud(a,{relative:d.relative}),g=_o(),y=S.useContext(_m),{navigator:v,basename:w}=S.useContext(to),b=y!=null&&cU(p)&&l===!0,E=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,C=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&w&&(k=Va(k,w)||k);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let _=C===E||!i&&C.startsWith(E)&&C.charAt(N)==="/",P=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),D={isActive:_,isPending:P,isTransitioning:b},R=_?e:void 0,F;typeof r=="function"?F=r(D):F=[r,_?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(D):o;return S.createElement(F1,{...d,"aria-current":R,className:F,ref:f,style:O,to:a,viewTransition:l},typeof u=="function"?u(D):u)});tU.displayName="NavLink";var nU=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=e0,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,...g},y)=>{let v=sU(),w=lU(l,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&fj.test(l),C=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,_=(N==null?void 0:N.getAttribute("formmethod"))||a;v(N||k.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:i,state:o,relative:d,preventScrollReset:f,viewTransition:p})};return S.createElement("form",{ref:y,method:b,action:w,onSubmit:r?u:C,...g,"data-discover":!E&&t==="render"?"true":void 0})});nU.displayName="Form";function rU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hj(t){let e=S.useContext(Ec);return nn(e,rU(t)),e}function iU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let l=oa(),u=_o(),d=Ud(t,{relative:o});return S.useCallback(f=>{if(R$(f,e)){f.preventDefault();let p=n!==void 0?n:ad(u)===ad(d);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,r,e,t,i,o,a])}var oU=0,aU=()=>`__${String(++oU)}__`;function sU(){let{router:t}=hj("useSubmit"),{basename:e}=S.useContext(to),n=E$();return S.useCallback(async(r,i={})=>{let{action:o,method:a,encType:l,formData:u,body:d}=F$(r,e);if(i.navigate===!1){let f=i.fetcherKey||aU();await t.fetch(f,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function lU(t,{relative:e}={}){let{basename:n}=S.useContext(to),r=S.useContext(no);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ud(t||".",{relative:e})},a=_o();if(t==null){o.search=a.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vo([n,o.pathname])),ad(o)}function cU(t,e={}){let n=S.useContext(oj);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hj("useViewTransitionState"),i=Ud(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Va(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return X0(i.pathname,a)!=null||X0(i.pathname,o)!=null}new TextEncoder;var uU=ej();/*! @azure/msal-common v15.6.0 2025-05-06 */const ge={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Sh={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Hd=[ge.OPENID_SCOPE,ge.PROFILE_SCOPE,ge.OFFLINE_ACCESS_SCOPE],r_=[...Hd,ge.EMAIL_SCOPE],Tr={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},i_={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Ua={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Eh={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},sr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},o_={PLAIN:"plain",S256:"S256"},pj={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Pm={QUERY:"query",FRAGMENT:"fragment"},dU={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},mj={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Ah={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},gr={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},dt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},L1="appmetadata",fU="client_info",Vu="1",J0={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ri={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},rr={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Lt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Wu={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},a_={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},kh={httpSuccess:200,httpBadRequest:400},Fl={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Pv={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},vs={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},hU={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},pU=300;/*! @azure/msal-common v15.6.0 2025-05-06 */const $1="unexpected_error",mU="post_request_failed";/*! @azure/msal-common v15.6.0 2025-05-06 */const s_={[$1]:"Unexpected error in authentication.",[mU]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Gt extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,Gt.prototype),this.errorCode=e||ge.EMPTY_STRING,this.errorMessage=n||ge.EMPTY_STRING,this.subError=r||ge.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function gj(t,e){return new Gt(t,e?`${s_[t]} ${e}`:s_[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */const U1="client_info_decoding_error",yj="client_info_empty_error",H1="token_parsing_error",vj="null_or_empty_token",$o="endpoints_resolution_error",xj="network_error",wj="openid_config_error",bj="hash_not_deserialized",nc="invalid_state",Cj="state_mismatch",Hw="state_not_found",Sj="nonce_mismatch",z1="auth_time_not_found",Ej="max_age_transpired",gU="multiple_matching_tokens",yU="multiple_matching_accounts",Aj="multiple_matching_appMetadata",kj="request_cannot_be_made",Tj="cannot_remove_empty_scope",_j="cannot_append_scopeset",zw="empty_input_scopeset",vU="device_code_polling_cancelled",xU="device_code_expired",wU="device_code_unknown_error",K1="no_account_in_silent_request",Nj="invalid_cache_record",q1="invalid_cache_environment",Kw="no_account_found",qw="no_crypto_object",Vw="unexpected_credential_type",bU="invalid_assertion",CU="invalid_client_credential",Ha="token_refresh_required",SU="user_timeout_reached",Pj="token_claims_cnf_required_for_signedjwt",Ij="authorization_code_missing_from_server_response",Dj="binding_key_not_removed",Oj="end_session_endpoint_not_supported",V1="key_id_missing",EU="no_network_connectivity",AU="user_canceled",kU="missing_tenant_id_error",mt="method_not_implemented",TU="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.6.0 2025-05-06 */const l_={[U1]:"The client info could not be parsed/decoded correctly",[yj]:"The client info was empty",[H1]:"Token cannot be parsed",[vj]:"The token is null or empty",[$o]:"Endpoints cannot be resolved",[xj]:"Network request failed",[wj]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[bj]:"The hash parameters could not be deserialized",[nc]:"State was not the expected format",[Cj]:"State mismatch error",[Hw]:"State not found",[Sj]:"Nonce mismatch error",[z1]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ej]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[gU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[yU]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Aj]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[kj]:"Token request cannot be made without authorization code or refresh token.",[Tj]:"Cannot remove null or empty scope from ScopeSet",[_j]:"Cannot append ScopeSet",[zw]:"Empty input ScopeSet cannot be processed",[vU]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[xU]:"Device code is expired.",[wU]:"Device code stopped polling for unknown reasons.",[K1]:"Please pass an account object, silent flow is not supported without account information",[Nj]:"Cache record object was null or undefined.",[q1]:"Invalid environment when attempting to create cache entry",[Kw]:"No account found in cache for given key.",[qw]:"No crypto object detected.",[Vw]:"Unexpected credential type.",[bU]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[CU]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Ha]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[SU]:"User defined timeout for device code polling reached",[Pj]:"Cannot generate a POP jwt if the token_claims are not populated",[Ij]:"Server response does not contain an authorization code to proceed",[Dj]:"Could not remove the credential's binding key from storage.",[Oj]:"The provided authority does not support logout",[V1]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[EU]:"No network connectivity. Check your internet connection.",[AU]:"User cancelled the flow.",[kU]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[mt]:"This method has not been implemented",[TU]:"The nested app auth bridge is disabled"};class W1 extends Gt{constructor(e,n){super(e,n?`${l_[e]}: ${n}`:l_[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,W1.prototype)}}function ke(t,e){return new W1(t,e)}/*! @azure/msal-common v15.6.0 2025-05-06 */const Z0={createNewGuid:()=>{throw ke(mt)},base64Decode:()=>{throw ke(mt)},base64Encode:()=>{throw ke(mt)},base64UrlEncode:()=>{throw ke(mt)},encodeKid:()=>{throw ke(mt)},async getPublicKeyThumbprint(){throw ke(mt)},async removeTokenBindingKey(){throw ke(mt)},async clearKeystore(){throw ke(mt)},async signJwt(){throw ke(mt)},async hashString(){throw ke(mt)}};/*! @azure/msal-common v15.6.0 2025-05-06 */var en;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(en||(en={}));class Xo{constructor(e,n,r){this.level=en.Info;const i=()=>{},o=e||Xo.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:en.Info,this.correlationId=o.correlationId||ge.EMPTY_STRING,this.packageName=n||ge.EMPTY_STRING,this.packageVersion=r||ge.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:en.Info}}clone(e,n,r){return new Xo({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${en[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:en.Error,containsPii:!1,correlationId:n||ge.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:en.Error,containsPii:!0,correlationId:n||ge.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:en.Warning,containsPii:!1,correlationId:n||ge.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:en.Warning,containsPii:!0,correlationId:n||ge.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:en.Info,containsPii:!1,correlationId:n||ge.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:en.Info,containsPii:!0,correlationId:n||ge.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:en.Verbose,containsPii:!1,correlationId:n||ge.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:en.Verbose,containsPii:!0,correlationId:n||ge.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:en.Trace,containsPii:!1,correlationId:n||ge.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:en.Trace,containsPii:!0,correlationId:n||ge.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.6.0 2025-05-06 */const jj="@azure/msal-common",G1="15.6.0";/*! @azure/msal-common v15.6.0 2025-05-06 */const Y1={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v15.6.0 2025-05-06 */function kc(t,e){const n=_U(t);try{const r=e(n);return JSON.parse(r)}catch{throw ke(H1)}}function _U(t){if(!t)throw ke(vj);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw ke(H1);return n[2]}function Rj(t,e){if(e===0||Date.now()-3e5>t+e)throw ke(Ej)}/*! @azure/msal-common v15.6.0 2025-05-06 */function hi(){return Math.round(new Date().getTime()/1e3)}function c_(t){return t.getTime()/1e3}function Xl(t){return t?new Date(Number(t)*1e3):new Date}function Ww(t,e){const n=Number(t)||0;return hi()+e>n}function NU(t){return Number(t)>hi()}/*! @azure/msal-common v15.6.0 2025-05-06 */function Gu(t){return[OU(t),jU(t),RU(t),MU(t),BU(t)].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}function Im(t,e,n,r,i){return{credentialType:dt.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i}}function Dm(t,e,n,r,i,o,a,l,u,d,f,p,g,y,v){var b,E;const w={homeAccountId:t,credentialType:dt.ACCESS_TOKEN,secret:n,cachedAt:hi().toString(),expiresOn:a.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:f||Lt.BEARER};if(p&&(w.userAssertionHash=p),d&&(w.refreshOn=d.toString()),y&&(w.requestedClaims=y,w.requestedClaimsHash=v),((b=w.tokenType)==null?void 0:b.toLowerCase())!==Lt.BEARER.toLowerCase())switch(w.credentialType=dt.ACCESS_TOKEN_WITH_AUTH_SCHEME,w.tokenType){case Lt.POP:const C=kc(n,u);if(!((E=C==null?void 0:C.cnf)!=null&&E.kid))throw ke(Pj);w.keyId=C.cnf.kid;break;case Lt.SSH:w.keyId=g}return w}function Mj(t,e,n,r,i,o,a){const l={credentialType:dt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n};return o&&(l.userAssertionHash=o),i&&(l.familyId=i),a&&(l.expiresOn=a.toString()),l}function Q1(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function PU(t){return t?Q1(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===dt.ACCESS_TOKEN||t.credentialType===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function IU(t){return t?Q1(t)&&t.hasOwnProperty("realm")&&t.credentialType===dt.ID_TOKEN:!1}function DU(t){return t?Q1(t)&&t.credentialType===dt.REFRESH_TOKEN:!1}function OU(t){return[t.homeAccountId,t.environment].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}function jU(t){const e=t.credentialType===dt.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}function RU(t){return(t.target||"").toLowerCase()}function MU(t){return(t.requestedClaimsHash||"").toLowerCase()}function BU(t){return t.tokenType&&t.tokenType.toLowerCase()!==Lt.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function FU(t,e){const n=t.indexOf(rr.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function LU(t,e){let n=!1;t&&(n=t.indexOf(Wu.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function $U({environment:t,clientId:e}){return[L1,t,e].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}function UU(t,e){return e?t.indexOf(L1)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function HU(t,e){return e?t.indexOf(J0.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function u_(){return hi()+J0.REFRESH_TIME_SECONDS}function Th(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function Iv(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function d_(t){return t.expiresAt<=hi()}/*! @azure/msal-common v15.6.0 2025-05-06 */const Bj="redirect_uri_empty",zU="claims_request_parsing_error",Fj="authority_uri_insecure",$u="url_parse_error",Lj="empty_url_error",$j="empty_input_scopes_error",Uj="invalid_prompt_value",Om="invalid_claims",Hj="token_request_empty",zj="logout_request_empty",Kj="invalid_code_challenge_method",jm="pkce_params_missing",X1="invalid_cloud_discovery_metadata",qj="invalid_authority_metadata",Vj="untrusted_authority",Rm="missing_ssh_jwk",Wj="missing_ssh_kid",KU="missing_nonce_authentication_header",qU="invalid_authentication_header",Gj="cannot_set_OIDCOptions",Yj="cannot_allow_platform_broker",Qj="authority_mismatch";/*! @azure/msal-common v15.6.0 2025-05-06 */const VU={[Bj]:"A redirect URI is required for all calls, and none has been set.",[zU]:"Could not parse the given claims request object.",[Fj]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[$u]:"URL could not be parsed into appropriate segments.",[Lj]:"URL was empty or null.",[$j]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Uj]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Om]:"Given claims parameter must be a stringified JSON object.",[Hj]:"Token request was empty and not found in cache.",[zj]:"The logout request was null or undefined.",[Kj]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[jm]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[X1]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[qj]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Vj]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Rm]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Wj]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[KU]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[qU]:"Invalid authentication header provided",[Gj]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Yj]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[Qj]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class J1 extends Gt{constructor(e){super(e,VU[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,J1.prototype)}}function jt(t){return new J1(t)}/*! @azure/msal-common v15.6.0 2025-05-06 */class bo{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[a,l]=o.split(/=(.+)/g,2);a&&l&&(n[i(a)]=i(l))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class xn{constructor(e){const n=e?bo.trimArrayEntries([...e]):[],r=n?bo.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw jt($j);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||ge.EMPTY_STRING).split(" ");return new xn(r)}static createSearchScopes(e){const n=new xn(e);return n.containsOnlyOIDCScopes()?n.removeScope(ge.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new xn(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return r_.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw ke(_j)}}removeScope(e){if(!e)throw ke(Tj);this.scopes.delete(e.trim())}removeOIDCScopes(){r_.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw ke(zw);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw ke(zw);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):ge.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.6.0 2025-05-06 */function ep(t,e){if(!t)throw ke(yj);try{const n=e(t);return JSON.parse(n)}catch{throw ke(U1)}}function Jl(t){if(!t)throw ke(U1);const e=t.split(gr.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?ge.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.6.0 2025-05-06 */function f_(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Z1(t,e,n,r){if(r){const{oid:i,sub:o,tid:a,name:l,tfp:u,acr:d}=r,f=a||u||d||"";return{tenantId:f,localAccountId:i||o||"",name:l,isHomeTenant:f_(f,t)}}else return{tenantId:n,localAccountId:e,isHomeTenant:f_(n,t)}}function eC(t,e,n,r){let i=t;if(e){const{isHomeTenant:o,...a}=e;i={...t,...a}}if(n){const{isHomeTenant:o,...a}=Z1(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...a,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v15.6.0 2025-05-06 */const Ki={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.6.0 2025-05-06 */function Xj(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.6.0 2025-05-06 */const di={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.6.0 2025-05-06 */class Dr{generateAccountId(){return[this.homeAccountId,this.environment].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Dr.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const n=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",n||e.tenantId||""].join(gr.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,n,r){var d,f,p,g,y,v;const i=new Dr;n.authorityType===Ki.Adfs?i.authorityType=Ah.ADFS_ACCOUNT_TYPE:n.protocolMode===di.OIDC?i.authorityType=Ah.GENERIC_ACCOUNT_TYPE:i.authorityType=Ah.MSSTS_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=ep(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw ke(q1);i.environment=a,i.realm=(o==null?void 0:o.utid)||Xj(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((d=e.idTokenClaims)==null?void 0:d.oid)||((f=e.idTokenClaims)==null?void 0:f.sub)||"";const l=((p=e.idTokenClaims)==null?void 0:p.preferred_username)||((g=e.idTokenClaims)==null?void 0:g.upn),u=(y=e.idTokenClaims)!=null&&y.emails?e.idTokenClaims.emails[0]:null;if(i.username=l||u||"",i.name=((v=e.idTokenClaims)==null?void 0:v.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const w=Z1(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[w]}return i}static createFromAccountInfo(e,n,r){var o;const i=new Dr;return i.authorityType=e.authorityType||Ah.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,n,r,i,o){if(!(n===Ki.Adfs||n===Ki.Dsts)){if(e)try{const a=ep(e,i.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const o=e.idTokenClaims||{},a=n.idTokenClaims||{};i=o.iat===a.iat&&o.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v15.6.0 2025-05-06 */function Jj(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function tp(t){if(!t||t.indexOf("=")<0)return null;try{const e=Jj(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw ke(bj)}return null}function sd(t,e=!0,n){const r=new Array;return t.forEach((i,o)=>{!e&&n&&o in n?r.push(`${o}=${i}`):r.push(`${o}=${encodeURIComponent(i)}`)}),r.join("&")}/*! @azure/msal-common v15.6.0 2025-05-06 */class bt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw jt(Lj);e.includes("#")||(this._urlString=bt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return bo.endsWith(n,"?")?n=n.slice(0,-1):bo.endsWith(n,"?/")&&(n=n.slice(0,-2)),bo.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw jt($u)}if(!e.HostNameAndPort||!e.PathSegments)throw jt($u);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw jt(Fj)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return bt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===Ua.COMMON||r[0]===Ua.ORGANIZATIONS)&&(r[0]=e),bt.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw jt($u);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw jt($u);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===ge.FORWARD_SLASH){const i=new bt(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new bt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!tp(e)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const Zj={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},h_=Zj.endpointMetadata,tC=Zj.instanceDiscoveryMetadata,eR=new Set;tC.metadata.forEach(t=>{t.aliases.forEach(e=>{eR.add(e)})});function WU(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const o=new bt(r).getUrlComponents().HostNameAndPort;n=p_(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,ri.CONFIG,e)||p_(o,tC.metadata,ri.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function p_(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=np(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function GU(t){return np(tC.metadata,t)}function np(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.6.0 2025-05-06 */const tR="cache_quota_exceeded",nC="cache_error_unknown";/*! @azure/msal-common v15.6.0 2025-05-06 */const Dv={[tR]:"Exceeded cache storage capacity.",[nC]:"Unexpected error occurred when using cache storage."};class Zl extends Error{constructor(e,n){const r=n||(Dv[e]?Dv[e]:Dv[nC]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Zl.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v15.6.0 2025-05-06 */class Gw{constructor(e,n,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(jj,G1),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const n=this.getAllAccounts(e);return n.length>1?n.sort(i=>i.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e){const n=this.getAccountsFilteredBy(e);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,n){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,n,r,i){let o=null,a;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const l=this.getIdToken(e,n,r.tenantId);return l&&(a=kc(l.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,i))?null:(o=eC(e,r,a,l==null?void 0:l.secret),o)}getTenantProfilesFromAccountEntity(e,n,r){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const a=this.getTokenKeys();if(n){const u=o.get(n);if(u)o=new Map([[n,u]]);else return[]}const l=[];return o.forEach(u=>{const d=this.getTenantedAccountInfoByFilter(i,a,u,r);d&&l.push(d)}),l}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i,o,a,l;if(!e)throw ke(Nj);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(u){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),u instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${u.message}`,n),u.name==="QuotaExceededError"||u.name==="NS_ERROR_DOM_QUOTA_REACHED"||u.message.includes("exceeded the quota")?((a=this.commonLogger)==null||a.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Zl(tR)):new Zl(u.name,u.message)):((l=this.commonLogger)==null||l.errorPii(`CacheManager.saveCacheRecord: ${u}`,n),new Zl(nC))}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),o=xn.fromString(e.target),a=[];i.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,r,!1))return;const u=this.getAccessTokenCredential(l);u&&this.credentialMatchesFilter(u,r)&&xn.fromString(u.target).intersectingScopeSets(o)&&a.push(this.removeAccessToken(l))}),await Promise.all(a),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e){const n=this.getAccountKeys(),r=[];return n.forEach(i=>{var u;if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},l=(u=o.tenantProfiles)==null?void 0:u.filter(d=>this.tenantProfileMatchesFilter(d,a));l&&l.length===0||r.push(o)}),r}isAccountKey(e,n,r){return!(e.split(gr.CACHE_KEY_SEPARATOR).length<3||n&&!e.toLowerCase().includes(n.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(gr.CACHE_KEY_SEPARATOR).length<6)return!1;const n=e.toLowerCase();if(n.indexOf(dt.ID_TOKEN.toLowerCase())===-1&&n.indexOf(dt.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(dt.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(dt.REFRESH_TOKEN.toLowerCase())>-1){const r=`${dt.REFRESH_TOKEN}${gr.CACHE_KEY_SEPARATOR}${this.clientId}${gr.CACHE_KEY_SEPARATOR}`,i=`${dt.REFRESH_TOKEN}${gr.CACHE_KEY_SEPARATOR}${Vu}${gr.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Lt.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),n=[];e.forEach(r=>{n.push(this.removeAccount(r))}),await Promise.all(n)}async removeAccount(e){const n=this.getAccount(e,this.commonLogger);n&&(await this.removeAccountContext(n),this.removeItem(e))}async removeAccountContext(e){const n=this.getTokenKeys(),r=e.generateAccountId(),i=[];n.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),n.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),n.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}async removeAccessToken(e){const n=this.getAccessTokenCredential(e);if(n){if(n.credentialType.toLowerCase()===dt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===Lt.POP){const i=n.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw ke(Dj)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n)}),!0}readAccountFromCache(e){const n=Dr.generateAccountCacheKey(e);return this.getAccount(n,this.commonLogger)}getIdToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:dt.ID_TOKEN,clientId:this.clientId,realm:r},l=this.getIdTokensByFilter(a,n),u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(u>1){let d=l;if(!r){const f=new Map;l.forEach((g,y)=>{g.realm===e.tenantId&&f.set(y,g)});const p=f.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(p===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),f.values().next().value;d=f}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((f,p)=>{this.removeIdToken(p)}),i&&o&&i.addFields({multiMatchedID:l.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,n){const r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(o);a&&this.credentialMatchesFilter(a,e)&&i.set(o,a)}),i}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,n,r,i,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");const l=xn.createSearchScopes(n.scopes),u=n.authenticationScheme||Lt.BEARER,d=u.toLowerCase()!==Lt.BEARER.toLowerCase()?dt.ACCESS_TOKEN_WITH_AUTH_SCHEME:dt.ACCESS_TOKEN,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:i||e.tenantId,target:l,tokenType:u,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},p=r&&r.accessToken||this.getTokenKeys().accessToken,g=[];p.forEach(v=>{if(this.accessTokenKeyMatchesFilter(v,f,!0)){const w=this.getAccessTokenCredential(v);w&&this.credentialMatchesFilter(w,f)&&g.push(w)}});const y=g.length;return y<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):y>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),g.forEach(v=>{this.removeAccessToken(Gu(v))}),o&&a&&o.addFields({multiMatchedAT:g.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),g[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let a=0;a<o.length;a++){if(r&&!i.includes(o[a].toLowerCase()))return!1;if(!r&&i.includes(o[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?Vu:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:dt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},u=r&&r.refreshToken||this.getTokenKeys().refreshToken,d=[];u.forEach(p=>{if(this.refreshTokenKeyMatchesFilter(p,l)){const g=this.getRefreshTokenCredential(p);g&&this.credentialMatchesFilter(g,l)&&d.push(g)}});const f=d.length;return f<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(f>1&&i&&o&&i.addFields({multiMatchedRT:f},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(a=>r[a]),o=i.length;if(o<1)return null;if(o>1)throw ke(Aj);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Vu)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=WU(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==dt.ACCESS_TOKEN&&e.credentialType!==dt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:xn.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(L1)!==-1}isAuthorityMetadata(e){return e.indexOf(J0.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${J0.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class YU extends Gw{async setAccount(){throw ke(mt)}getAccount(){throw ke(mt)}async setIdTokenCredential(){throw ke(mt)}getIdTokenCredential(){throw ke(mt)}async setAccessTokenCredential(){throw ke(mt)}getAccessTokenCredential(){throw ke(mt)}async setRefreshTokenCredential(){throw ke(mt)}getRefreshTokenCredential(){throw ke(mt)}setAppMetadata(){throw ke(mt)}getAppMetadata(){throw ke(mt)}setServerTelemetry(){throw ke(mt)}getServerTelemetry(){throw ke(mt)}setAuthorityMetadata(){throw ke(mt)}getAuthorityMetadata(){throw ke(mt)}getAuthorityMetadataKeys(){throw ke(mt)}setThrottlingCache(){throw ke(mt)}getThrottlingCache(){throw ke(mt)}removeItem(){throw ke(mt)}getKeys(){throw ke(mt)}getAccountKeys(){throw ke(mt)}getTokenKeys(){throw ke(mt)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const nR={tokenRenewalOffsetSeconds:pU,preventCorsPreflight:!1},QU={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:en.Info,correlationId:ge.EMPTY_STRING},XU={claimsBasedCachingEnabled:!1},JU={async sendGetRequestAsync(){throw ke(mt)},async sendPostRequestAsync(){throw ke(mt)}},ZU={sku:ge.SKU,version:G1,cpu:ge.EMPTY_STRING,os:ge.EMPTY_STRING},eH={clientSecret:ge.EMPTY_STRING,clientAssertion:void 0},tH={azureCloudInstance:Y1.None,tenant:`${ge.DEFAULT_COMMON_TENANT}`},nH={application:{appName:"",appVersion:""}};function rH({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:a,clientCredentials:l,libraryInfo:u,telemetry:d,serverTelemetryManager:f,persistencePlugin:p,serializableCache:g}){const y={...QU,...n};return{authOptions:iH(t),systemOptions:{...nR,...e},loggerOptions:y,cacheOptions:{...XU,...r},storageInterface:i||new YU(t.clientId,Z0,new Xo(y)),networkInterface:o||JU,cryptoInterface:a||Z0,clientCredentials:l||eH,libraryInfo:{...ZU,...u},telemetry:{...nH,...d},serverTelemetryManager:f||null,persistencePlugin:p||null,serializableCache:g||null}}function iH(t){return{clientCapabilities:[],azureCloudOptions:tH,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function rR(t){return t.authOptions.authority.options.protocolMode===di.OIDC}/*! @azure/msal-common v15.6.0 2025-05-06 */const Wi={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.6.0 2025-05-06 */const Ks="client_id",iR="redirect_uri",oH="response_type",aH="response_mode",sH="grant_type",lH="claims",cH="scope",uH="refresh_token",dH="state",fH="nonce",hH="prompt",pH="code",mH="code_challenge",gH="code_challenge_method",yH="code_verifier",vH="client-request-id",xH="x-client-SKU",wH="x-client-VER",bH="x-client-OS",CH="x-client-CPU",SH="x-client-current-telemetry",EH="x-client-last-telemetry",AH="x-ms-lib-capability",kH="x-app-name",TH="x-app-ver",_H="post_logout_redirect_uri",NH="id_token_hint",PH="client_secret",IH="client_assertion",DH="client_assertion_type",oR="token_type",aR="req_cnf",m_="return_spa_code",OH="nativebroker",jH="logout_hint",RH="sid",MH="login_hint",BH="domain_hint",FH="x-client-xtra-sku",rp="brk_client_id",ip="brk_redirect_uri",Yw="instance_aware",LH="ear_jwk",$H="ear_jwe_crypto";/*! @azure/msal-common v15.6.0 2025-05-06 */function Mm(t,e,n){if(!e)return;const r=t.get(Ks);r&&t.has(rp)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(iR)},e))}function sR(t,e){t.set(oH,e)}function UH(t,e){t.set(aH,e||dU.QUERY)}function HH(t){t.set(OH,"1")}function rC(t,e,n=!0,r=Hd){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],o=new xn(i);t.set(cH,o.printScopes())}function iC(t,e){t.set(Ks,e)}function oC(t,e){t.set(iR,e)}function zH(t,e){t.set(_H,e)}function KH(t,e){t.set(NH,e)}function qH(t,e){t.set(BH,e)}function _h(t,e){t.set(MH,e)}function op(t,e){t.set(Tr.CCS_HEADER,`UPN:${e}`)}function Yu(t,e){t.set(Tr.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function g_(t,e){t.set(RH,e)}function aC(t,e,n){const r=JH(e,n);try{JSON.parse(r)}catch{throw jt(Om)}t.set(lH,r)}function sC(t,e){t.set(vH,e)}function lC(t,e){t.set(xH,e.sku),t.set(wH,e.version),e.os&&t.set(bH,e.os),e.cpu&&t.set(CH,e.cpu)}function cC(t,e){e!=null&&e.appName&&t.set(kH,e.appName),e!=null&&e.appVersion&&t.set(TH,e.appVersion)}function VH(t,e){t.set(hH,e)}function lR(t,e){e&&t.set(dH,e)}function WH(t,e){t.set(fH,e)}function GH(t,e,n){if(e&&n)t.set(mH,e),t.set(gH,n);else throw jt(jm)}function YH(t,e){t.set(pH,e)}function QH(t,e){t.set(uH,e)}function XH(t,e){t.set(yH,e)}function cR(t,e){t.set(PH,e)}function uR(t,e){e&&t.set(IH,e)}function dR(t,e){e&&t.set(DH,e)}function fR(t,e){t.set(sH,e)}function uC(t){t.set(fU,"1")}function hR(t){t.has(Yw)||t.set(Yw,"true")}function Ds(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function JH(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw jt(Om)}return e&&e.length>0&&(n.hasOwnProperty(Eh.ACCESS_TOKEN)||(n[Eh.ACCESS_TOKEN]={}),n[Eh.ACCESS_TOKEN][Eh.XMS_CC]={values:e}),JSON.stringify(n)}function dC(t,e){e&&(t.set(oR,Lt.POP),t.set(aR,e))}function pR(t,e){e&&(t.set(oR,Lt.SSH),t.set(aR,e))}function mR(t,e){t.set(SH,e.generateCurrentRequestHeaderValue()),t.set(EH,e.generateLastRequestHeaderValue())}function gR(t){t.set(AH,Wu.X_MS_LIB_CAPABILITY_VALUE)}function ZH(t,e){t.set(jH,e)}function Bm(t,e,n){t.has(rp)||t.set(rp,e),t.has(ip)||t.set(ip,n)}function e7(t,e){t.set(LH,encodeURIComponent(e)),t.set($H,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}/*! @azure/msal-common v15.6.0 2025-05-06 */function t7(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.6.0 2025-05-06 */function n7(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.6.0 2025-05-06 */function r7(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.6.0 2025-05-06 */const Y={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},i7={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v15.6.0 2025-05-06 */const Xi=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,i);if(i){const l=e+"CallCount";r==null||r.incrementFields({[l]:1},i)}try{const l=t(...o);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),l}catch(l){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(l))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},l),l}},xe=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,i);if(i){const l=e+"CallCount";r==null||r.incrementFields({[l]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...o).then(l=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),l)).catch(l=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(l))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},l),l})};/*! @azure/msal-common v15.6.0 2025-05-06 */class Fm{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=Fl.ENVIRONMENT_VARIABLE;else{const o=Fm.IMDS_OPTIONS;try{const a=await xe(this.getRegionFromIMDS.bind(this),Y.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(ge.IMDS_VERSION,o);if(a.status===kh.httpSuccess&&(r=a.body,n.region_source=Fl.IMDS),a.status===kh.httpBadRequest){const l=await xe(this.getCurrentVersion.bind(this),Y.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!l)return n.region_source=Fl.FAILED_AUTO_DETECTION,null;const u=await xe(this.getRegionFromIMDS.bind(this),Y.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(l,o);u.status===kh.httpSuccess&&(r=u.body,n.region_source=Fl.IMDS)}}catch{return n.region_source=Fl.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Fl.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Y.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ge.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,ge.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(Y.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${ge.IMDS_ENDPOINT}?format=json`,e);return r.status===kh.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Fm.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.6.0 2025-05-06 */class mr{constructor(e,n,r,i,o,a,l,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=l,this.correlationId=a,this.managedIdentity=u||!1,this.regionDiscovery=new Fm(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ge.CIAM_AUTH_URL))return Ki.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case ge.ADFS:return Ki.Adfs;case ge.DSTS:return Ki.Dsts}return Ki.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new bt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ke($o)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ke($o)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ke($o)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ke(Oj);return this.replacePath(this.metadata.end_session_endpoint)}else throw ke($o)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ke($o)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ke($o)}canReplaceTenant(e){return e.PathSegments.length===1&&!mr.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ki.Default&&this.protocolMode!==di.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new bt(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,u)=>{let d=o[u];if(u===0&&this.canReplaceTenant(i)){const f=new bt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==f&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${f}`),d=f)}l!==d&&(n=n.replace(`/${d}/`,`/${l}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ki.Adfs||this.protocolMode===di.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await xe(this.updateCloudDiscoveryMetadata.bind(this),Y.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await xe(this.updateEndpointMetadata.bind(this),Y.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:u_(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==ri.CACHE&&(r==null?void 0:r.source)!==ri.CACHE&&(e.expiresAt=u_(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,a;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===ri.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const l=await xe(this.updateMetadataWithRegionalInformation.bind(this),Y.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Th(e,l,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await xe(this.getEndpointMetadataFromNetwork.bind(this),Y.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(r=await xe(this.updateMetadataWithRegionalInformation.bind(this),Y.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Th(e,r,!0),ri.NETWORK;throw ke(wj,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Th(e,n,!1),{source:ri.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Th(e,i,!1),{source:ri.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=d_(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ri.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new bt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw jt(qj)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Y.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return t7(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in h_?h_[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(Y.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==ge.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Pv.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,mr.replaceWithRegionalInformation(e,n);const a=await xe(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Y.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=Pv.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,mr.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=Pv.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await xe(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Y.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Iv(e,r,!0),ri.NETWORK;throw jt(Vj)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ge.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ge.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ge.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Iv(e,n,!1),ri.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=GU(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Iv(e,i,!1),ri.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=d_(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),ri.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ki.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),mr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=np(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),jt(X1)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),mr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${ge.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,n);let a,l;if(n7(o.body))a=o.body,l=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(r7(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===ge.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),l=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=np(l,this.hostnameAndPort)}catch(o){if(o instanceof Gt)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=mr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&bt.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==Y1.None){const i=n.tenant?n.tenant:ge.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ge.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ke($o)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return eR.has(e)}static isPublicCloudAuthority(e){return ge.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new bt(e);i.validateAsUri();const o=i.getUrlComponents();let a=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${n}.${ge.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const l=bt.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:a}).urlString;return r?`${l}?${r}`:l}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=mr.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=mr.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=mr.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new bt(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(ge.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];n=`${n}${o}${ge.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}mr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Ua.COMMON,Ua.CONSUMERS,Ua.ORGANIZATIONS]);function o7(t){var i;const r=(i=new bt(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Ua.COMMON:case Ua.ORGANIZATIONS:case Ua.CONSUMERS:return;default:return r}}function yR(t){return t.endsWith(ge.FORWARD_SLASH)?t:`${t}${ge.FORWARD_SLASH}`}function a7(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw jt(X1)}return{canonicalAuthority:t.authority?yR(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.6.0 2025-05-06 */async function vR(t,e,n,r,i,o,a){a==null||a.addQueueMeasurement(Y.AuthorityFactoryCreateDiscoveredInstance,o);const l=mr.transformCIAMAuthority(yR(t)),u=new mr(l,e,n,r,i,o,a);try{return await xe(u.resolveEndpointsAsync.bind(u),Y.AuthorityResolveEndpointsAsync,i,a,o)(),u}catch{throw ke($o)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class rl extends Gt{constructor(e,n,r,i,o){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,rl.prototype)}}/*! @azure/msal-common v15.6.0 2025-05-06 */function Lm(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class go{static generateThrottlingStorageKey(e){return`${Wu.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n){var o;const r=go.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new rl(((o=i.errorCodes)==null?void 0:o.join(" "))||ge.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,r){if(go.checkResponseStatus(r)||go.checkResponseForRetryAfter(r)){const i={throttleTime:go.calculateThrottleTime(parseInt(r.headers[Tr.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(go.generateThrottlingStorageKey(n),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Tr.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Wu.DEFAULT_THROTTLE_TIME_SECONDS),r+Wu.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const o=Lm(n,r,i),a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class $m extends Gt{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,$m.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function Uu(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new $m(t,e,n)}/*! @azure/msal-common v15.6.0 2025-05-06 */class fC{constructor(e,n){this.config=rH(e),this.logger=new Xo(this.config.loggerOptions,jj,G1),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[Tr.CONTENT_TYPE]=ge.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Wi.HOME_ACCOUNT_ID:try{const r=Jl(e.credential);n[Tr.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Wi.UPN:n[Tr.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,o,a){var u;a&&((u=this.performanceClient)==null||u.addQueueMeasurement(a,o));const l=await this.sendPostRequest(i,e,{body:n,headers:r},o);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,n,r,i){var a,l,u;go.preProcess(this.cacheManager,e);let o;try{o=await xe(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Y.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const d=o.headers||{};(l=this.performanceClient)==null||l.addFields({refreshTokenSize:((a=o.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:d[Tr.X_MS_HTTP_VERSION]||"",requestId:d[Tr.X_MS_REQUEST_ID]||""},i)}catch(d){if(d instanceof $m){const f=d.responseHeaders;throw f&&((u=this.performanceClient)==null||u.addFields({httpVerToken:f[Tr.X_MS_HTTP_VERSION]||"",requestId:f[Tr.X_MS_REQUEST_ID]||"",contentTypeHeader:f[Tr.CONTENT_TYPE]||void 0,contentLengthHeader:f[Tr.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},i)),d.error}throw d instanceof Gt?d:ke(xj)}return go.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Y.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await vR(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&Bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Ds(n,e.tokenQueryParameters),sC(n,e.correlationId),Mm(n,e.correlationId,this.performanceClient),sd(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const ap="no_tokens_found",xR="native_account_unavailable",hC="refresh_token_expired",s7="interaction_required",l7="consent_required",c7="login_required",Um="bad_token";/*! @azure/msal-common v15.6.0 2025-05-06 */const y_=[s7,l7,c7,Um],u7=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],d7={[ap]:"No refresh token found in the cache. Please sign-in.",[xR]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[hC]:"Refresh token has expired.",[Um]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Ji extends Gt{constructor(e,n,r,i,o,a,l,u){super(e,n,r),Object.setPrototypeOf(this,Ji.prototype),this.timestamp=i||ge.EMPTY_STRING,this.traceId=o||ge.EMPTY_STRING,this.correlationId=a||ge.EMPTY_STRING,this.claims=l||ge.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=u}}function wR(t,e,n){const r=!!t&&y_.indexOf(t)>-1,i=!!n&&u7.indexOf(n)>-1,o=!!e&&y_.some(a=>e.indexOf(a)>-1);return r||o||i}function Qw(t){return new Ji(t,d7[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */class Tc{static setRequestState(e,n,r){const i=Tc.generateLibraryState(e,r);return n?`${i}${ge.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw ke(qw);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw ke(qw);if(!n)throw ke(nc);try{const r=n.split(ge.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(ge.RESOURCE_DELIM):ge.EMPTY_STRING,a=e.base64Decode(i),l=JSON.parse(a);return{userRequestState:o||ge.EMPTY_STRING,libraryState:l}}catch{throw ke(nc)}}}/*! @azure/msal-common v15.6.0 2025-05-06 */const f7={SW:"sw",UHW:"uhw"};class rc{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Y.PopTokenGenerateCnf,e.correlationId);const r=await xe(this.generateKid.bind(this),Y.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Y.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:f7.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:l,shrNonce:u,shrOptions:d}=r,f=a?new bt(a):void 0,p=f==null?void 0:f.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:hi(),m:o==null?void 0:o.toUpperCase(),u:p==null?void 0:p.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:p==null?void 0:p.AbsolutePath,q:p!=null&&p.QueryString?[[],p.QueryString]:void 0,client_claims:l||void 0,...i},n,d,r.correlationId)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class h7{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.6.0 2025-05-06 */class qs{constructor(e,n,r,i,o,a,l){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=l}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||ge.NOT_AVAILABLE} - Timestamp: ${e.timestamp||ge.NOT_AVAILABLE} - Description: ${e.error_description||ge.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||ge.NOT_AVAILABLE} - Trace ID: ${e.trace_id||ge.NOT_AVAILABLE}`,o=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,a=new rl(e.error,i,e.suberror,o,e.status);if(n&&e.status&&e.status>=Sh.SERVER_ERROR_RANGE_START&&e.status<=Sh.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=Sh.CLIENT_ERROR_RANGE_START&&e.status<=Sh.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw wR(e.error,e.error_description,e.suberror)?new Ji(e.error,e.error_description,e.suberror,e.timestamp||ge.EMPTY_STRING,e.trace_id||ge.EMPTY_STRING,e.correlation_id||ge.EMPTY_STRING,e.claims||ge.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,n,r,i,o,a,l,u,d){var v;(v=this.performanceClient)==null||v.addQueueMeasurement(Y.HandleServerTokenResponse,e.correlation_id);let f;if(e.id_token){if(f=kc(e.id_token||ge.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&f.nonce!==o.nonce)throw ke(Sj);if(i.maxAge||i.maxAge===0){const w=f.auth_time;if(!w)throw ke(z1);Rj(w,i.maxAge)}}this.homeAccountIdentifier=Dr.generateHomeAccountId(e.client_info||ge.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,f);let p;o&&o.state&&(p=Tc.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const g=this.generateCacheRecord(e,n,r,i,f,a,o);let y;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),y=new h7(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(y)),l&&!u&&g.account){const w=g.account.generateAccountKey();if(!this.cacheStorage.getAccount(w))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await qs.generateAuthenticationResult(this.cryptoObj,n,g,!1,i,f,p,void 0,d)}await this.cacheStorage.saveCacheRecord(g,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&y&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(y))}return qs.generateAuthenticationResult(this.cryptoObj,n,g,!1,i,f,p,e,d)}generateCacheRecord(e,n,r,i,o,a,l){const u=n.getPreferredCache();if(!u)throw ke(q1);const d=Xj(o);let f,p;e.id_token&&o&&(f=Im(this.homeAccountIdentifier,u,e.id_token,this.clientId,d||""),p=pC(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,u,d,l,void 0,this.logger));let g=null;if(e.access_token){const w=e.scope?xn.fromString(e.scope):new xn(i.scopes||[]),b=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,E=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,C=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,k=r+b,N=k+E,_=C&&C>0?r+C:void 0;g=Dm(this.homeAccountIdentifier,u,e.access_token,this.clientId,d||n.tenant||"",w.printScopes(),k,N,this.cryptoObj.base64Decode,_,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash)}let y=null;if(e.refresh_token){let w;if(e.refresh_token_expires_in){const b=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;w=r+b}y=Mj(this.homeAccountIdentifier,u,e.refresh_token,this.clientId,e.foci,a,w)}let v=null;return e.foci&&(v={clientId:this.clientId,environment:u,familyId:e.foci}),{account:p,idToken:f,accessToken:g,refreshToken:y,appMetadata:v}}static async generateAuthenticationResult(e,n,r,i,o,a,l,u,d){var k,N,_,P,D;let f=ge.EMPTY_STRING,p=[],g=null,y,v,w=ge.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Lt.POP&&!o.popKid){const R=new rc(e),{secret:F,keyId:O}=r.accessToken;if(!O)throw ke(V1);f=await R.signPopToken(F,O,o)}else f=r.accessToken.secret;p=xn.fromString(r.accessToken.target).asArray(),g=Xl(r.accessToken.expiresOn),y=Xl(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(v=Xl(r.accessToken.refreshOn))}r.appMetadata&&(w=r.appMetadata.familyId===Vu?Vu:"");const b=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",E=(a==null?void 0:a.tid)||"";u!=null&&u.spa_accountid&&r.account&&(r.account.nativeAccountId=u==null?void 0:u.spa_accountid);const C=r.account?eC(r.account.getAccountInfo(),void 0,a,(k=r.idToken)==null?void 0:k.secret):null;return{authority:n.canonicalAuthority,uniqueId:b,tenantId:E,scopes:p,account:C,idToken:((N=r==null?void 0:r.idToken)==null?void 0:N.secret)||"",idTokenClaims:a||{},accessToken:f,fromCache:i,expiresOn:g,extExpiresOn:y,refreshOn:v,correlationId:o.correlationId,requestId:d||ge.EMPTY_STRING,familyId:w,tokenType:((_=r.accessToken)==null?void 0:_.tokenType)||ge.EMPTY_STRING,state:l?l.userRequestState:ge.EMPTY_STRING,cloudGraphHostName:((P=r.account)==null?void 0:P.cloudGraphHostName)||ge.EMPTY_STRING,msGraphHost:((D=r.account)==null?void 0:D.msGraphHost)||ge.EMPTY_STRING,code:u==null?void 0:u.spa_code,fromNativeBroker:!1}}}function pC(t,e,n,r,i,o,a,l,u,d,f){f==null||f.verbose("setCachedAccount called");const g=t.getAccountKeys().find(E=>E.startsWith(n));let y=null;g&&(y=t.getAccount(g));const v=y||Dr.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:a,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:d},e,r),w=v.tenantProfiles||[],b=l||v.realm;if(b&&!w.find(E=>E.tenantId===b)){const E=Z1(n,v.localAccountId,b,i);w.push(E)}return v.tenantProfiles=w,v}/*! @azure/msal-common v15.6.0 2025-05-06 */class p7{static validateRedirectUri(e){if(!e)throw jt(Bj)}static validatePrompt(e){const n=[];for(const r in sr)n.push(sr[r]);if(n.indexOf(e)<0)throw jt(Uj)}static validateClaims(e){try{JSON.parse(e)}catch{throw jt(Om)}}static validateCodeChallengeParams(e,n){if(!e||!n)throw jt(jm);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(e){if([o_.PLAIN,o_.S256].indexOf(e)<0)throw jt(Kj)}}/*! @azure/msal-common v15.6.0 2025-05-06 */async function bR(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.6.0 2025-05-06 */class CR extends fC{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var l,u;if((l=this.performanceClient)==null||l.addQueueMeasurement(Y.AuthClientAcquireToken,e.correlationId),!e.code)throw ke(kj);const r=hi(),i=await xe(this.executeTokenRequest.bind(this),Y.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(u=i.headers)==null?void 0:u[Tr.X_MS_REQUEST_ID],a=new qs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),xe(a.handleServerTokenResponse.bind(a),Y.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw jt(zj);const n=this.createLogoutUrlQueryString(e);return bt.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(Y.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=bt.appendQueryString(e.tokenEndpoint,r),o=await xe(this.createTokenRequestBody.bind(this),Y.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const f=ep(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${f.uid}${gr.CLIENT_INFO_SEPARATOR}${f.utid}`,type:Wi.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}const l=this.createTokenRequestHeaders(a||n.ccsCredential),u=Lm(this.config.authOptions.clientId,n);return xe(this.executePostToTokenEndpoint.bind(this),Y.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,o,l,u,n.correlationId,Y.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(iC(n,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[Ks])||this.config.authOptions.clientId),this.includeRedirectUri?oC(n,e.redirectUri):p7.validateRedirectUri(e.redirectUri),rC(n,e.scopes,!0,this.oidcDefaultScopes),YH(n,e.code),lC(n,this.config.libraryInfo),cC(n,this.config.telemetry.application),gR(n),this.serverTelemetryManager&&!rR(this.config)&&mR(n,this.serverTelemetryManager),e.codeVerifier&&XH(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&cR(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;uR(n,await bR(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),dR(n,a.assertionType)}if(fR(n,mj.AUTHORIZATION_CODE_GRANT),uC(n),e.authenticationScheme===Lt.POP){const a=new rc(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await xe(a.generateCnf.bind(a),Y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,dC(n,l)}else if(e.authenticationScheme===Lt.SSH)if(e.sshJwk)pR(n,e.sshJwk);else throw jt(Rm);(!bo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&aC(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const a=ep(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${a.uid}${gr.CLIENT_INFO_SEPARATOR}${a.utid}`,type:Wi.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Wi.HOME_ACCOUNT_ID:try{const a=Jl(r.credential);Yu(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Wi.UPN:op(n,r.credential);break}return e.embeddedClientId&&Bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ds(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[m_])&&Ds(n,{[m_]:"1"}),Mm(n,e.correlationId,this.performanceClient),sd(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&zH(n,e.postLogoutRedirectUri),e.correlationId&&sC(n,e.correlationId),e.idTokenHint&&KH(n,e.idTokenHint),e.state&&lR(n,e.state),e.logoutHint&&ZH(n,e.logoutHint),e.extraQueryParameters&&Ds(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&hR(n),sd(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const m7=300;class g7 extends fC{constructor(e,n){super(e,n)}async acquireToken(e){var a,l;(a=this.performanceClient)==null||a.addQueueMeasurement(Y.RefreshTokenClientAcquireToken,e.correlationId);const n=hi(),r=await xe(this.executeTokenRequest.bind(this),Y.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(l=r.headers)==null?void 0:l[Tr.X_MS_REQUEST_ID],o=new qs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),xe(o.handleServerTokenResponse.bind(o),Y.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw jt(Hj);if((r=this.performanceClient)==null||r.addQueueMeasurement(Y.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw ke(K1);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await xe(this.acquireTokenWithCachedRefreshToken.bind(this),Y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof Ji&&i.errorCode===ap,a=i instanceof rl&&i.errorCode===a_.INVALID_GRANT_ERROR&&i.subError===a_.CLIENT_MISMATCH_ERROR;if(o||a)return xe(this.acquireTokenWithCachedRefreshToken.bind(this),Y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return xe(this.acquireTokenWithCachedRefreshToken.bind(this),Y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var o,a,l;(o=this.performanceClient)==null||o.addQueueMeasurement(Y.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=Xi(this.cacheManager.getRefreshToken.bind(this.cacheManager),Y.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,void 0,this.performanceClient,e.correlationId);if(!r)throw Qw(ap);if(r.expiresOn&&Ww(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||m7))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Qw(hC);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Lt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Wi.HOME_ACCOUNT_ID}};try{return await xe(this.acquireToken.bind(this),Y.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(u){if(u instanceof Ji&&((l=this.performanceClient)==null||l.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),u.subError===Um)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=Gu(r);this.cacheManager.removeRefreshToken(d)}throw u}}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(Y.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=bt.appendQueryString(n.tokenEndpoint,r),o=await xe(this.createTokenRequestBody.bind(this),Y.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),l=Lm(this.config.authOptions.clientId,e);return xe(this.executePostToTokenEndpoint.bind(this),Y.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,a,l,e.correlationId,Y.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(Y.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(iC(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Ks])||this.config.authOptions.clientId),e.redirectUri&&oC(n,e.redirectUri),rC(n,e.scopes,!0,(o=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:o.defaultScopes),fR(n,mj.REFRESH_TOKEN_GRANT),uC(n),lC(n,this.config.libraryInfo),cC(n,this.config.telemetry.application),gR(n),this.serverTelemetryManager&&!rR(this.config)&&mR(n,this.serverTelemetryManager),QH(n,e.refreshToken),this.config.clientCredentials.clientSecret&&cR(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;uR(n,await bR(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),dR(n,a.assertionType)}if(e.authenticationScheme===Lt.POP){const a=new rc(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await xe(a.generateCnf.bind(a),Y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,dC(n,l)}else if(e.authenticationScheme===Lt.SSH)if(e.sshJwk)pR(n,e.sshJwk);else throw jt(Rm);if((!bo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&aC(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Wi.HOME_ACCOUNT_ID:try{const a=Jl(e.ccsCredential.credential);Yu(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case Wi.UPN:op(n,e.ccsCredential.credential);break}return e.embeddedClientId&&Bm(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Ds(n,e.tokenBodyParameters),Mm(n,e.correlationId,this.performanceClient),sd(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class y7 extends fC{constructor(e,n){super(e,n)}async acquireCachedToken(e){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(Y.SilentFlowClientAcquireCachedToken,e.correlationId);let n=vs.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!bo.isEmptyObj(e.claims))throw this.setCacheOutcome(vs.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ke(Ha);if(!e.account)throw ke(K1);const r=e.account.tenantId||o7(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(NU(o.cachedAt)||Ww(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(vs.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ke(Ha);o.refreshOn&&Ww(o.refreshOn,0)&&(n=vs.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(vs.NO_CACHED_ACCESS_TOKEN,e.correlationId),ke(Ha);const a=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await xe(this.generateResultFromCacheRecord.bind(this),Y.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==vs.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Y.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=kc(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw ke(z1);Rj(o,n.maxAge)}return qs.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const v7={sendGetRequestAsync:()=>Promise.reject(ke(mt)),sendPostRequestAsync:()=>Promise.reject(ke(mt))};/*! @azure/msal-common v15.6.0 2025-05-06 */function x7(t,e,n,r){var l,u;const i=e.correlationId,o=new Map;iC(o,e.embeddedClientId||((l=e.extraQueryParameters)==null?void 0:l[Ks])||t.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(rC(o,a,!0,(u=t.authority.options.OIDCOptions)==null?void 0:u.defaultScopes),oC(o,e.redirectUri),sC(o,i),UH(o,e.responseMode),uC(o),e.prompt&&(VH(o,e.prompt),r==null||r.addFields({prompt:e.prompt},i)),e.domainHint&&(qH(o,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},i)),e.prompt!==sr.SELECT_ACCOUNT)if(e.sid&&e.prompt===sr.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),g_(o,e.sid),r==null||r.addFields({sidFromRequest:!0},i);else if(e.account){const d=C7(e.account);let f=S7(e.account);if(f&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),f=null),f){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),_h(o,f),r==null||r.addFields({loginHintFromClaim:!0},i);try{const p=Jl(e.account.homeAccountId);Yu(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(d&&e.prompt===sr.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),g_(o,d),r==null||r.addFields({sidFromClaim:!0},i);try{const p=Jl(e.account.homeAccountId);Yu(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),_h(o,e.loginHint),op(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),_h(o,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},i);try{const p=Jl(e.account.homeAccountId);Yu(o,p)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),_h(o,e.loginHint),op(o,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&WH(o,e.nonce),e.state&&lR(o,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&aC(o,e.claims,t.clientCapabilities),e.embeddedClientId&&Bm(o,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Yw))&&hR(o),o}function SR(t,e,n,r){const i=sd(e,n,r);return bt.appendQueryString(t.authorizationEndpoint,i)}function w7(t,e){if(ER(t,e),!t.code)throw ke(Ij);return t}function ER(t,e){if(!t.state||!e)throw t.state?ke(Hw,"Cached State"):ke(Hw,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw ke(nc,t.state)}try{r=decodeURIComponent(e)}catch{throw ke(nc,t.state)}if(n!==r)throw ke(Cj);if(t.error||t.error_description||t.suberror){const i=b7(t);throw wR(t.error,t.error_description,t.suberror)?new Ji(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new rl(t.error||"",t.error_description,t.suberror,i)}}function b7(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}function C7(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function S7(t){var e;return((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.6.0 2025-05-06 */const v_=",",AR="|";function E7(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=t,a=new Map([[0,[n,r]],[2,[i,o]]]);let l=[];if(e!=null&&e.length){if(l=e.split(v_),l.length<4)return e}else l=Array.from({length:4},()=>AR);return a.forEach((u,d)=>{var f,p;u.length===2&&((f=u[0])!=null&&f.length)&&((p=u[1])!=null&&p.length)&&A7({skuArr:l,index:d,skuName:u[0],skuVersion:u[1]})}),l.join(v_)}function A7(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(AR))}class ld{constructor(e,n){this.cacheOutcome=vs.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ge.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ge.EMPTY_STRING,this.telemetryCacheKey=rr.CACHE_KEY+gr.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${rr.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(rr.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),a=[e,o].join(rr.VALUE_SEPARATOR);return[rr.SCHEMA_VERSION,a,i].join(rr.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=ld.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(rr.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(rr.VALUE_SEPARATOR),o=e.errors.length,a=n<o?rr.OVERFLOW_TRUE:rr.OVERFLOW_FALSE,l=[o,a].join(rr.VALUE_SEPARATOR);return[rr.SCHEMA_VERSION,e.cacheHits,r,i,l].join(rr.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=rr.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Gt?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(rr.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=ld.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let n,r=0,i=0;const o=e.errors.length;for(n=0;n<o;n++){const a=e.failedRequests[2*n]||ge.EMPTY_STRING,l=e.failedRequests[2*n+1]||ge.EMPTY_STRING,u=e.errors[n]||ge.EMPTY_STRING;if(i+=a.toString().length+l.toString().length+u.length+3,i<rr.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||ge.EMPTY_STRING),e.push(this.regionSource||ge.EMPTY_STRING),e.push(this.regionOutcome||ge.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return E7(e)}}/*! @azure/msal-common v15.6.0 2025-05-06 */const kR="missing_kid_error",TR="missing_alg_error";/*! @azure/msal-common v15.6.0 2025-05-06 */const k7={[kR]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[TR]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class mC extends Gt{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,mC.prototype)}}function x_(t){return new mC(t,k7[t])}/*! @azure/msal-common v15.6.0 2025-05-06 */class gC{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw x_(kR);if(!e.alg)throw x_(TR);const n=new gC({typ:e.typ||hU.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-common v15.6.0 2025-05-06 */class w_{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class T7{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:i7.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new w_}}startPerformanceMeasurement(){return new w_}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const cd="pkce_not_created",yC="ear_jwk_empty",_R="ear_jwe_empty",ud="crypto_nonexistent",ic="empty_navigate_uri",sp="hash_empty_error",dd="no_state_in_hash",lp="hash_does_not_contain_known_properties",cp="unable_to_parse_state",up="state_interaction_type_mismatch",dp="interaction_in_progress",fp="popup_window_error",hp="empty_window_error",Vs="user_cancelled",Xw="monitor_popup_timeout",pp="monitor_window_timeout",mp="redirect_in_iframe",gp="block_iframe_reload",yp="block_nested_popups",Jw="iframe_closed_prematurely",oc="silent_logout_unsupported",vp="no_account_error",Zw="silent_prompt_value_error",xp="no_token_request_cache_error",wp="unable_to_parse_token_request_cache_error",eb="auth_request_not_set_error",tb="invalid_cache_type",ac="non_browser_environment",Ba="database_not_open",sc="no_network_connectivity",bp="post_request_failed",Cp="get_request_failed",fd="failed_to_parse_response",Sp="unable_to_load_token",hd="crypto_key_not_found",Ep="auth_code_required",Ap="auth_code_or_nativeAccountId_required",kp="spa_code_and_nativeAccountId_present",pd="database_unavailable",Tp="unable_to_acquire_token_from_native_platform",_p="native_handshake_timeout",Np="native_extension_not_installed",md="native_connection_not_established",lc="uninitialized_public_client_application",Pp="native_prompt_not_supported",Ip="invalid_base64_string",Dp="invalid_pop_token_request",NR="failed_to_build_headers",PR="failed_to_parse_headers",n0="failed_to_decrypt_ear_response";/*! @azure/msal-browser v4.12.0 2025-05-06 */const Fo="For more visit: aka.ms/msaljs/browser-errors",st={[cd]:"The PKCE code challenge and verifier could not be generated.",[yC]:"No EAR encryption key provided. This is unexpected.",[_R]:"Server response does not contain ear_jwe property. This is unexpected.",[ud]:"The crypto object or function is not available.",[ic]:"Navigation URI is empty. Please check stack trace for more info.",[sp]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Fo}`,[dd]:"Hash does not contain state. Please verify that the request originated from msal.",[lp]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Fo}`,[cp]:"Unable to parse state. Please verify that the request originated from msal.",[up]:"Hash contains state but the interaction type does not match the caller.",[dp]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Fo}`,[fp]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[hp]:"window.open returned null or undefined window object.",[Vs]:"User cancelled the flow.",[Xw]:`Token acquisition in popup failed due to timeout.  ${Fo}`,[pp]:`Token acquisition in iframe failed due to timeout.  ${Fo}`,[mp]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[gp]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Fo}`,[yp]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Jw]:"The iframe being monitored was closed prematurely.",[oc]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[vp]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Zw]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[xp]:"No token request found in cache.",[wp]:"The cached token request could not be parsed.",[eb]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[tb]:"Invalid cache type",[ac]:"Login and token requests are not supported in non-browser environments.",[Ba]:"Database is not open!",[sc]:"No network connectivity. Check your internet connection.",[bp]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Cp]:"Network request failed. Please check the network trace to determine root cause.",[fd]:"Failed to parse network response. Check network trace.",[Sp]:"Error loading token to cache.",[hd]:"Cryptographic Key or Keypair not found in browser storage.",[Ep]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Ap]:"An authorization code or nativeAccountId must be provided to this flow.",[kp]:"Request cannot contain both spa code and native account id.",[pd]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Tp]:`Unable to acquire token from native platform.  ${Fo}`,[_p]:"Timed out while attempting to establish connection to browser extension",[Np]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[md]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Fo}`,[lc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Fo}`,[Pp]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ip]:"Invalid base64 encoded string.",[Dp]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[NR]:"Failed to build request headers object.",[PR]:"Failed to parse response headers",[n0]:"Failed to decrypt ear response"};st[cd],st[ud],st[ic],st[sp],st[dd],st[lp],st[cp],st[up],st[dp],st[fp],st[hp],st[Vs],st[Xw],st[pp],st[mp],st[gp],st[yp],st[Jw],st[oc],st[vp],st[Zw],st[xp],st[wp],st[eb],st[tb],st[ac],st[Ba],st[sc],st[bp],st[Cp],st[fd],st[Sp],st[hd],st[Ep],st[Ap],st[kp],st[pd],st[Tp],st[_p],st[Np],st[md],st[lc],st[Pp],st[Ip],st[Dp];class zd extends Gt{constructor(e,n){super(e,st[e],n),Object.setPrototypeOf(this,zd.prototype),this.name="BrowserAuthError"}}function Re(t,e){return new zd(t,e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const zr={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},zl={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Ss={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},lr={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},b_={GET:"GET",POST:"POST"},Fa={SIGNIN:"signin",SIGNOUT:"signout"},In={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},$a={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Nh={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Ht={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var Ge;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(Ge||(Ge={}));const Pn={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},C_={scopes:Hd},IR="jwk",_7={React:"@azure/msal-react",Angular:"@azure/msal-angular"},nb="msal.db",N7=1,P7=`${nb}.keys`,kr={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},I7=[kr.Default,kr.Skip,kr.RefreshTokenAndNetwork],D7="msal.browser.log.level",O7="msal.browser.log.pii";/*! @azure/msal-browser v4.12.0 2025-05-06 */function Ph(t){return encodeURIComponent(gd(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Wa(t){return DR(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gd(t){return DR(new TextEncoder().encode(t))}function DR(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */function Yi(t){return new TextDecoder().decode(za(t))}function za(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Re(Ip)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const j7="RSASSA-PKCS1-v1_5",_c="AES-GCM",OR="HKDF",vC="SHA-256",R7=2048,M7=new Uint8Array([1,0,1]),S_="0123456789abcdef",E_=new Uint32Array(1),xC="raw",jR="encrypt",wC="decrypt",B7="deriveKey",F7="crypto_subtle_undefined",bC={name:j7,hash:vC,modulusLength:R7,publicExponent:M7};function L7(t){if(!window)throw Re(ac);if(!window.crypto)throw Re(ud);if(!t&&!window.crypto.subtle)throw Re(ud,F7)}async function RR(t,e,n){e==null||e.addQueueMeasurement(Y.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(vC,i)}function $7(t){return window.crypto.getRandomValues(t)}function Ov(){return window.crypto.getRandomValues(E_),E_[0]}function Zi(){const t=Date.now(),e=Ov()*1024+(Ov()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=Ov();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let a="";for(let l=0;l<n.length;l++)a+=S_.charAt(n[l]>>>4),a+=S_.charAt(n[l]&15),(l===3||l===5||l===7||l===9)&&(a+="-");return a}async function U7(t,e){return window.crypto.subtle.generateKey(bC,t,e)}async function jv(t){return window.crypto.subtle.exportKey(IR,t)}async function H7(t,e,n){return window.crypto.subtle.importKey(IR,t,bC,e,n)}async function z7(t,e){return window.crypto.subtle.sign(bC,t,e)}async function CC(){const t=await MR(),n={alg:"dir",kty:"oct",k:Wa(new Uint8Array(t))};return gd(JSON.stringify(n))}async function K7(t){const e=Yi(t),r=JSON.parse(e).k,i=za(r);return window.crypto.subtle.importKey(xC,i,_c,!1,[wC])}async function q7(t,e){const n=e.split(".");if(n.length!==5)throw Re(n0,"jwe_length");const r=await K7(t).catch(()=>{throw Re(n0,"import_key")});try{const i=new TextEncoder().encode(n[0]),o=za(n[2]),a=za(n[3]),l=za(n[4]),u=l.byteLength*8,d=new Uint8Array(a.length+l.length);d.set(a),d.set(l,a.length);const f=await window.crypto.subtle.decrypt({name:_c,iv:o,tagLength:u,additionalData:i},r,d);return new TextDecoder().decode(f)}catch{throw Re(n0,"decrypt")}}async function MR(){const t=await window.crypto.subtle.generateKey({name:_c,length:256},!0,[jR,wC]);return window.crypto.subtle.exportKey(xC,t)}async function A_(t){return window.crypto.subtle.importKey(xC,t,OR,!1,[B7])}async function BR(t,e,n){return window.crypto.subtle.deriveKey({name:OR,salt:e,hash:vC,info:new TextEncoder().encode(n)},t,{name:_c,length:256},!1,[jR,wC])}async function V7(t,e,n){const r=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await BR(t,i,n),a=await window.crypto.subtle.encrypt({name:_c,iv:new Uint8Array(12)},o,r);return{data:Wa(new Uint8Array(a)),nonce:Wa(i)}}async function W7(t,e,n,r){const i=za(r),o=await BR(t,za(e),n),a=await window.crypto.subtle.decrypt({name:_c,iv:new Uint8Array(12)},o,i);return new TextDecoder().decode(a)}async function FR(t){const e=await RR(t),n=new Uint8Array(e);return Wa(n)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const yd="storage_not_supported",_n="stubbed_public_client_application_called",Op="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.12.0 2025-05-06 */const r0={[yd]:"Given storage configuration option was not supported.",[_n]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Op]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};r0[yd],r0[_n],r0[Op];class SC extends Gt{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,SC.prototype)}}function Nn(t){return new SC(t,r0[t])}/*! @azure/msal-browser v4.12.0 2025-05-06 */function LR(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function G7(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function EC(){return window.parent!==window}function Y7(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${zr.POPUP_NAME_PREFIX}.`)===0}function zo(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Q7(){const e=new bt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function X7(){if(bt.hashContainsKnownProperties(window.location.hash)&&EC())throw Re(gp)}function J7(t){if(EC()&&!t)throw Re(mp)}function Z7(){if(Y7())throw Re(yp)}function $R(){if(typeof window>"u")throw Re(ac)}function UR(t){if(!t)throw Re(lc)}function AC(t){$R(),X7(),Z7(),UR(t)}function k_(t,e){if(AC(t),J7(e.system.allowRedirectInIframe),e.cache.cacheLocation===lr.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Nn(Op)}function HR(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function e9(){return Zi()}/*! @azure/msal-browser v4.12.0 2025-05-06 */class jp{navigateInternal(e,n){return jp.defaultNavigateWindow(e,n)}navigateExternal(e,n){return jp.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},n.timeout)})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class t9{async sendGetRequestAsync(e,n){let r,i={},o=0;const a=T_(n);try{r=await fetch(e,{method:b_.GET,headers:a})}catch(l){throw Uu(Re(window.navigator.onLine?Cp:sc),void 0,void 0,l)}i=__(r.headers);try{return o=r.status,{headers:i,body:await r.json(),status:o}}catch(l){throw Uu(Re(fd),o,i,l)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",i=T_(n);let o,a=0,l={};try{o=await fetch(e,{method:b_.POST,headers:i,body:r})}catch(u){throw Uu(Re(window.navigator.onLine?bp:sc),void 0,void 0,u)}l=__(o.headers);try{return a=o.status,{headers:l,body:await o.json(),status:a}}catch(u){throw Uu(Re(fd),a,l,u)}}}function T_(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,i])=>{e.append(r,i)}),e}catch(e){throw Uu(Re(NR),void 0,void 0,e)}}function __(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw Re(PR)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const n9=6e4,rb=1e4,r9=3e4,i9=2e3;function o9({auth:t,cache:e,system:n,telemetry:r},i){const o={clientId:ge.EMPTY_STRING,authority:`${ge.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:ge.EMPTY_STRING,authorityMetadata:ge.EMPTY_STRING,redirectUri:typeof window<"u"?zo():"",postLogoutRedirectUri:ge.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:di.AAD,OIDCOptions:{serverResponseType:Pm.FRAGMENT,defaultScopes:[ge.OPENID_SCOPE,ge.PROFILE_SCOPE,ge.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Y1.None,tenant:ge.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:lr.SessionStorage,temporaryCacheLocation:lr.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===lr.LocalStorage),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:en.Info,piiLoggingEnabled:!1},d={...{...nR,loggerOptions:l,networkClient:i?new t9:v7,navigationClient:new jp,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||n9,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||rb,navigateFrameWait:0,redirectNavigationTimeout:r9,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||i9,pollIntervalMilliseconds:zr.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||l},f={application:{appName:ge.EMPTY_STRING,appVersion:ge.EMPTY_STRING},client:new T7};if((t==null?void 0:t.protocolMode)!==di.OIDC&&(t!=null&&t.OIDCOptions)&&new Xo(d.loggerOptions).warning(JSON.stringify(jt(Gj))),t!=null&&t.protocolMode&&t.protocolMode===di.OIDC&&(d!=null&&d.allowPlatformBroker))throw jt(Yj);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:d,telemetry:{...f,...r}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const a9="@azure/msal-browser",Kd="4.12.0";/*! @azure/msal-browser v4.12.0 2025-05-06 */class kC{static loggerCallback(e,n){switch(e){case en.Error:console.error(n);return;case en.Info:console.info(n);return;case en.Verbose:console.debug(n);return;case en.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var u;this.browserEnvironment=typeof window<"u",this.config=o9(e,this.browserEnvironment);let n;try{n=window[lr.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(D7),i=(u=n==null?void 0:n.getItem(O7))==null?void 0:u.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,a={...this.config.system.loggerOptions},l=r&&Object.keys(en).includes(r)?en[r]:void 0;l&&(a.loggerCallback=kC.loggerCallback,a.logLevel=l),o!==void 0&&(a.piiLoggingEnabled=o),this.logger=new Xo(a,a9,Kd),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Ws extends kC{getModuleName(){return Ws.MODULE_NAME}getId(){return Ws.ID}async initialize(){return this.available=typeof window<"u",this.available}}Ws.MODULE_NAME="";Ws.ID="StandardOperatingContext";/*! @azure/msal-browser v4.12.0 2025-05-06 */class s9{constructor(){this.dbName=nb,this.version=N7,this.tableName=P7,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(Re(pd)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Re(Ba));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",l=>{const u=l;this.closeConnection(),n(u.target.result)}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(Re(Ba));const l=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);l.addEventListener("success",()=>{this.closeConnection(),r()}),l.addEventListener("error",u=>{this.closeConnection(),i(u)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Re(Ba));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(Re(Ba));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",a=>{const l=a;this.closeConnection(),e(l.target.result)}),o.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(Re(Ba));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",l=>{const u=l;this.closeConnection(),n(u.target.result===1)}),a.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(nb),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Hm{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class l9{constructor(e){this.inMemoryCache=new Hm,this.indexedDBCache=new s9,this.logger=e}handleDatabaseAccessError(e){if(e instanceof zd&&e.errorCode===pd)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Jo{constructor(e,n,r){this.logger=e,L7(r??!1),this.cache=new l9(this.logger),this.performanceClient=n}createNewGuid(){return Zi()}base64Encode(e){return gd(e)}base64Decode(e){return Yi(e)}base64UrlEncode(e){return Ph(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var f;const n=(f=this.performanceClient)==null?void 0:f.startMeasurement(Y.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await U7(Jo.EXTRACTABLE,Jo.POP_KEY_USAGES),i=await jv(r.publicKey),o={e:i.e,kty:i.kty,n:i.n},a=N_(o),l=await this.hashString(a),u=await jv(r.privateKey),d=await H7(u,!1,["sign"]);return await this.cache.setItem(l,{privateKey:d,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),l}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var k;const o=(k=this.performanceClient)==null?void 0:k.startMeasurement(Y.CryptoOptsSignJwt,i),a=await this.cache.getItem(n);if(!a)throw Re(hd);const l=await jv(a.publicKey),u=N_(l),d=Ph(JSON.stringify({kid:n})),f=gC.getShrHeaderString({...r==null?void 0:r.header,alg:l.alg,kid:d}),p=Ph(f);e.cnf={jwk:JSON.parse(u)};const g=Ph(JSON.stringify(e)),y=`${p}.${g}`,w=new TextEncoder().encode(y),b=await z7(a.privateKey,w),E=Wa(new Uint8Array(b)),C=`${y}.${E}`;return o&&o.end({success:!0}),C}async hashString(e){return FR(e)}}Jo.POP_KEY_USAGES=["sign","verify"];Jo.EXTRACTABLE=!0;function N_(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.12.0 2025-05-06 */const c9=24*60*60*1e3,ib={Lax:"Lax",None:"None"};class zR{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const o=r[i],[a,...l]=decodeURIComponent(o).trim().split("="),u=l.join("=");if(a===n)return u}return""}getUserData(){throw ke(mt)}setItem(e,n,r,i=!0,o=ib.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${o};`;if(r){const l=u9(r);a+=`expires=${l};`}(i||o===ib.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(ke(mt))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}}function u9(t){const e=new Date;return new Date(e.getTime()+t*c9).toUTCString()}/*! @azure/msal-browser v4.12.0 2025-05-06 */function ob(t){const e=t.getItem($a.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function ab(t,e){const n=e.getItem(`${$a.TOKEN_KEYS}.${t}`);if(n){const r=JSON.parse(n);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const P_="msal.cache.encryption",d9="msal.broadcast.cache";class f9{constructor(e,n,r){if(!window.localStorage)throw Nn(yd);this.memoryStorage=new Hm,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(d9)}async initialize(e){const n=new zR,r=n.getItem(P_);let i={key:"",id:""};if(r)try{i=JSON.parse(r)}catch{}if(i.key&&i.id){const o=Xi(za,Y.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await xe(A_,Y.GenerateHKDF,this.logger,this.performanceClient,e)(o)},await xe(this.importExistingCache.bind(this),Y.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const o=Zi(),a=await xe(MR,Y.GenerateBaseKey,this.logger,this.performanceClient,e)(),l=Xi(Wa,Y.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:o,key:await xe(A_,Y.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const u={id:o,key:l};n.setItem(P_,JSON.stringify(u),0,!0,ib.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Re(lc);return this.memoryStorage.getItem(e)}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw Re(lc);const{data:i,nonce:o}=await xe(V7,Y.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:o,data:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),ob(this).forEach(r=>this.removeItem(r));const n=ab(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(ge.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=ob(this);n=await this.importArray(n,e),this.setItem($a.ACCOUNT_KEYS,JSON.stringify(n));const r=ab(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${$a.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let i;try{i=JSON.parse(r)}catch{return null}return!i.id||!i.nonce||!i.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),null):i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):xe(W7,Y.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data)}async importArray(e,n){const r=[],i=[];return e.forEach(o=>{const a=this.getItemFromEncryptedCache(o,n).then(l=>{l?(this.memoryStorage.setItem(o,l),r.push(o)):this.removeItem(o)});i.push(a)}),await Promise.all(i),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(Y.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:i,context:o}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class h9{constructor(){if(!window.sessionStorage)throw Nn(yd)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const Be={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v4.12.0 2025-05-06 */class sb extends Gw{constructor(e,n,r,i,o,a,l){super(e,r,i,l),this.cacheConfig=n,this.logger=i,this.internalStorage=new Hm,this.browserStorage=I_(e,n.cacheLocation,i,o),this.temporaryCacheStorage=I_(e,n.temporaryCacheLocation,i,o),this.cookieStorage=new zR,this.performanceClient=o,this.eventHandler=a}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.browserStorage.getUserData(e);if(!n)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(n);return!r||!Dr.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Gw.toObject(new Dr,r)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey();await xe(this.browserStorage.setUserData.bind(this.browserStorage),Y.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n);const i=this.addAccountKeyToMap(r);this.cacheConfig.cacheLocation===lr.LocalStorage&&i&&this.eventHandler.emitEvent(Be.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return ob(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const n=this.getAccountKeys();return n.indexOf(e)===-1?(n.push(e),this.browserStorage.setItem($a.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const n=this.getAccountKeys(),r=n.indexOf(e);r>-1?(n.splice(r,1),this.browserStorage.setItem($a.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===lr.LocalStorage&&this.eventHandler.emitEvent(Be.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,dt.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,dt.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,dt.REFRESH_TOKEN)}getTokenKeys(){return ab(this.clientId,this.browserStorage)}addTokenKey(e,n){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(n){case dt.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case dt.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case dt.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${n}`),ke(Vw)}this.browserStorage.setItem(`${$a.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,n){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(n){case dt.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case dt.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case dt.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=r.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${n}`),ke(Vw)}this.browserStorage.setItem(`${$a.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ID_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!IU(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=Gu(e);await xe(this.browserStorage.setUserData.bind(this.browserStorage),Y.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,dt.ID_TOKEN)}getAccessTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ACCESS_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!PU(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=Gu(e);await xe(this.browserStorage.setUserData.bind(this.browserStorage),Y.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,dt.ACCESS_TOKEN)}getRefreshTokenCredential(e){const n=this.browserStorage.getUserData(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.REFRESH_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!DU(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,dt.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=Gu(e);await xe(this.browserStorage.setUserData.bind(this.browserStorage),Y.SetUserData,this.logger,this.performanceClient)(r,JSON.stringify(e),n),this.addTokenKey(r,dt.REFRESH_TOKEN)}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!UU(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=$U(e);this.browserStorage.setItem(n,JSON.stringify(e))}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!FU(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(n))}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&HU(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Nh.WRAPPER_SKU,e),this.internalStorage.setItem(Nh.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Nh.WRAPPER_SKU)||ge.EMPTY_STRING,n=this.internalStorage.getItem(Nh.WRAPPER_VER)||ge.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(){const e=this.generateCacheKey(i_.ACTIVE_ACCOUNT_FILTERS),n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const n=this.generateCacheKey(i_.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(n,JSON.stringify(r))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(Be.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!LU(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(n))}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===lr.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(ge.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(ge.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,n){e.addQueueMeasurement(Y.ClearTokensAndKeysWithClaims,n);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{const a=this.getAccessTokenCredential(o);a!=null&&a.requestedClaimsHash&&o.includes(a.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):bo.startsWith(e,ge.CACHE_PREFIX)?e:`${ge.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(In.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(In.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(In.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(In.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(In.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=gd(JSON.stringify(e));if(this.setTemporaryCache(In.REQUEST_PARAMS,r,!0),n){const i=gd(n);this.setTemporaryCache(In.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(In.REQUEST_PARAMS,!0);if(!e)throw Re(xp);const n=this.getTemporaryCache(In.VERIFIER,!0);let r,i="";try{r=JSON.parse(Yi(e)),n&&(i=Yi(n))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),Re(wp)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(In.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${ge.CACHE_PREFIX}.${In.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),LR(window),null}}setInteractionInProgress(e,n=Fa.SIGNIN){var i;const r=`${ge.CACHE_PREFIX}.${In.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw Re(dp);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((i=this.getInteractionInProgress())==null?void 0:i.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var l,u,d;const r=Im((l=e.account)==null?void 0:l.homeAccountId,(u=e.account)==null?void 0:u.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const o=Dm((d=e.account)==null?void 0:d.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?c_(e.expiresOn):0,e.extExpiresOn?c_(e.extExpiresOn):0,Yi,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),a={idToken:r,accessToken:o};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof Zl&&this.performanceClient&&n)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},n)}catch{}throw i}}}function I_(t,e,n,r){try{switch(e){case lr.LocalStorage:return new f9(t,n,r);case lr.SessionStorage:return new h9;case lr.MemoryStorage:default:break}}catch(i){n.error(i)}return new Hm}const p9=(t,e,n,r)=>{const i={cacheLocation:lr.MemoryStorage,temporaryCacheLocation:lr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new sb(t,i,Z0,e,n,r)};/*! @azure/msal-browser v4.12.0 2025-05-06 */function m9(t,e,n,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r):[]}function g9(t,e,n){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(t);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function y9(t,e,n){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function v9(t,e,n){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function x9(t,e,n){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function w9(t,e){e.setActiveAccount(t)}function b9(t){return t.getActiveAccount()}/*! @azure/msal-browser v4.12.0 2025-05-06 */const C9="msal.broadcast.event";class S9{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Xo({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(C9)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||e9();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){var a;const o={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case Be.ACCOUNT_ADDED:case Be.ACCOUNT_REMOVED:case Be.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],i)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class KR{constructor(e,n,r,i,o,a,l,u,d){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=u,this.correlationId=d||Zi(),this.logger=i.clone(zr.MSAL_SKU,Kd,this.correlationId),this.performanceClient=l}async clearCacheOnLogout(e){if(e){Dr.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Dr.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return bt.getAbsoluteUrl(n,zo())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new ld(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Y.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=r!=null&&r.length?r==="true":this.config.auth.instanceAware,l=n&&a?this.config.auth.authority.replace(bt.getDomainFromUrl(o),n.environment):o,u=mr.generateAuthority(l,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),d=await xe(vR,Y.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(u,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!d.isAlias(n.environment))throw jt(Qj);return d}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function TC(t,e,n,r){n.addQueueMeasurement(Y.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:i,scopes:o};if(!a.authenticationScheme)a.authenticationScheme=Lt.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===Lt.SSH){if(!t.sshJwk)throw jt(Rm);if(!t.sshKid)throw jt(Wj)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!bo.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await FR(t.claims)),a}async function E9(t,e,n,r,i){r.addQueueMeasurement(Y.InitializeSilentRequest,t.correlationId);const o=await xe(TC,Y.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Nc extends KR{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||Zi(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=bt.getAbsoluteUrl(e.postLogoutRedirectUri,zo())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=bt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,zo())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=bt.getAbsoluteUrl(zo(),zo())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Y.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await xe(this.getClientConfiguration.bind(this),Y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new CR(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(Y.StandardInteractionClientGetClientConfiguration,this.correlationId);const l=await xe(this.getDiscoveredAuthority.bind(this),Y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:a}),u=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:u.loggerCallback,piiLoggingEnabled:u.piiLoggingEnabled,logLevel:u.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:zr.MSAL_SKU,version:Kd,cpu:ge.EMPTY_STRING,os:ge.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(Y.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},o=Tc.setRequestState(this.browserCrypto,e&&e.state||ge.EMPTY_STRING,i),l={...await xe(TC,Y.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:e.nonce||Zi(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return l;const u=e.account||this.browserStorage.getActiveAccount();return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),l.account=u),l}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const A9="ContentError",qR="user_switch";/*! @azure/msal-browser v4.12.0 2025-05-06 */const k9="USER_INTERACTION_REQUIRED",T9="USER_CANCEL",_9="NO_NETWORK",N9="PERSISTENT_ERROR",P9="DISABLED",I9="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v4.12.0 2025-05-06 */const D9=-2147186943,O9={[qR]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class yo extends Gt{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,yo.prototype),this.name="NativeAuthError",this.ext=r}}function Hl(t){if(t.ext&&t.ext.status&&(t.ext.status===N9||t.ext.status===P9)||t.ext&&t.ext.error&&t.ext.error===D9)return!0;switch(t.errorCode){case A9:return!0;default:return!1}}function lb(t,e,n){if(n&&n.status)switch(n.status){case I9:return Qw(xR);case k9:return new Ji(t,e);case T9:return Re(Vs);case _9:return Re(sc)}return new yo(t,O9[t]||e,n)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class vo{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(Y.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const n={channel:zl.CHANNEL_ID,extensionId:this.extensionId,responseId:Zi(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n),new Promise((r,i)=>{this.resolvers.set(n.responseId,{resolve:r,reject:i})})}static async createProvider(e,n,r){e.trace("NativeMessageHandler - createProvider called.");try{const i=new vo(e,n,r,zl.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new vo(e,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:zl.CHANNEL_ID,extensionId:this.extensionId,responseId:Zi(),body:{method:Ss.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(Re(_p)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==zl.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Ss.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(Re(Np))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===Ss.Response){if(!r)return;const a=n.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")r.reject(lb(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?r.reject(lb(a.result.code,a.result.description,a.result.ext)):r.resolve(a.result);else throw gj($1,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===Ss.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,n,r,i){if(n.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return n.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!r)return n.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(i)switch(i){case Lt.BEARER:case Lt.POP:return n.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return n.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function j9(t,e){if(!e)return null;try{return Tc.parseRequestState(t,e).libraryState.meta}catch{throw ke(nc)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function Rp(t,e,n){const r=tp(t);if(!r)throw Jj(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),Re(lp)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),Re(sp));return r}function R9(t,e,n){if(!t.state)throw Re(dd);const r=j9(e,t.state);if(!r)throw Re(cp);if(r.interactionType!==n)throw Re(up)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class VR{constructor(e,n,r,i,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(Y.HandleCodeResponse,n.correlationId);let r;try{r=w7(e,n.state)}catch(i){throw i instanceof rl&&i.subError===Vs?Re(Vs):i}return xe(this.handleCodeResponseFromServer.bind(this),Y.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(Y.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await xe(this.authModule.updateAuthority.bind(this.authModule),Y.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await xe(this.authModule.acquireToken.bind(this.authModule),Y.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Wi.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Wi.UPN}:null}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class WR extends Nc{async acquireToken(e){this.performanceClient.addQueueMeasurement(Y.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Ht.acquireTokenSilent_silentFlow),r=await xe(this.getClientConfiguration.bind(this),Y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new y7(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await xe(i.acquireCachedToken.bind(i),Y.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(o){throw o instanceof zd&&o.errorCode===hd&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n==null?void 0:n.account)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class i0 extends KR{constructor(e,n,r,i,o,a,l,u,d,f,p,g){var v;super(e,n,r,i,o,a,u,d,g),this.apiId=l,this.accountId=f,this.nativeMessageHandler=d,this.nativeStorageManager=p,this.silentCacheClient=new WR(e,this.nativeStorageManager,r,i,o,a,u,d,g);const y=this.nativeMessageHandler.getExtensionId()===zl.PREFERRED_EXTENSION_ID?"chrome":(v=this.nativeMessageHandler.getExtensionId())!=null&&v.length?"unknown":void 0;this.skus=ld.makeExtraSkuString({libraryName:zr.MSAL_SKU,libraryVersion:Kd,extensionName:y,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[FH]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(Y.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(Y.NativeInteractionClientAcquireToken,e.correlationId),i=hi(),o=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const p=await this.acquireTokensFromCache(this.accountId,a);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),p}catch(p){if(n===kr.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),p;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...l}=a,u={method:Ss.GetToken,request:l},d=await this.nativeMessageHandler.sendMessage(u),f=this.validateNativeResponse(d);return await this.handleNativeResponse(f,a,i).then(p=>(r.end({success:!0,isNativeBroker:!0,requestId:p.requestId}),o.clearNativeBrokerErrorCode(),p)).catch(p=>{throw r.end({success:!1,errorCode:p.errorCode,subErrorCode:p.subError,isNativeBroker:!0}),p})}catch(a){throw a instanceof yo&&o.setNativeBrokerErrorCode(a.errorCode),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:xn.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ke(Kw);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw ke(Kw);try{const i=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(i),a={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:a}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),o={method:Ss.GetToken,request:i};try{const u=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(u)}catch(u){if(u instanceof yo&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(u.errorCode),Hl(u)))throw u}this.browserStorage.setTemporaryCache(In.NATIVE_REQUEST,JSON.stringify(i),!0);const a={apiId:Ht.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(l,a)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...o}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(In.NATIVE_REQUEST));const a={method:Ss.GetToken,request:o},l=hi();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const u=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(u);const f=await this.handleNativeResponse(u,o,l);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),f}catch(u){throw u}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var f,p;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=kc(e.id_token,Yi),o=this.createHomeAccountIdentifier(e,i),a=(f=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId}))==null?void 0:f.homeAccountId;if((p=n.extraParameters)!=null&&p.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==a&&e.account.id!==n.accountId)throw lb(qR);const l=await this.getDiscoveredAuthority({requestAuthority:n.authority}),u=pC(this.browserStorage,l,o,Yi,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const d=await this.generateAuthenticationResult(e,n,i,u,l.canonicalAuthority,r);return await this.cacheAccount(u),await this.cacheNativeTokens(e,n,o,i,e.access_token,d.tenantId,r),d}createHomeAccountIdentifier(e,n){return Dr.generateHomeAccountId(e.client_info||ge.EMPTY_STRING,Ki.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return e.scope?xn.fromString(e.scope):xn.fromString(n.scope)}async generatePopAccessToken(e,n){if(n.tokenType===Lt.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new rc(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw ke(V1);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,o,a){const l=this.addTelemetryFromNativeResponse(e),u=e.scope?xn.fromString(e.scope):xn.fromString(n.scope),d=e.account.properties||{},f=d.UID||r.oid||r.sub||ge.EMPTY_STRING,p=d.TenantId||r.tid||ge.EMPTY_STRING,g=eC(i.getAccountInfo(),void 0,r,e.id_token);g.nativeAccountId!==e.account.id&&(g.nativeAccountId=e.account.id);const y=await this.generatePopAccessToken(e,n),v=n.tokenType===Lt.POP?Lt.POP:Lt.BEARER;return{authority:o,uniqueId:f,tenantId:p,scopes:u.asArray(),account:g,idToken:e.id_token,idTokenClaims:r,accessToken:y,fromCache:l?this.isResponseFromCache(l):!1,expiresOn:Xl(a+e.expires_in),tokenType:v,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch(n=>{this.logger.error(`Error occurred while removing account context from browser storage. ${n}`)})}cacheNativeTokens(e,n,r,i,o,a,l){const u=Im(r,n.authority,e.id_token||"",n.clientId,i.tid||""),d=n.tokenType===Lt.POP?ge.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,f=l+d,p=this.generateScopes(e,n),g=Dm(r,n.authority,o,n.clientId,i.tid||a,p.printScopes(),f,0,Yi,void 0,n.tokenType,void 0,n.keyId),y={idToken:u,accessToken:g};return this.nativeStorageManager.saveCacheRecord(y,this.correlationId,n.storeInCache)}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw gj($1,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new bt(n);r.validateAsUri();const{scopes:i,...o}=e,a=new xn(i||[]);a.appendScopes(Hd);const l=()=>{switch(this.apiId){case Ht.ssoSilent:case Ht.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),sr.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case sr.NONE:case sr.CONSENT:case sr.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Re(Pp)}},u={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:l(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(u.signPopToken&&e.popKid)throw Re(Dp);if(this.handleExtraBrokerParams(u),u.extraParameters=u.extraParameters||{},u.extraParameters.telemetry=zl.MATS_TELEMETRY,e.authenticationScheme===Lt.POP){const d={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},f=new rc(this.browserCrypto);let p;if(u.keyId)p=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:u.keyId})),u.signPopToken=!1;else{const g=await xe(f.generateCnf.bind(f),Y.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(d,this.logger);p=g.reqCnfString,u.keyId=g.kid,u.signPopToken=!0}u.reqCnf=p}return this.addRequestSKUs(u),u}handleExtraBrokerParams(e){var o;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(rp)&&e.extraParameters.hasOwnProperty(ip)&&e.extraParameters.hasOwnProperty(Ks);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ip],r=e.extraParameters[Ks]),e.extraParameters={child_client_id:r,child_redirect_uri:i},(o=this.performanceClient)==null||o.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function GR(t,e,n,r,i){const o=x7({...t.auth,authority:e},n,r,i);if(lC(o,{sku:zr.MSAL_SKU,version:Kd,os:"",cpu:""}),t.auth.protocolMode!==di.OIDC&&cC(o,t.telemetry.application),n.platformBroker&&(HH(o),n.authenticationScheme===Lt.POP)){const a=new Jo(r,i),l=new rc(a);let u;n.popKid?u=a.encodeKid(n.popKid):u=(await xe(l.generateCnf.bind(l),Y.PopTokenGenerateCnf,r,i,n.correlationId)(n,r)).reqCnfString,dC(o,u)}return Mm(o,n.correlationId,i),o}async function _C(t,e,n,r,i){if(!n.codeChallenge)throw jt(jm);const o=await xe(GR,Y.GetStandardParams,r,i,n.correlationId)(t,e,n,r,i);return sR(o,pj.CODE),GH(o,n.codeChallenge,ge.S256_CODE_CHALLENGE_METHOD),Ds(o,n.extraQueryParameters||{}),SR(e,o,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function NC(t,e,n,r,i,o){if(!r.earJwk)throw Re(yC);const a=await GR(e,n,r,i,o);sR(a,pj.IDTOKEN_TOKEN_REFRESHTOKEN),e7(a,r.earJwk);const l=new Map;Ds(l,r.extraQueryParameters||{});const u=SR(n,l,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return M9(t,u,a)}function M9(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((i,o)=>{const a=t.createElement("input");a.hidden=!0,a.name=o,a.value=i,r.appendChild(a)}),t.body.appendChild(r),r}async function YR(t,e,n,r,i,o,a,l,u,d){if(!d)throw Re(md);const f=new Jo(l,u),p=new i0(r,i,f,l,a,r.system.navigationClient,n,u,d,e,o,t.correlationId),{userRequestState:g}=Tc.parseRequestState(f,t.state);return xe(p.acquireToken.bind(p),Y.NativeInteractionClientAcquireToken,l,u,t.correlationId)({...t,state:g,prompt:void 0})}async function PC(t,e,n,r,i,o,a,l,u,d,f,p){if(go.removeThrottle(a,i.auth.clientId,t),e.accountId)return xe(YR,Y.HandleResponsePlatformBroker,d,f,t.correlationId)(t,e.accountId,r,i,a,l,u,d,f,p);const g={...t,code:e.code||"",codeVerifier:n},y=new VR(o,a,g,d,f);return await xe(y.handleCodeResponse.bind(y),Y.HandleCodeResponse,d,f,t.correlationId)(e,t)}async function IC(t,e,n,r,i,o,a,l,u,d,f){if(go.removeThrottle(o,r.auth.clientId,t),ER(e,t.state),!e.ear_jwe)throw Re(_R);if(!t.earJwk)throw Re(yC);const p=JSON.parse(await xe(q7,Y.DecryptEarResponse,u,d,t.correlationId)(t.earJwk,e.ear_jwe));if(p.accountId)return xe(YR,Y.HandleResponsePlatformBroker,u,d,t.correlationId)(t,p.accountId,n,r,o,a,l,u,d,f);const g=new qs(r.auth.clientId,o,new Jo(u,d),u,null,null,d);g.validateTokenResponse(p);const y={code:"",state:t.state,nonce:t.nonce,client_info:p.client_info,cloud_graph_host_name:p.cloud_graph_host_name,cloud_instance_host_name:p.cloud_instance_host_name,cloud_instance_name:p.cloud_instance_name,msgraph_host:p.msgraph_host};return await xe(g.handleServerTokenResponse.bind(g),Y.HandleServerTokenResponse,u,d,t.correlationId)(p,i,hi(),t,y,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.12.0 2025-05-06 */const B9=32;async function zm(t,e,n){t.addQueueMeasurement(Y.GeneratePkceCodes,n);const r=Xi(F9,Y.GenerateCodeVerifier,e,t,n)(t,e,n),i=await xe(L9,Y.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function F9(t,e,n){try{const r=new Uint8Array(B9);return Xi($7,Y.GetRandomValues,e,t,n)(r),Wa(r)}catch{throw Re(cd)}}async function L9(t,e,n,r){e.addQueueMeasurement(Y.GenerateCodeChallengeFromVerifier,r);try{const i=await xe(RR,Y.Sha256Digest,n,e,r)(t,e,r);return Wa(new Uint8Array(i))}catch{throw Re(cd)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class $9 extends Nc{constructor(e,n,r,i,o,a,l,u,d,f){super(e,n,r,i,o,a,l,d,f),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=u,this.eventHandler=o}acquireToken(e,n){try{const i={popupName:this.generatePopupName(e.scopes||Hd,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,i,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),i.popup=this.openSizedPopup("about:blank",i),this.acquireTokenPopupAsync(e,i,n))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const i=await xe(this.initializeAuthorizationRequest.bind(this),Y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Ge.Popup);n.popup&&HR(i.authority);const o=vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return i.platformBroker=o,this.config.auth.protocolMode===di.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,r)}async executeCodeFlow(e,n,r){var u;const i=e.correlationId,o=this.initializeServerTelemetryManager(Ht.acquireTokenPopup),a=r||await xe(zm,Y.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),l={...e,codeChallenge:a.challenge};try{const d=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:o,requestAuthority:l.authority,requestAzureCloudOptions:l.azureCloudOptions,requestExtraQueryParameters:l.extraQueryParameters,account:l.account}),f=await xe(_C,Y.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,d.authority,l,this.logger,this.performanceClient),p=this.initiateAuthRequest(f,n);this.eventHandler.emitEvent(Be.POPUP_OPENED,Ge.Popup,{popupWindow:p},null);const g=await this.monitorPopupForHash(p,n.popupWindowParent),y=Xi(Rp,Y.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(g,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await xe(PC,Y.HandleResponseCode,this.logger,this.performanceClient,i)(e,y,a.verifier,Ht.acquireTokenPopup,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(d){throw(u=n.popup)==null||u.close(),d instanceof Gt&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),d}}async executeEarFlow(e,n){const r=e.correlationId,i=await xe(this.getDiscoveredAuthority.bind(this),Y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await xe(CC,Y.GenerateEarKey,this.logger,this.performanceClient,r)(),a={...e,earJwk:o},l=n.popup||this.openPopup("about:blank",n);(await NC(l.document,this.config,i,a,this.logger,this.performanceClient)).submit();const d=await xe(this.monitorPopupForHash.bind(this),Y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(l,n.popupWindowParent),f=Xi(Rp,Y.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);return xe(IC,Y.HandleResponseEar,this.logger,this.performanceClient,r)(a,f,Ht.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,n,r,i){var a,l,u,d;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Be.LOGOUT_START,Ge.Popup,e);const o=this.initializeServerTelemetryManager(Ht.logoutPopup);try{await this.clearCacheOnLogout(e.account);const f=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{f.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&f.authority.protocolMode===di.OIDC){if(this.browserStorage.removeAccount((l=e.account)==null?void 0:l.homeAccountId),this.eventHandler.emitEvent(Be.LOGOUT_SUCCESS,Ge.Popup,e),i){const y={apiId:Ht.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=bt.getAbsoluteUrl(i,zo());await this.navigationClient.navigateInternal(v,y)}(u=n.popup)==null||u.close();return}}const p=f.getLogoutUri(e);this.eventHandler.emitEvent(Be.LOGOUT_SUCCESS,Ge.Popup,e);const g=this.openPopup(p,n);if(this.eventHandler.emitEvent(Be.POPUP_OPENED,Ge.Popup,{popupWindow:g},null),await this.monitorPopupForHash(g,n.popupWindowParent).catch(()=>{}),i){const y={apiId:Ht.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=bt.getAbsoluteUrl(i,zo());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${v}`),await this.navigationClient.navigateInternal(v,y)}else this.logger.verbose("No main window navigation requested")}catch(f){throw(d=n.popup)==null||d.close(),f instanceof Gt&&(f.setCorrelationId(this.correlationId),o.cacheFailedRequest(f)),this.eventHandler.emitEvent(Be.LOGOUT_FAILURE,Ge.Popup,null,f),this.eventHandler.emitEvent(Be.LOGOUT_END,Ge.Popup),f}this.eventHandler.emitEvent(Be.LOGOUT_END,Ge.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),Re(ic)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(Re(Vs));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(o);let l="";const u=this.config.auth.OIDCOptions.serverResponseType;e&&(u===Pm.QUERY?l=e.location.search:l=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(l)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw Re(hp);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),Re(fp)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var y,v,w,b;const o=i.screenLeft?i.screenLeft:i.screenX,a=i.screenTop?i.screenTop:i.screenY,l=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let d=(y=r.popupSize)==null?void 0:y.width,f=(v=r.popupSize)==null?void 0:v.height,p=(w=r.popupPosition)==null?void 0:w.top,g=(b=r.popupPosition)==null?void 0:b.left;return(!d||d<0||d>l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),d=zr.POPUP_WIDTH),(!f||f<0||f>u)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),f=zr.POPUP_HEIGHT),(!p||p<0||p>u)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,u/2-zr.POPUP_HEIGHT/2+a)),(!g||g<0||g>l)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,l/2-zr.POPUP_WIDTH/2+o)),i.open(e,n,`width=${d}, height=${f}, top=${p}, left=${g}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${zr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${zr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function U9(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class H9 extends Nc{constructor(e,n,r,i,o,a,l,u,d,f){super(e,n,r,i,o,a,l,d,f),this.nativeStorage=u}async acquireToken(e){const n=await xe(this.initializeAuthorizationRequest.bind(this),Y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Ge.Redirect);n.platformBroker=vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const r=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(Be.RESTORE_FROM_BFCACHE,Ge.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(In.ORIGIN_URI,i,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===di.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(o){throw o instanceof Gt&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),o}}async executeCodeFlow(e,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(Ht.acquireTokenRedirect),o=await xe(zm,Y.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(a,o.verifier);try{const l=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),u=await xe(_C,Y.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,l.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(u,n)}catch(l){throw l instanceof Gt&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),l}}async executeEarFlow(e){const n=e.correlationId,r=await xe(this.getDiscoveredAuthority.bind(this),Y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await xe(CC,Y.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i};this.browserStorage.cacheAuthorizeRequest(o),(await NC(document,this.config,r,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(e="",n,r,i){const o=this.initializeServerTelemetryManager(Ht.handleRedirectPromise);try{const[a,l]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),U9()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const u=this.browserStorage.getTemporaryCache(In.ORIGIN_URI,!0)||ge.EMPTY_STRING,d=bt.removeHashFromUrl(u),f=bt.removeHashFromUrl(window.location.href);if(d===f&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),u.indexOf("#")>-1&&G7(u),await this.handleResponse(a,n,r,o);if(this.config.auth.navigateToLoginRequestUrl){if(!EC()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(In.URL_HASH,l,!0);const p={apiId:Ht.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let g=!0;if(!u||u==="null"){const y=Q7();this.browserStorage.setTemporaryCache(In.ORIGIN_URI,y,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),g=await this.navigationClient.navigateInternal(y,p)}else this.logger.verbose(`Navigating to loginRequestUrl: ${u}`),g=await this.navigationClient.navigateInternal(u,p);if(!g)return await this.handleResponse(a,n,r,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,r,o);return null}catch(a){throw a instanceof Gt&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===Pm.QUERY?n=window.location.search:n=window.location.hash);let r=tp(n);if(r){try{R9(r,this.browserCrypto,Ge.Redirect)}catch(o){return o instanceof Gt&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return LR(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(In.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(In.URL_HASH)),i&&(r=tp(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n,r,i){if(!e.state)throw Re(dd);if(e.ear_jwe){const l=await xe(this.getDiscoveredAuthority.bind(this),Y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return xe(IC,Y.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Ht.acquireTokenRedirect,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const a=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return xe(PC,Y.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,Ht.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Ht.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Re(ic)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Ht.logout);try{this.eventHandler.emitEvent(Be.LOGOUT_START,Ge.Redirect,e),await this.clearCacheOnLogout(n.account);const a={apiId:Ht.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(l.authority.protocolMode===di.OIDC)try{l.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=n.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(Be.LOGOUT_SUCCESS,Ge.Redirect,n);return}}const u=l.getLogoutUri(n);if(this.eventHandler.emitEvent(Be.LOGOUT_SUCCESS,Ge.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(u)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Fa.SIGNOUT),await this.navigationClient.navigateExternal(u,a);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Fa.SIGNOUT),await this.navigationClient.navigateExternal(u,a);return}}catch(a){throw a instanceof Gt&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),this.eventHandler.emitEvent(Be.LOGOUT_FAILURE,Ge.Redirect,null,a),this.eventHandler.emitEvent(Be.LOGOUT_END,Ge.Redirect),a}this.eventHandler.emitEvent(Be.LOGOUT_END,Ge.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return bt.getAbsoluteUrl(n,zo())}}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function z9(t,e,n,r,i){if(e.addQueueMeasurement(Y.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),Re(ic);return i?xe(q9,Y.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):Xi(V9,Y.SilentHandlerLoadFrameSync,n,e,r)(t)}async function K9(t,e,n,r,i){const o=DC();if(!o.contentDocument)throw"No document associated with iframe!";return(await NC(o.contentDocument,t,e,n,r,i)).submit(),o}async function D_(t,e,n,r,i,o,a){return r.addQueueMeasurement(Y.SilentHandlerMonitorIframeForHash,o),new Promise((l,u)=>{e<rb&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${rb}ms). This may result in timeouts.`);const d=window.setTimeout(()=>{window.clearInterval(f),u(Re(pp))},e),f=window.setInterval(()=>{let p="";const g=t.contentWindow;try{p=g?g.location.href:""}catch{}if(!p||p==="about:blank")return;let y="";g&&(a===Pm.QUERY?y=g.location.search:y=g.location.hash),window.clearTimeout(d),window.clearInterval(f),l(y)},n)}).finally(()=>{Xi(W9,Y.RemoveHiddenIframe,i,r,o)(t)})}function q9(t,e,n,r){return n.addQueueMeasurement(Y.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const a=DC();window.setTimeout(()=>{if(!a){o("Unable to load iframe");return}a.src=t,i(a)},e)})}function V9(t){const e=DC();return e.src=t,e}function DC(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function W9(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class G9 extends Nc{constructor(e,n,r,i,o,a,l,u,d,f,p){super(e,n,r,i,o,a,u,f,p),this.apiId=l,this.nativeStorage=d}async acquireToken(e){this.performanceClient.addQueueMeasurement(Y.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==sr.NONE&&n.prompt!==sr.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${sr.NONE}`),n.prompt=sr.NONE):n.prompt=sr.NONE;const r=await xe(this.initializeAuthorizationRequest.bind(this),Y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,Ge.Silent);return r.platformBroker=vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme),HR(r.authority),this.config.auth.protocolMode===di.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await xe(this.createAuthCodeClient.bind(this),Y.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await xe(this.silentTokenHelper.bind(this),Y.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof Gt&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!n||!(i instanceof Gt)||i.errorCode!==zr.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await xe(this.silentTokenHelper.bind(this),Y.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await xe(this.getDiscoveredAuthority.bind(this),Y.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await xe(CC,Y.GenerateEarKey,this.logger,this.performanceClient,n)(),o={...e,earJwk:i},a=await xe(K9,Y.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,o,this.logger,this.performanceClient),l=this.config.auth.OIDCOptions.serverResponseType,u=await xe(D_,Y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,l),d=Xi(Rp,Y.DeserializeResponse,this.logger,this.performanceClient,n)(u,l,this.logger);return xe(IC,Y.HandleResponseEar,this.logger,this.performanceClient,n)(o,d,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(Re(oc))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(Y.SilentIframeClientTokenHelper,r);const i=await xe(zm,Y.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...n,codeChallenge:i.challenge},a=await xe(_C,Y.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,o,this.logger,this.performanceClient),l=await xe(z9,Y.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(a,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),u=this.config.auth.OIDCOptions.serverResponseType,d=await xe(D_,Y.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(l,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,u),f=Xi(Rp,Y.DeserializeResponse,this.logger,this.performanceClient,r)(d,u,this.logger);return xe(PC,Y.HandleResponseCode,this.logger,this.performanceClient,r)(n,f,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Y9 extends Nc{async acquireToken(e){this.performanceClient.addQueueMeasurement(Y.SilentRefreshClientAcquireToken,e.correlationId);const n=await xe(TC,Y.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(Ht.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return xe(o.acquireTokenByRefreshToken.bind(o),Y.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(a=>{throw a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a),a})}logout(){return Promise.reject(Re(oc))}async createRefreshTokenClient(e){const n=await xe(this.getClientConfiguration.bind(this),Y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new g7(n,this.performanceClient)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class Q9{constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw Re(ac);const i=e.correlationId||Zi(),o=n.id_token?kc(n.id_token,Yi):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=e.authority?new mr(mr.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Zi()):void 0,u=await this.loadAccount(e,r.clientInfo||n.client_info||"",i,o,l),d=await this.loadIdToken(n,u.homeAccountId,u.environment,u.realm,i),f=await this.loadAccessToken(e,n,u.homeAccountId,u.environment,u.realm,r,i),p=await this.loadRefreshToken(n,u.homeAccountId,u.environment,i);return this.generateAuthenticationResult(e,{account:u,idToken:d,accessToken:f,refreshToken:p},o,l)}async loadAccount(e,n,r,i,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const d=Dr.createFromAccountInfo(e.account);return await this.storage.setAccount(d,r),d}else if(!o||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Re(Sp);const a=Dr.generateHomeAccountId(n,o.authorityType,this.logger,this.cryptoObj,i),l=i==null?void 0:i.tid,u=pC(this.storage,o,a,Yi,i,n,o.hostnameAndPort,l,void 0,void 0,this.logger);return await this.storage.setAccount(u,r),u}async loadIdToken(e,n,r,i,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=Im(n,r,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(a,o),a}async loadAccessToken(e,n,r,i,o,a,l){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const u=n.scope?xn.fromString(n.scope):new xn(e.scopes),d=a.expiresOn||n.expires_in+hi(),f=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+hi(),p=Dm(r,i,n.access_token,this.config.auth.clientId,o,u.printScopes(),d,f,Yi);return await this.storage.setAccessTokenCredential(p,l),p}async loadRefreshToken(e,n,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Mj(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,i),o}generateAuthenticationResult(e,n,r,i){var f,p,g;let o="",a=[],l=null,u;n!=null&&n.accessToken&&(o=n.accessToken.secret,a=xn.fromString(n.accessToken.target).asArray(),l=Xl(n.accessToken.expiresOn),u=Xl(n.accessToken.extendedExpiresOn));const d=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:d.getAccountInfo(),idToken:((f=n.idToken)==null?void 0:f.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:l,correlationId:e.correlationId||"",requestId:"",extExpiresOn:u,familyId:((p=n.refreshToken)==null?void 0:p.familyId)||"",tokenType:((g=n==null?void 0:n.accessToken)==null?void 0:g.tokenType)||"",state:e.state||"",cloudGraphHostName:d.cloudGraphHostName||"",msGraphHost:d.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class X9 extends CR{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.12.0 2025-05-06 */class J9 extends Nc{constructor(e,n,r,i,o,a,l,u,d,f){super(e,n,r,i,o,a,u,d,f),this.apiId=l}async acquireToken(e){if(!e.code)throw Re(Ep);const n=await xe(this.initializeAuthorizationRequest.bind(this),Y.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,Ge.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},o=await xe(this.getClientConfiguration.bind(this),Y.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new X9(o);this.logger.verbose("Auth code client created");const l=new VR(a,this.browserStorage,i,this.logger,this.performanceClient);return await xe(l.handleCodeResponseFromServer.bind(l),Y.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof Gt&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(Re(oc))}}/*! @azure/msal-browser v4.12.0 2025-05-06 */function Z9(t,e,n){var a;const r=((a=window.msal)==null?void 0:a.clientIds)||[],i=r.length,o=r.filter(l=>l===t).length;o>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:o})}/*! @azure/msal-browser v4.12.0 2025-05-06 */function ho(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Ih(t,e){try{AC(t)}catch(n){throw e.end({success:!1},n),n}}class Km{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Jo(this.logger,this.performanceClient):Z0,this.eventHandler=new S9(this.logger),this.browserStorage=this.isBrowserEnvironment?new sb(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,a7(this.config.auth)):p9(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:lr.MemoryStorage,temporaryCacheLocation:lr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new sb(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Q9(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new Km(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(Be.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(Y.InitializeClientApplication,r);if(this.eventHandler.emitEvent(Be.INITIALIZE_START),!n)try{this.logMultipleInstances(o)}catch{}if(await xe(this.browserStorage.initialize.bind(this.browserStorage),Y.InitializeCache,this.logger,this.performanceClient,r)(r),i)try{this.nativeExtensionProvider=await vo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await xe(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Y.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(this.performanceClient,r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(Be.INITIALIZE_END),o.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),UR(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var u;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((u=this.browserStorage.getInteractionInProgress())==null?void 0:u.type)===Fa.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),o=i&&vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let a;this.eventHandler.emitEvent(Be.HANDLE_REDIRECT_START,Ge.Redirect);let l;try{if(o&&this.nativeExtensionProvider){a=this.performanceClient.startMeasurement(Y.AcquireTokenRedirect,(i==null?void 0:i.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const d=new i0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ht.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,i.accountId,this.nativeInternalStorage,i.correlationId);l=xe(d.handleRedirectPromise.bind(d),Y.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[d,f]=this.browserStorage.getCachedRequest(),p=d.correlationId;a=this.performanceClient.startMeasurement(Y.AcquireTokenRedirect,p),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const g=this.createRedirectClient(p);l=xe(g.handleRedirectPromise.bind(g),Y.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,d,f,a)}}catch(d){throw this.browserStorage.resetRequestCache(),d}return l.then(d=>(d?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(Be.LOGIN_SUCCESS,Ge.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_SUCCESS,Ge.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:ho(d.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(Be.HANDLE_REDIRECT_END,Ge.Redirect),d)).catch(d=>{this.browserStorage.resetRequestCache();const f=d;throw r.length>0?this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_FAILURE,Ge.Redirect,null,f):this.eventHandler.emitEvent(Be.LOGIN_FAILURE,Ge.Redirect,null,f),this.eventHandler.emitEvent(Be.HANDLE_REDIRECT_END,Ge.Redirect),a.end({success:!1},f),d})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(Y.AcquireTokenPreRedirect,n);r.add({accountType:ho(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=a=>{const l=typeof i=="function"?i(a):void 0;return l!==!1?r.end({success:!0}):r.discard(),l};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=l=>{const u=typeof a=="function"?a(l):void 0;return u!==!1?r.end({success:!0}):r.discard(),u}}const o=this.getAllAccounts().length>0;try{k_(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Fa.SIGNIN),o?this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_START,Ge.Redirect,e):this.eventHandler.emitEvent(Be.LOGIN_START,Ge.Redirect,e);let a;return this.nativeExtensionProvider&&this.canUsePlatformBroker(e)?a=new i0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ht.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(u=>{if(u instanceof yo&&Hl(u))return this.nativeExtensionProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(u instanceof Ji)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw u}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),r.end({success:!1},a),o?this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_FAILURE,Ge.Redirect,null,a):this.eventHandler.emitEvent(Be.LOGIN_FAILURE,Ge.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Y.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:ho(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Ih(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Fa.SIGNIN)}catch(l){return Promise.reject(l)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_START,Ge.Popup,e):this.eventHandler.emitEvent(Be.LOGIN_START,Ge.Popup,e);let o;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?o=this.acquireTokenNative({...e,correlationId:n},Ht.acquireTokenPopup).then(l=>(r.end({success:!0,isNativeBroker:!0,accountType:ho(l.account)}),l)).catch(l=>{if(l instanceof yo&&Hl(l))return this.nativeExtensionProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(l instanceof Ji)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw l}):o=this.createPopupClient(n).acquireToken(e,a),o.then(l=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(Be.LOGIN_SUCCESS,Ge.Popup,l):this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_SUCCESS,Ge.Popup,l),r.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:ho(l.account)}),l)).catch(l=>(i.length>0?this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_FAILURE,Ge.Popup,null,l):this.eventHandler.emitEvent(Be.LOGIN_FAILURE,Ge.Popup,null,l),r.end({success:!1},l),Promise.reject(l))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,a;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Y.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:ho(e.account)}),Ih(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(Be.SSO_SILENT_START,Ge.Silent,r);let i;return this.canUsePlatformBroker(r)?i=this.acquireTokenNative(r,Ht.ssoSilent).catch(l=>{if(l instanceof yo&&Hl(l))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw l}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(l=>{var u;return this.eventHandler.emitEvent(Be.SSO_SILENT_SUCCESS,Ge.Silent,l),(u=this.ssoSilentMeasurement)==null||u.end({success:!0,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:ho(l.account)}),l}).catch(l=>{var u;throw this.eventHandler.emitEvent(Be.SSO_SILENT_FAILURE,Ge.Silent,null,l),(u=this.ssoSilentMeasurement)==null||u.end({success:!1},l),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(Y.AcquireTokenByCode,n);Ih(this.initialized,r),this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_BY_CODE_START,Ge.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Re(kp);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Ge.Silent,a),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ho(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ge.Silent,null,a),r.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:n},Ht.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof yo&&Hl(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:ho(i.account),success:!0}),i}else throw Re(Tp);else throw Re(Ap)}catch(i){throw this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ge.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Y.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker}),o}).catch(o=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(Y.AcquireTokenFromCache,e.correlationId),n){case kr.Default:case kr.AccessToken:case kr.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return xe(r.acquireToken.bind(r),Y.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ke(Ha)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(Y.AcquireTokenByRefreshToken,e.correlationId),n){case kr.Default:case kr.AccessTokenAndRefreshToken:case kr.RefreshToken:case kr.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return xe(r.acquireToken.bind(r),Y.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ke(Ha)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Y.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return xe(n.acquireToken.bind(n),Y.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return k_(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Fa.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return AC(this.initialized),this.browserStorage.setInteractionInProgress(!0,Fa.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){return m9(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return g9(e,this.logger,this.browserStorage)}getAccountByUsername(e){return y9(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return v9(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return x9(e,this.logger,this.browserStorage)}setActiveAccount(e){w9(e,this.browserStorage)}getActiveAccount(){return b9(this.browserStorage)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=Dr.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,i){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Re(md);return new i0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case sr.NONE:case sr.CONSENT:case sr.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new $9(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new H9(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new G9(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ht.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new WR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Y9(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new J9(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ht.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return $R(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==lr.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==lr.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Zi():ge.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||C_})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||C_})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Y.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Ih(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw Re(vp);return r.add({accountType:ho(i)}),this.acquireTokenSilentDeduped(e,i,n).then(o=>(r.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),{...o,state:e.state,correlationId:n})).catch(o=>{throw o instanceof Gt&&o.setCorrelationId(n),r.end({success:!1},o),o})}async acquireTokenSilentDeduped(e,n,r){const i=Lm(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:r},n.homeAccountId),o=JSON.stringify(i),a=this.activeSilentTokenRequests.get(o);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const l=xe(this.acquireTokenSilentAsync.bind(this),Y.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(o,l),l.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),a}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Y.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_START,Ge.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await xe(E9,Y.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||kr.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async l=>{if(ez(l,o))if(this.activeIframeRequest)if(o!==kr.Skip){const[d,f]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${f}`,i.correlationId);const p=this.performanceClient.startMeasurement(Y.AwaitConcurrentIframe,i.correlationId);p.add({awaitIframeCorrelationId:f});const g=await d;if(p.end({success:g}),g)return this.logger.verbose(`Parallel iframe request with correlationId: ${f} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${f} failed. Interaction is required.`),l}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),xe(this.acquireTokenBySilentIframe.bind(this),Y.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let d;return this.activeIframeRequest=[new Promise(f=>{d=f}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),xe(this.acquireTokenBySilentIframe.bind(this),Y.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(f=>(d(!0),f)).catch(f=>{throw d(!1),f}).finally(()=>{this.activeIframeRequest=void 0})}else throw l}).then(l=>(this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_SUCCESS,Ge.Silent,l),e.correlationId&&this.performanceClient.addFields({fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker},e.correlationId),l)).catch(l=>{throw this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_FAILURE,Ge.Silent,null,l),l}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return vo.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Ht.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw r instanceof yo&&Hl(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,ke(Ha)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===kr.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),xe(this.acquireTokenFromCache.bind(this),Y.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===kr.AccessToken)throw r;return this.eventHandler.emitEvent(Be.ACQUIRE_TOKEN_NETWORK_START,Ge.Silent,e),xe(this.acquireTokenByRefreshToken.bind(this),Y.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await xe(zm,Y.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),Z9(n,e,this.logger)}}function ez(t,e){const n=!(t instanceof Ji&&t.subError!==Um),r=t.errorCode===zr.INVALID_GRANT_ERROR||t.errorCode===Ha,i=n&&r||t.errorCode===ap||t.errorCode===hC,o=I7.includes(e);return i&&o}/*! @azure/msal-browser v4.12.0 2025-05-06 */async function tz(t,e){const n=new Ws(t);return await n.initialize(),Km.createController(n,e)}/*! @azure/msal-browser v4.12.0 2025-05-06 */class OC{static async createPublicClientApplication(e){const n=await tz(e);return new OC(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new Km(new Ws(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.12.0 2025-05-06 */const nz={initialize:()=>Promise.reject(Nn(_n)),acquireTokenPopup:()=>Promise.reject(Nn(_n)),acquireTokenRedirect:()=>Promise.reject(Nn(_n)),acquireTokenSilent:()=>Promise.reject(Nn(_n)),acquireTokenByCode:()=>Promise.reject(Nn(_n)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Nn(_n)),loginPopup:()=>Promise.reject(Nn(_n)),loginRedirect:()=>Promise.reject(Nn(_n)),logout:()=>Promise.reject(Nn(_n)),logoutRedirect:()=>Promise.reject(Nn(_n)),logoutPopup:()=>Promise.reject(Nn(_n)),ssoSilent:()=>Promise.reject(Nn(_n)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Nn(_n)},getLogger:()=>{throw Nn(_n)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Nn(_n)},hydrateCache:()=>Promise.reject(Nn(_n)),clearCache:()=>Promise.reject(Nn(_n))};/*! @azure/msal-browser v4.12.0 2025-05-06 */class rz{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case Be.LOGIN_START:return Pn.Login;case Be.SSO_SILENT_START:return Pn.SsoSilent;case Be.ACQUIRE_TOKEN_START:if(e.interactionType===Ge.Redirect||e.interactionType===Ge.Popup)return Pn.AcquireToken;break;case Be.HANDLE_REDIRECT_START:return Pn.HandleRedirect;case Be.LOGOUT_START:return Pn.Logout;case Be.SSO_SILENT_SUCCESS:case Be.SSO_SILENT_FAILURE:if(n&&n!==Pn.SsoSilent)break;return Pn.None;case Be.LOGOUT_END:if(n&&n!==Pn.Logout)break;return Pn.None;case Be.HANDLE_REDIRECT_END:if(n&&n!==Pn.HandleRedirect)break;return Pn.None;case Be.LOGIN_SUCCESS:case Be.LOGIN_FAILURE:case Be.ACQUIRE_TOKEN_SUCCESS:case Be.ACQUIRE_TOKEN_FAILURE:case Be.RESTORE_FROM_BFCACHE:if(e.interactionType===Ge.Redirect||e.interactionType===Ge.Popup){if(n&&n!==Pn.Login&&n!==Pn.AcquireToken)break;return Pn.None}break}return null}}/*! @azure/msal-react v3.0.12 2025-05-06 */const iz={instance:nz,inProgress:Pn.None,accounts:[],logger:new Xo({})},jC=S.createContext(iz);jC.Consumer;/*! @azure/msal-react v3.0.12 2025-05-06 */function O_(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}/*! @azure/msal-react v3.0.12 2025-05-06 */const oz="@azure/msal-react",j_="3.0.12";/*! @azure/msal-react v3.0.12 2025-05-06 */const Mp={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},az=(t,e)=>{const{type:n,payload:r}=e;let i=t.inProgress;switch(n){case Mp.UNBLOCK_INPROGRESS:t.inProgress===Pn.Startup&&(i=Pn.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Mp.EVENT:const a=r.message,l=rz.getInteractionStatusFromEvent(a,t.inProgress);l&&(r.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${l}`),i=l);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===Pn.Startup)return t;const o=r.instance.getAllAccounts();return i!==t.inProgress&&!O_(o,t.accounts)?{...t,inProgress:i,accounts:o}:i!==t.inProgress?{...t,inProgress:i}:O_(o,t.accounts)?t:{...t,accounts:o}};function sz({instance:t,children:e}){S.useEffect(()=>{t.initializeWrapperLibrary(_7.React,j_)},[t]);const n=S.useMemo(()=>t.getLogger().clone(oz,j_),[t]),[r,i]=S.useReducer(az,void 0,()=>({inProgress:Pn.Startup,accounts:[]}));S.useEffect(()=>{const a=t.addEventCallback(l=>{i({payload:{instance:t,logger:n,message:l},type:Mp.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:n},type:Mp.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(n.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,n]);const o={instance:t,inProgress:r.inProgress,accounts:r.accounts,logger:n};return ZO.createElement(jC.Provider,{value:o},e)}/*! @azure/msal-react v3.0.12 2025-05-06 */const QR=()=>S.useContext(jC);/*! @azure/msal-react v3.0.12 2025-05-06 */function lz(t,e){return t.length>0}function cz(t){const{accounts:e,inProgress:n}=QR();return S.useMemo(()=>n===Pn.Startup?!1:lz(e),[e,n,t])}const uz={auth:{clientId:"76064fb0-a595-4e08-8f74-48fdd4bcd5d0",authority:"https://login.microsoftonline.com/0eadb77e-42dc-47f8-bbe3-ec2395e0712c",redirectUri:"https://qtrackly-fbf5d-22ea3.web.app"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},R_={scopes:["User.Read","api://4a8ac758-c6bb-408f-8fdc-03e0a8bf72e9/QTask_Backend"]},dz={scopes:["api://4a8ac758-c6bb-408f-8fdc-03e0a8bf72e9/QTask_Backend"]},fz={scopes:["User.Read"]},Rv=new OC(uz);function XR(t,e){return function(){return t.apply(e,arguments)}}const{toString:hz}=Object.prototype,{getPrototypeOf:RC}=Object,{iterator:qm,toStringTag:JR}=Symbol,Vm=(t=>e=>{const n=hz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ro=t=>(t=t.toLowerCase(),e=>Vm(e)===t),Wm=t=>e=>typeof e===t,{isArray:Pc}=Array,vd=Wm("undefined");function pz(t){return t!==null&&!vd(t)&&t.constructor!==null&&!vd(t.constructor)&&Vr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZR=ro("ArrayBuffer");function mz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZR(t.buffer),e}const gz=Wm("string"),Vr=Wm("function"),e4=Wm("number"),Gm=t=>t!==null&&typeof t=="object",yz=t=>t===!0||t===!1,o0=t=>{if(Vm(t)!=="object")return!1;const e=RC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JR in t)&&!(qm in t)},vz=ro("Date"),xz=ro("File"),wz=ro("Blob"),bz=ro("FileList"),Cz=t=>Gm(t)&&Vr(t.pipe),Sz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vr(t.append)&&((e=Vm(t))==="formdata"||e==="object"&&Vr(t.toString)&&t.toString()==="[object FormData]"))},Ez=ro("URLSearchParams"),[Az,kz,Tz,_z]=["ReadableStream","Request","Response","Headers"].map(ro),Nz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let l;for(r=0;r<a;r++)l=o[r],e.call(null,t[l],l,t)}}function t4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n4=t=>!vd(t)&&t!==Es;function cb(){const{caseless:t}=n4(this)&&this||{},e={},n=(r,i)=>{const o=t&&t4(e,i)||i;o0(e[o])&&o0(r)?e[o]=cb(e[o],r):o0(r)?e[o]=cb({},r):Pc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qd(arguments[r],n);return e}const Pz=(t,e,n,{allOwnKeys:r}={})=>(qd(e,(i,o)=>{n&&Vr(i)?t[o]=XR(i,n):t[o]=i},{allOwnKeys:r}),t),Iz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dz=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Oz=(t,e,n,r)=>{let i,o,a;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&RC(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},jz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Rz=t=>{if(!t)return null;if(Pc(t))return t;let e=t.length;if(!e4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Mz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&RC(Uint8Array)),Bz=(t,e)=>{const r=(t&&t[qm]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Fz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Lz=ro("HTMLFormElement"),$z=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),M_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Uz=ro("RegExp"),r4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qd(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},Hz=t=>{r4(t,(e,n)=>{if(Vr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Vr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zz=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Pc(t)?r(t):r(String(t).split(e)),n},Kz=()=>{},qz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Vz(t){return!!(t&&Vr(t.append)&&t[JR]==="FormData"&&t[qm])}const Wz=t=>{const e=new Array(10),n=(r,i)=>{if(Gm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Pc(r)?[]:{};return qd(r,(a,l)=>{const u=n(a,i+1);!vd(u)&&(o[l]=u)}),e[i]=void 0,o}}return r};return n(t,0)},Gz=ro("AsyncFunction"),Yz=t=>t&&(Gm(t)||Vr(t))&&Vr(t.then)&&Vr(t.catch),i4=((t,e)=>t?setImmediate:e?((n,r)=>(Es.addEventListener("message",({source:i,data:o})=>{i===Es&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Es.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vr(Es.postMessage)),Qz=typeof queueMicrotask<"u"?queueMicrotask.bind(Es):typeof process<"u"&&process.nextTick||i4,Xz=t=>t!=null&&Vr(t[qm]),fe={isArray:Pc,isArrayBuffer:ZR,isBuffer:pz,isFormData:Sz,isArrayBufferView:mz,isString:gz,isNumber:e4,isBoolean:yz,isObject:Gm,isPlainObject:o0,isReadableStream:Az,isRequest:kz,isResponse:Tz,isHeaders:_z,isUndefined:vd,isDate:vz,isFile:xz,isBlob:wz,isRegExp:Uz,isFunction:Vr,isStream:Cz,isURLSearchParams:Ez,isTypedArray:Mz,isFileList:bz,forEach:qd,merge:cb,extend:Pz,trim:Nz,stripBOM:Iz,inherits:Dz,toFlatObject:Oz,kindOf:Vm,kindOfTest:ro,endsWith:jz,toArray:Rz,forEachEntry:Bz,matchAll:Fz,isHTMLForm:Lz,hasOwnProperty:M_,hasOwnProp:M_,reduceDescriptors:r4,freezeMethods:Hz,toObjectSet:zz,toCamelCase:$z,noop:Kz,toFiniteNumber:qz,findKey:t4,global:Es,isContextDefined:n4,isSpecCompliantForm:Vz,toJSONObject:Wz,isAsyncFn:Gz,isThenable:Yz,setImmediate:i4,asap:Qz,isIterable:Xz};function ft(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}fe.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const o4=ft.prototype,a4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{a4[t]={value:t}});Object.defineProperties(ft,a4);Object.defineProperty(o4,"isAxiosError",{value:!0});ft.from=(t,e,n,r,i,o)=>{const a=Object.create(o4);return fe.toFlatObject(t,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),ft.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const Jz=null;function ub(t){return fe.isPlainObject(t)||fe.isArray(t)}function s4(t){return fe.endsWith(t,"[]")?t.slice(0,-2):t}function B_(t,e,n){return t?t.concat(e).map(function(i,o){return i=s4(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Zz(t){return fe.isArray(t)&&!t.some(ub)}const eK=fe.toFlatObject(fe,{},null,function(e){return/^is[A-Z]/.test(e)});function Ym(t,e,n){if(!fe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!fe.isUndefined(b[w])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(e);if(!fe.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(fe.isDate(v))return v.toISOString();if(!u&&fe.isBlob(v))throw new ft("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(v)||fe.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,w,b){let E=v;if(v&&!b&&typeof v=="object"){if(fe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(fe.isArray(v)&&Zz(v)||(fe.isFileList(v)||fe.endsWith(w,"[]"))&&(E=fe.toArray(v)))return w=s4(w),E.forEach(function(k,N){!(fe.isUndefined(k)||k===null)&&e.append(a===!0?B_([w],N,o):a===null?w:w+"[]",d(k))}),!1}return ub(v)?!0:(e.append(B_(b,w,o),d(v)),!1)}const p=[],g=Object.assign(eK,{defaultVisitor:f,convertValue:d,isVisitable:ub});function y(v,w){if(!fe.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(v),fe.forEach(v,function(E,C){(!(fe.isUndefined(E)||E===null)&&i.call(e,E,fe.isString(C)?C.trim():C,w,g))===!0&&y(E,w?w.concat(C):[C])}),p.pop()}}if(!fe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function F_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function MC(t,e){this._pairs=[],t&&Ym(t,this,e)}const l4=MC.prototype;l4.append=function(e,n){this._pairs.push([e,n])};l4.toString=function(e){const n=e?function(r){return e.call(this,r,F_)}:F_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function tK(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function c4(t,e,n){if(!e)return t;const r=n&&n.encode||tK;fe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=fe.isURLSearchParams(e)?e.toString():new MC(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class L_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){fe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const u4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nK=typeof URLSearchParams<"u"?URLSearchParams:MC,rK=typeof FormData<"u"?FormData:null,iK=typeof Blob<"u"?Blob:null,oK={isBrowser:!0,classes:{URLSearchParams:nK,FormData:rK,Blob:iK},protocols:["http","https","file","blob","url","data"]},BC=typeof window<"u"&&typeof document<"u",db=typeof navigator=="object"&&navigator||void 0,aK=BC&&(!db||["ReactNative","NativeScript","NS"].indexOf(db.product)<0),sK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lK=BC&&window.location.href||"http://localhost",cK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BC,hasStandardBrowserEnv:aK,hasStandardBrowserWebWorkerEnv:sK,navigator:db,origin:lK},Symbol.toStringTag,{value:"Module"})),wr={...cK,...oK};function uK(t,e){return Ym(t,new wr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return wr.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function dK(t){return fe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fK(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function d4(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=o>=n.length;return a=!a&&fe.isArray(i)?i.length:a,u?(fe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!fe.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&fe.isArray(i[a])&&(i[a]=fK(i[a])),!l)}if(fe.isFormData(t)&&fe.isFunction(t.entries)){const n={};return fe.forEachEntry(t,(r,i)=>{e(dK(r),i,n,0)}),n}return null}function hK(t,e,n){if(fe.isString(t))try{return(e||JSON.parse)(t),fe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Vd={transitional:u4,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=fe.isObject(e);if(o&&fe.isHTMLForm(e)&&(e=new FormData(e)),fe.isFormData(e))return i?JSON.stringify(d4(e)):e;if(fe.isArrayBuffer(e)||fe.isBuffer(e)||fe.isStream(e)||fe.isFile(e)||fe.isBlob(e)||fe.isReadableStream(e))return e;if(fe.isArrayBufferView(e))return e.buffer;if(fe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uK(e,this.formSerializer).toString();if((l=fe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ym(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),hK(e)):e}],transformResponse:[function(e){const n=this.transitional||Vd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(fe.isResponse(e)||fe.isReadableStream(e))return e;if(e&&fe.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?ft.from(l,ft.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],t=>{Vd.headers[t]={}});const pK=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mK=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&pK[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$_=Symbol("internals");function Tu(t){return t&&String(t).trim().toLowerCase()}function a0(t){return t===!1||t==null?t:fe.isArray(t)?t.map(a0):String(t)}function gK(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const yK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mv(t,e,n,r,i){if(fe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!fe.isString(e)){if(fe.isString(r))return e.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(e)}}function vK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function xK(t,e){const n=fe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}class Wr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,u,d){const f=Tu(u);if(!f)throw new Error("header name must be a non-empty string");const p=fe.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||u]=a0(l))}const a=(l,u)=>fe.forEach(l,(d,f)=>o(d,f,u));if(fe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(fe.isString(e)&&(e=e.trim())&&!yK(e))a(mK(e),n);else if(fe.isObject(e)&&fe.isIterable(e)){let l={},u,d;for(const f of e){if(!fe.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?fe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Tu(e),e){const r=fe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return gK(i);if(fe.isFunction(n))return n.call(this,i,r);if(fe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Tu(e),e){const r=fe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=Tu(a),a){const l=fe.findKey(r,a);l&&(!n||Mv(r,r[l],l,n))&&(delete r[l],i=!0)}}return fe.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Mv(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return fe.forEach(this,(i,o)=>{const a=fe.findKey(r,o);if(a){n[a]=a0(i),delete n[o];return}const l=e?vK(o):String(o).trim();l!==o&&delete n[o],n[l]=a0(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return fe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[$_]=this[$_]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=Tu(a);r[l]||(xK(i,a),r[l]=!0)}return fe.isArray(e)?e.forEach(o):o(e),this}}Wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(Wr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});fe.freezeMethods(Wr);function Bv(t,e){const n=this||Vd,r=e||n,i=Wr.from(r.headers);let o=r.data;return fe.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function f4(t){return!!(t&&t.__CANCEL__)}function Ic(t,e,n){ft.call(this,t??"canceled",ft.ERR_CANCELED,e,n),this.name="CanceledError"}fe.inherits(Ic,ft,{__CANCEL__:!0});function h4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ft("Request failed with status code "+n.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=r[o];a||(a=d),n[i]=u,r[i]=d;let p=o,g=0;for(;p!==i;)g+=n[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-a<e)return;const y=f&&d-f;return y?Math.round(g*1e3/y):void 0}}function CK(t,e){let n=0,r=1e3/e,i,o;const a=(d,f=Date.now())=>{n=f,i=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-n;p>=r?a(d,f):(i=d,o||(o=setTimeout(()=>{o=null,a(i)},r-p)))},()=>i&&a(i)]}const Bp=(t,e,n=3)=>{let r=0;const i=bK(50,250);return CK(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,u=a-r,d=i(u),f=a<=l;r=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-a)/d:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},U_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},H_=t=>(...e)=>fe.asap(()=>t(...e)),SK=wr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,wr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,EK=wr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];fe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),fe.isString(r)&&a.push("path="+r),fe.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kK(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function p4(t,e,n){let r=!AK(e);return t&&(r||n==!1)?kK(t,e):e}const z_=t=>t instanceof Wr?{...t}:t;function Gs(t,e){e=e||{};const n={};function r(d,f,p,g){return fe.isPlainObject(d)&&fe.isPlainObject(f)?fe.merge.call({caseless:g},d,f):fe.isPlainObject(f)?fe.merge({},f):fe.isArray(f)?f.slice():f}function i(d,f,p,g){if(fe.isUndefined(f)){if(!fe.isUndefined(d))return r(void 0,d,p,g)}else return r(d,f,p,g)}function o(d,f){if(!fe.isUndefined(f))return r(void 0,f)}function a(d,f){if(fe.isUndefined(f)){if(!fe.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,p){if(p in e)return r(d,f);if(p in t)return r(void 0,d)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,f,p)=>i(z_(d),z_(f),p,!0)};return fe.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=u[f]||i,g=p(t[f],e[f],f);fe.isUndefined(g)&&p!==l||(n[f]=g)}),n}const m4=t=>{const e=Gs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=e;e.headers=a=Wr.from(a),e.url=c4(p4(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(fe.isFormData(n)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(wr.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(e)),r||r!==!1&&SK(e.url))){const d=i&&o&&EK.read(o);d&&a.set(i,d)}return e},TK=typeof XMLHttpRequest<"u",_K=TK&&function(t){return new Promise(function(n,r){const i=m4(t);let o=i.data;const a=Wr.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,f,p,g,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function E(){if(!b)return;const k=Wr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:k,config:t,request:b};h4(function(D){n(D),w()},function(D){r(D),w()},_),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new ft("Request aborted",ft.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new ft("Network Error",ft.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||u4;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new ft(N,_.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,t,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&fe.forEach(a.toJSON(),function(N,_){b.setRequestHeader(_,N)}),fe.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),d&&([g,v]=Bp(d,!0),b.addEventListener("progress",g)),u&&b.upload&&([p,y]=Bp(u),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=k=>{b&&(r(!k||k.type?new Ic(null,t,b):k),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=wK(i.url);if(C&&wr.protocols.indexOf(C)===-1){r(new ft("Unsupported protocol "+C+":",ft.ERR_BAD_REQUEST,t));return}b.send(o||null)})},NK=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof ft?f:new Ic(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,o(new ft(`timeout ${e} of ms exceeded`,ft.ETIMEDOUT))},e);const l=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>fe.asap(l),u}},PK=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},IK=async function*(t,e){for await(const n of DK(t))yield*PK(n,e)},DK=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},K_=(t,e,n,r)=>{const i=IK(t,e);let o=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await i.next();if(d){l(),u.close();return}let p=f.byteLength;if(n){let g=o+=p;n(g)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Qm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",g4=Qm&&typeof ReadableStream=="function",OK=Qm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),y4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jK=g4&&y4(()=>{let t=!1;const e=new Request(wr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),q_=64*1024,fb=g4&&y4(()=>fe.isReadableStream(new Response("").body)),Fp={stream:fb&&(t=>t.body)};Qm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fp[e]&&(Fp[e]=fe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ft(`Response type '${e}' is not supported`,ft.ERR_NOT_SUPPORT,r)})})})(new Response);const RK=async t=>{if(t==null)return 0;if(fe.isBlob(t))return t.size;if(fe.isSpecCompliantForm(t))return(await new Request(wr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(t)||fe.isArrayBuffer(t))return t.byteLength;if(fe.isURLSearchParams(t)&&(t=t+""),fe.isString(t))return(await OK(t)).byteLength},MK=async(t,e)=>{const n=fe.toFiniteNumber(t.getContentLength());return n??RK(e)},BK=Qm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:g}=m4(t);d=d?(d+"").toLowerCase():"text";let y=NK([i,o&&o.toAbortSignal()],a),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let b;try{if(u&&jK&&n!=="get"&&n!=="head"&&(b=await MK(f,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(fe.isFormData(r)&&(P=_.headers.get("content-type"))&&f.setContentType(P),_.body){const[D,R]=U_(b,Bp(H_(u)));r=K_(_.body,q_,D,R)}}fe.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;v=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:E?p:void 0});let C=await fetch(v);const k=fb&&(d==="stream"||d==="response");if(fb&&(l||k&&w)){const _={};["status","statusText","headers"].forEach(F=>{_[F]=C[F]});const P=fe.toFiniteNumber(C.headers.get("content-length")),[D,R]=l&&U_(P,Bp(H_(l),!0))||[];C=new Response(K_(C.body,q_,D,()=>{R&&R(),w&&w()}),_)}d=d||"text";let N=await Fp[fe.findKey(Fp,d)||"text"](C,t);return!k&&w&&w(),await new Promise((_,P)=>{h4(_,P,{data:N,headers:Wr.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:v})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,t,v),{cause:E.cause||E}):ft.from(E,E&&E.code,t,v)}}),hb={http:Jz,xhr:_K,fetch:BK};fe.forEach(hb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const V_=t=>`- ${t}`,FK=t=>fe.isFunction(t)||t===null||t===!1,v4={getAdapter:t=>{t=fe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let a;if(r=n,!FK(n)&&(r=hb[(a=String(n)).toLowerCase()],r===void 0))throw new ft(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(V_).join(`
`):" "+V_(o[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:hb};function Fv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ic(null,t)}function W_(t){return Fv(t),t.headers=Wr.from(t.headers),t.data=Bv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),v4.getAdapter(t.adapter||Vd.adapter)(t).then(function(r){return Fv(t),r.data=Bv.call(t,t.transformResponse,r),r.headers=Wr.from(r.headers),r},function(r){return f4(r)||(Fv(t),r&&r.response&&(r.response.data=Bv.call(t,t.transformResponse,r.response),r.response.headers=Wr.from(r.response.headers))),Promise.reject(r)})}const x4="1.9.0",Xm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const G_={};Xm.transitional=function(e,n,r){function i(o,a){return"[Axios v"+x4+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(e===!1)throw new ft(i(a," has been removed"+(n?" in "+n:"")),ft.ERR_DEPRECATED);return n&&!G_[a]&&(G_[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,l):!0}};Xm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function LK(t,e,n){if(typeof t!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const l=t[o],u=l===void 0||a(l,o,t);if(u!==!0)throw new ft("option "+o+" must be "+u,ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ft("Unknown option "+o,ft.ERR_BAD_OPTION)}}const s0={assertOptions:LK,validators:Xm},po=s0.validators;class Os{constructor(e){this.defaults=e||{},this.interceptors={request:new L_,response:new L_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Gs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&s0.assertOptions(r,{silentJSONParsing:po.transitional(po.boolean),forcedJSONParsing:po.transitional(po.boolean),clarifyTimeoutError:po.transitional(po.boolean)},!1),i!=null&&(fe.isFunction(i)?n.paramsSerializer={serialize:i}:s0.assertOptions(i,{encode:po.function,serialize:po.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),s0.assertOptions(n,{baseUrl:po.spelling("baseURL"),withXsrfToken:po.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&fe.merge(o.common,o[n.method]);o&&fe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=Wr.concat(a,o);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let f,p=0,g;if(!u){const v=[W_.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),g=v.length,f=Promise.resolve(n);p<g;)f=f.then(v[p++],v[p++]);return f}g=l.length;let y=n;for(p=0;p<g;){const v=l[p++],w=l[p++];try{y=v(y)}catch(b){w.call(this,b);break}}try{f=W_.call(this,y)}catch(v){return Promise.reject(v)}for(p=0,g=d.length;p<g;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=Gs(this.defaults,e);const n=p4(e.baseURL,e.url,e.allowAbsoluteUrls);return c4(n,e.params,e.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(e){Os.prototype[e]=function(n,r){return this.request(Gs(r||{},{method:e,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,l){return this.request(Gs(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Os.prototype[e]=n(),Os.prototype[e+"Form"]=n(!0)});class FC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,l){r.reason||(r.reason=new Ic(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new FC(function(i){e=i}),cancel:e}}}function $K(t){return function(n){return t.apply(null,n)}}function UK(t){return fe.isObject(t)&&t.isAxiosError===!0}const pb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pb).forEach(([t,e])=>{pb[e]=t});function w4(t){const e=new Os(t),n=XR(Os.prototype.request,e);return fe.extend(n,Os.prototype,e,{allOwnKeys:!0}),fe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return w4(Gs(t,i))},n}const ot=w4(Vd);ot.Axios=Os;ot.CanceledError=Ic;ot.CancelToken=FC;ot.isCancel=f4;ot.VERSION=x4;ot.toFormData=Ym;ot.AxiosError=ft;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=$K;ot.isAxiosError=UK;ot.mergeConfig=Gs;ot.AxiosHeaders=Wr;ot.formToJSON=t=>d4(fe.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=v4.getAdapter;ot.HttpStatusCode=pb;ot.default=ot;const b4=async(t,e,n,r=null)=>{var i,o;try{const a={method:t,url:`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net${e}`,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},data:r};return(await ot(a)).data}catch(a){throw console.error(`API request failed for ${e}:`,a),new Error(`API error: ${(i=a.response)==null?void 0:i.status} - ${((o=a.response)==null?void 0:o.statusText)||a.message}`)}},HK=async t=>b4("GET","/api/auth/me",t),C4=S.createContext(),Lo={IDLE:"idle",LOADING:"loading",AUTHENTICATED:"authenticated",ERROR:"error"},zK=({children:t})=>{const{instance:e,accounts:n}=QR(),r=cz(),[i,o]=S.useState(Lo.IDLE),[a,l]=S.useState([]),[u,d]=S.useState(null),[f,p]=S.useState(null),[g,y]=S.useState(!1),v=S.useCallback(async(P="api")=>{if(!n[0])throw new Error("No active account found. Please sign in again.");const D=P==="graph"?{...fz,account:n[0]}:{...dz,account:n[0]};try{const R=await e.acquireTokenSilent(D);return console.log(`Token acquired successfully for ${P}`),R.accessToken}catch(R){if(console.error(`Token acquisition failed for ${P}:`,R),R.name==="InteractionRequiredAuthError")return console.log("Interaction required, redirecting..."),await e.acquireTokenRedirect(D),null;throw R}},[e,n]),w=S.useCallback(async(P=0)=>{if(!r||!n[0]){o(Lo.IDLE);return}try{o(Lo.LOADING),p(null);const R=await v("api");if(!R)return;const F=await HK(R);console.log("User data fetched:",F);const O=F.roles&&F.roles.length>0?F.roles:["user"];l(O),d({id:n[0].localAccountId,username:n[0].username,name:n[0].name,email:n[0].username,roles:O});try{await b4("GET","/api/user/profile",R),console.log("User profile synchronized with backend")}catch(B){console.warn("Profile sync failed:",B)}o(Lo.AUTHENTICATED),y(!0)}catch(R){if(console.error("Error fetching user data:",R),R.message.includes("403")||R.message.includes("consent")){p("Additional permissions required. Please re-authenticate."),await e.loginRedirect({...R_,prompt:"consent"});return}if(P<3){console.log(`Retrying user data fetch (${P+1}/3)`),setTimeout(()=>w(P+1),1e3*(P+1));return}console.warn("Using fallback user role after retries"),l(["user"]),d({id:n[0].localAccountId,username:n[0].username,name:n[0].name,email:n[0].username,roles:["user"]}),p(`Failed to load user permissions: ${R.message}`),o(Lo.AUTHENTICATED),y(!0)}},[r,n,v,e]);S.useEffect(()=>{r&&n.length>0&&!g?w():r||(o(Lo.IDLE),l([]),d(null),p(null),y(!1))},[r,n,g,w]);const b=S.useCallback(async()=>{try{p(null),o(Lo.LOADING),await e.loginRedirect(R_)}catch(P){console.error("Login error:",P),p("Login failed. Please try again."),o(Lo.ERROR)}},[e]),E=S.useCallback(async()=>{try{p(null),await e.logoutRedirect({postLogoutRedirectUri:window.location.origin})}catch(P){console.error("Logout error:",P),p("Logout failed. Please try again.")}},[e]),C=S.useCallback(()=>a.includes("admin")?"admin":a.includes("manager")?"manager":"user",[a]),k=S.useCallback(P=>{if(!a||a.length===0||!P)return!1;const D=a.map(F=>F.toLowerCase());if(Array.isArray(P)){const F=P.map(O=>O.toLowerCase());return D.includes("admin")?!0:F.some(O=>O==="user"&&D.includes("manager")?!0:D.includes(O))}const R=P.toLowerCase();return D.includes("admin")||R==="user"&&D.includes("manager")?!0:D.includes(R)},[a]),N=S.useCallback(()=>{r&&n.length>0?w():b()},[r,n,w,b]),_={isAuthenticated:r,authState:i,user:u,userRoles:a,isLoading:i===Lo.LOADING,isInitialized:g,error:f,login:b,logout:E,acquireToken:v,retry:N,getPrimaryRole:C,hasRole:k};return h.jsx(C4.Provider,{value:_,children:t})},Bn=()=>{const t=S.useContext(C4);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Gn=ot.create({baseURL:"https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api",headers:{"Content-Type":"application/json"}}),S4=t=>{Gn.interceptors.request.use(async e=>{try{const n=await t("api");if(!n)throw console.error(" No token acquired for request:",{url:e.url,method:e.method}),new Error("Authentication token is missing");return e.headers.Authorization=`Bearer ${n}`,e}catch(n){return console.error(" Error acquiring token:",n.message),Promise.reject(n)}}),Gn.interceptors.response.use(e=>e,async e=>{var r,i;const n=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!n._retry){console.warn(" 401 Unauthorized, retrying with new token..."),n._retry=!0;try{const o=await t("api",{forceRefresh:!0});if(!o)throw new Error("Failed to refresh token");return n.headers.Authorization=`Bearer ${o}`,Gn(n)}catch(o){return console.error(" Token refresh failed:",o.message),Promise.reject(o)}}return console.error(" API request failed:",(i=e.response)==null?void 0:i.statusText),Promise.reject(e)})},No=async()=>{var t,e;try{console.debug("Fetching encryption keys...");const n=await Gn.get("/Encryption/keys");if(console.debug("Full API Response:",n),console.debug("Fetched encryption keys:",n.data),!n.data.aesKey||!n.data.aesIV)throw new Error("Invalid or missing encryption keys in response!");return n.data}catch(n){return console.error("Error fetching encryption keys:",{message:n.message,status:(t=n.response)==null?void 0:t.status,data:(e=n.response)==null?void 0:e.data}),{aesKey:"",aesIV:""}}},KK=async()=>{var t,e;try{const n=await Gn.get("/User/users");return console.debug("Fetched users:",n.data),n.data}catch(n){throw console.error("Error fetching users:",{message:n.message,status:(t=n.response)==null?void 0:t.status,data:(e=n.response)==null?void 0:e.data}),n}},qK=async t=>{var e,n;try{return await Gn.post("/User",t)}catch(r){throw console.error("Error submitting dependency request:",{message:r.message,status:(e=r.response)==null?void 0:e.status,data:(n=r.response)==null?void 0:n.data}),r}};var l0={exports:{}};function VK(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var c0={exports:{}};const WK={},GK=Object.freeze(Object.defineProperty({__proto__:null,default:WK},Symbol.toStringTag,{value:"Module"})),YK=NL(GK);var QK=c0.exports,Y_;function yt(){return Y_||(Y_=1,function(t,e){(function(n,r){t.exports=r()})(QK,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof Cv<"u"&&Cv.crypto&&(o=Cv.crypto),!o&&typeof VK=="function")try{o=YK}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function C(){}return function(k){var N;return C.prototype=k,N=new C,C.prototype=null,N}}(),u={},d=u.lib={},f=d.Base=function(){return{extend:function(C){var k=l(this);return C&&k.mixIn(C),(!k.hasOwnProperty("init")||this.init===k.init)&&(k.init=function(){k.$super.init.apply(this,arguments)}),k.init.prototype=k,k.$super=this,k},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var k in C)C.hasOwnProperty(k)&&(this[k]=C[k]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=d.WordArray=f.extend({init:function(C,k){C=this.words=C||[],k!=i?this.sigBytes=k:this.sigBytes=C.length*4},toString:function(C){return(C||y).stringify(this)},concat:function(C){var k=this.words,N=C.words,_=this.sigBytes,P=C.sigBytes;if(this.clamp(),_%4)for(var D=0;D<P;D++){var R=N[D>>>2]>>>24-D%4*8&255;k[_+D>>>2]|=R<<24-(_+D)%4*8}else for(var F=0;F<P;F+=4)k[_+F>>>2]=N[F>>>2];return this.sigBytes+=P,this},clamp:function(){var C=this.words,k=this.sigBytes;C[k>>>2]&=4294967295<<32-k%4*8,C.length=r.ceil(k/4)},clone:function(){var C=f.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var k=[],N=0;N<C;N+=4)k.push(a());return new p.init(k,C)}}),g=u.enc={},y=g.Hex={stringify:function(C){for(var k=C.words,N=C.sigBytes,_=[],P=0;P<N;P++){var D=k[P>>>2]>>>24-P%4*8&255;_.push((D>>>4).toString(16)),_.push((D&15).toString(16))}return _.join("")},parse:function(C){for(var k=C.length,N=[],_=0;_<k;_+=2)N[_>>>3]|=parseInt(C.substr(_,2),16)<<24-_%8*4;return new p.init(N,k/2)}},v=g.Latin1={stringify:function(C){for(var k=C.words,N=C.sigBytes,_=[],P=0;P<N;P++){var D=k[P>>>2]>>>24-P%4*8&255;_.push(String.fromCharCode(D))}return _.join("")},parse:function(C){for(var k=C.length,N=[],_=0;_<k;_++)N[_>>>2]|=(C.charCodeAt(_)&255)<<24-_%4*8;return new p.init(N,k)}},w=g.Utf8={stringify:function(C){try{return decodeURIComponent(escape(v.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return v.parse(unescape(encodeURIComponent(C)))}},b=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=w.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var k,N=this._data,_=N.words,P=N.sigBytes,D=this.blockSize,R=D*4,F=P/R;C?F=r.ceil(F):F=r.max((F|0)-this._minBufferSize,0);var O=F*D,B=r.min(O*4,P);if(O){for(var $=0;$<O;$+=D)this._doProcessBlock(_,$);k=_.splice(0,O),N.sigBytes-=B}return new p.init(k,B)},clone:function(){var C=f.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});d.Hasher=b.extend({cfg:f.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var k=this._doFinalize();return k},blockSize:16,_createHelper:function(C){return function(k,N){return new C.init(N).finalize(k)}},_createHmacHelper:function(C){return function(k,N){return new E.HMAC.init(C,N).finalize(k)}}});var E=u.algo={};return u}(Math);return n})}(c0)),c0.exports}var u0={exports:{}},XK=u0.exports,Q_;function Jm(){return Q_||(Q_=1,function(t,e){(function(n,r){t.exports=r(yt())})(XK,function(n){return function(r){var i=n,o=i.lib,a=o.Base,l=o.WordArray,u=i.x64={};u.Word=a.extend({init:function(d,f){this.high=d,this.low=f}}),u.WordArray=a.extend({init:function(d,f){d=this.words=d||[],f!=r?this.sigBytes=f:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,f=d.length,p=[],g=0;g<f;g++){var y=d[g];p.push(y.high),p.push(y.low)}return l.create(p,this.sigBytes)},clone:function(){for(var d=a.clone.call(this),f=d.words=this.words.slice(0),p=f.length,g=0;g<p;g++)f[g]=f[g].clone();return d}})}(),n})}(u0)),u0.exports}var d0={exports:{}},JK=d0.exports,X_;function ZK(){return X_||(X_=1,function(t,e){(function(n,r){t.exports=r(yt())})(JK,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,a=o.init,l=o.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var d=u.byteLength,f=[],p=0;p<d;p++)f[p>>>2]|=u[p]<<24-p%4*8;a.call(this,f,d)}else a.apply(this,arguments)};l.prototype=o}}(),n.lib.WordArray})}(d0)),d0.exports}var f0={exports:{}},eq=f0.exports,J_;function tq(){return J_||(J_=1,function(t,e){(function(n,r){t.exports=r(yt())})(eq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=r.enc;a.Utf16=a.Utf16BE={stringify:function(u){for(var d=u.words,f=u.sigBytes,p=[],g=0;g<f;g+=2){var y=d[g>>>2]>>>16-g%4*8&65535;p.push(String.fromCharCode(y))}return p.join("")},parse:function(u){for(var d=u.length,f=[],p=0;p<d;p++)f[p>>>1]|=u.charCodeAt(p)<<16-p%2*16;return o.create(f,d*2)}},a.Utf16LE={stringify:function(u){for(var d=u.words,f=u.sigBytes,p=[],g=0;g<f;g+=2){var y=l(d[g>>>2]>>>16-g%4*8&65535);p.push(String.fromCharCode(y))}return p.join("")},parse:function(u){for(var d=u.length,f=[],p=0;p<d;p++)f[p>>>1]|=l(u.charCodeAt(p)<<16-p%2*16);return o.create(f,d*2)}};function l(u){return u<<8&4278255360|u>>>8&16711935}}(),n.enc.Utf16})}(f0)),f0.exports}var h0={exports:{}},nq=h0.exports,Z_;function il(){return Z_||(Z_=1,function(t,e){(function(n,r){t.exports=r(yt())})(nq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=r.enc;a.Base64={stringify:function(u){var d=u.words,f=u.sigBytes,p=this._map;u.clamp();for(var g=[],y=0;y<f;y+=3)for(var v=d[y>>>2]>>>24-y%4*8&255,w=d[y+1>>>2]>>>24-(y+1)%4*8&255,b=d[y+2>>>2]>>>24-(y+2)%4*8&255,E=v<<16|w<<8|b,C=0;C<4&&y+C*.75<f;C++)g.push(p.charAt(E>>>6*(3-C)&63));var k=p.charAt(64);if(k)for(;g.length%4;)g.push(k);return g.join("")},parse:function(u){var d=u.length,f=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var g=0;g<f.length;g++)p[f.charCodeAt(g)]=g}var y=f.charAt(64);if(y){var v=u.indexOf(y);v!==-1&&(d=v)}return l(u,d,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(u,d,f){for(var p=[],g=0,y=0;y<d;y++)if(y%4){var v=f[u.charCodeAt(y-1)]<<y%4*2,w=f[u.charCodeAt(y)]>>>6-y%4*2,b=v|w;p[g>>>2]|=b<<24-g%4*8,g++}return o.create(p,g)}}(),n.enc.Base64})}(h0)),h0.exports}var p0={exports:{}},rq=p0.exports,e2;function iq(){return e2||(e2=1,function(t,e){(function(n,r){t.exports=r(yt())})(rq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=r.enc;a.Base64url={stringify:function(u,d){d===void 0&&(d=!0);var f=u.words,p=u.sigBytes,g=d?this._safe_map:this._map;u.clamp();for(var y=[],v=0;v<p;v+=3)for(var w=f[v>>>2]>>>24-v%4*8&255,b=f[v+1>>>2]>>>24-(v+1)%4*8&255,E=f[v+2>>>2]>>>24-(v+2)%4*8&255,C=w<<16|b<<8|E,k=0;k<4&&v+k*.75<p;k++)y.push(g.charAt(C>>>6*(3-k)&63));var N=g.charAt(64);if(N)for(;y.length%4;)y.push(N);return y.join("")},parse:function(u,d){d===void 0&&(d=!0);var f=u.length,p=d?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var y=0;y<p.length;y++)g[p.charCodeAt(y)]=y}var v=p.charAt(64);if(v){var w=u.indexOf(v);w!==-1&&(f=w)}return l(u,f,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(u,d,f){for(var p=[],g=0,y=0;y<d;y++)if(y%4){var v=f[u.charCodeAt(y-1)]<<y%4*2,w=f[u.charCodeAt(y)]>>>6-y%4*2,b=v|w;p[g>>>2]|=b<<24-g%4*8,g++}return o.create(p,g)}}(),n.enc.Base64url})}(p0)),p0.exports}var m0={exports:{}},oq=m0.exports,t2;function ol(){return t2||(t2=1,function(t,e){(function(n,r){t.exports=r(yt())})(oq,function(n){return function(r){var i=n,o=i.lib,a=o.WordArray,l=o.Hasher,u=i.algo,d=[];(function(){for(var w=0;w<64;w++)d[w]=r.abs(r.sin(w+1))*4294967296|0})();var f=u.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,b){for(var E=0;E<16;E++){var C=b+E,k=w[C];w[C]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var N=this._hash.words,_=w[b+0],P=w[b+1],D=w[b+2],R=w[b+3],F=w[b+4],O=w[b+5],B=w[b+6],$=w[b+7],L=w[b+8],H=w[b+9],X=w[b+10],se=w[b+11],ie=w[b+12],W=w[b+13],Q=w[b+14],ee=w[b+15],I=N[0],M=N[1],z=N[2],K=N[3];I=p(I,M,z,K,_,7,d[0]),K=p(K,I,M,z,P,12,d[1]),z=p(z,K,I,M,D,17,d[2]),M=p(M,z,K,I,R,22,d[3]),I=p(I,M,z,K,F,7,d[4]),K=p(K,I,M,z,O,12,d[5]),z=p(z,K,I,M,B,17,d[6]),M=p(M,z,K,I,$,22,d[7]),I=p(I,M,z,K,L,7,d[8]),K=p(K,I,M,z,H,12,d[9]),z=p(z,K,I,M,X,17,d[10]),M=p(M,z,K,I,se,22,d[11]),I=p(I,M,z,K,ie,7,d[12]),K=p(K,I,M,z,W,12,d[13]),z=p(z,K,I,M,Q,17,d[14]),M=p(M,z,K,I,ee,22,d[15]),I=g(I,M,z,K,P,5,d[16]),K=g(K,I,M,z,B,9,d[17]),z=g(z,K,I,M,se,14,d[18]),M=g(M,z,K,I,_,20,d[19]),I=g(I,M,z,K,O,5,d[20]),K=g(K,I,M,z,X,9,d[21]),z=g(z,K,I,M,ee,14,d[22]),M=g(M,z,K,I,F,20,d[23]),I=g(I,M,z,K,H,5,d[24]),K=g(K,I,M,z,Q,9,d[25]),z=g(z,K,I,M,R,14,d[26]),M=g(M,z,K,I,L,20,d[27]),I=g(I,M,z,K,W,5,d[28]),K=g(K,I,M,z,D,9,d[29]),z=g(z,K,I,M,$,14,d[30]),M=g(M,z,K,I,ie,20,d[31]),I=y(I,M,z,K,O,4,d[32]),K=y(K,I,M,z,L,11,d[33]),z=y(z,K,I,M,se,16,d[34]),M=y(M,z,K,I,Q,23,d[35]),I=y(I,M,z,K,P,4,d[36]),K=y(K,I,M,z,F,11,d[37]),z=y(z,K,I,M,$,16,d[38]),M=y(M,z,K,I,X,23,d[39]),I=y(I,M,z,K,W,4,d[40]),K=y(K,I,M,z,_,11,d[41]),z=y(z,K,I,M,R,16,d[42]),M=y(M,z,K,I,B,23,d[43]),I=y(I,M,z,K,H,4,d[44]),K=y(K,I,M,z,ie,11,d[45]),z=y(z,K,I,M,ee,16,d[46]),M=y(M,z,K,I,D,23,d[47]),I=v(I,M,z,K,_,6,d[48]),K=v(K,I,M,z,$,10,d[49]),z=v(z,K,I,M,Q,15,d[50]),M=v(M,z,K,I,O,21,d[51]),I=v(I,M,z,K,ie,6,d[52]),K=v(K,I,M,z,R,10,d[53]),z=v(z,K,I,M,X,15,d[54]),M=v(M,z,K,I,P,21,d[55]),I=v(I,M,z,K,L,6,d[56]),K=v(K,I,M,z,ee,10,d[57]),z=v(z,K,I,M,B,15,d[58]),M=v(M,z,K,I,W,21,d[59]),I=v(I,M,z,K,F,6,d[60]),K=v(K,I,M,z,se,10,d[61]),z=v(z,K,I,M,D,15,d[62]),M=v(M,z,K,I,H,21,d[63]),N[0]=N[0]+I|0,N[1]=N[1]+M|0,N[2]=N[2]+z|0,N[3]=N[3]+K|0},_doFinalize:function(){var w=this._data,b=w.words,E=this._nDataBytes*8,C=w.sigBytes*8;b[C>>>5]|=128<<24-C%32;var k=r.floor(E/4294967296),N=E;b[(C+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,b[(C+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,w.sigBytes=(b.length+1)*4,this._process();for(var _=this._hash,P=_.words,D=0;D<4;D++){var R=P[D];P[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return _},clone:function(){var w=l.clone.call(this);return w._hash=this._hash.clone(),w}});function p(w,b,E,C,k,N,_){var P=w+(b&E|~b&C)+k+_;return(P<<N|P>>>32-N)+b}function g(w,b,E,C,k,N,_){var P=w+(b&C|E&~C)+k+_;return(P<<N|P>>>32-N)+b}function y(w,b,E,C,k,N,_){var P=w+(b^E^C)+k+_;return(P<<N|P>>>32-N)+b}function v(w,b,E,C,k,N,_){var P=w+(E^(b|~C))+k+_;return(P<<N|P>>>32-N)+b}i.MD5=l._createHelper(f),i.HmacMD5=l._createHmacHelper(f)}(Math),n.MD5})}(m0)),m0.exports}var g0={exports:{}},aq=g0.exports,n2;function E4(){return n2||(n2=1,function(t,e){(function(n,r){t.exports=r(yt())})(aq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=i.Hasher,l=r.algo,u=[],d=l.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,p){for(var g=this._hash.words,y=g[0],v=g[1],w=g[2],b=g[3],E=g[4],C=0;C<80;C++){if(C<16)u[C]=f[p+C]|0;else{var k=u[C-3]^u[C-8]^u[C-14]^u[C-16];u[C]=k<<1|k>>>31}var N=(y<<5|y>>>27)+E+u[C];C<20?N+=(v&w|~v&b)+1518500249:C<40?N+=(v^w^b)+1859775393:C<60?N+=(v&w|v&b|w&b)-1894007588:N+=(v^w^b)-899497514,E=b,b=w,w=v<<30|v>>>2,v=y,y=N}g[0]=g[0]+y|0,g[1]=g[1]+v|0,g[2]=g[2]+w|0,g[3]=g[3]+b|0,g[4]=g[4]+E|0},_doFinalize:function(){var f=this._data,p=f.words,g=this._nDataBytes*8,y=f.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=Math.floor(g/4294967296),p[(y+64>>>9<<4)+15]=g,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=a._createHelper(d),r.HmacSHA1=a._createHmacHelper(d)}(),n.SHA1})}(g0)),g0.exports}var y0={exports:{}},sq=y0.exports,r2;function LC(){return r2||(r2=1,function(t,e){(function(n,r){t.exports=r(yt())})(sq,function(n){return function(r){var i=n,o=i.lib,a=o.WordArray,l=o.Hasher,u=i.algo,d=[],f=[];(function(){function y(E){for(var C=r.sqrt(E),k=2;k<=C;k++)if(!(E%k))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var w=2,b=0;b<64;)y(w)&&(b<8&&(d[b]=v(r.pow(w,1/2))),f[b]=v(r.pow(w,1/3)),b++),w++})();var p=[],g=u.SHA256=l.extend({_doReset:function(){this._hash=new a.init(d.slice(0))},_doProcessBlock:function(y,v){for(var w=this._hash.words,b=w[0],E=w[1],C=w[2],k=w[3],N=w[4],_=w[5],P=w[6],D=w[7],R=0;R<64;R++){if(R<16)p[R]=y[v+R]|0;else{var F=p[R-15],O=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,B=p[R-2],$=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;p[R]=O+p[R-7]+$+p[R-16]}var L=N&_^~N&P,H=b&E^b&C^E&C,X=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),se=(N<<26|N>>>6)^(N<<21|N>>>11)^(N<<7|N>>>25),ie=D+se+L+f[R]+p[R],W=X+H;D=P,P=_,_=N,N=k+ie|0,k=C,C=E,E=b,b=ie+W|0}w[0]=w[0]+b|0,w[1]=w[1]+E|0,w[2]=w[2]+C|0,w[3]=w[3]+k|0,w[4]=w[4]+N|0,w[5]=w[5]+_|0,w[6]=w[6]+P|0,w[7]=w[7]+D|0},_doFinalize:function(){var y=this._data,v=y.words,w=this._nDataBytes*8,b=y.sigBytes*8;return v[b>>>5]|=128<<24-b%32,v[(b+64>>>9<<4)+14]=r.floor(w/4294967296),v[(b+64>>>9<<4)+15]=w,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=l.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=l._createHelper(g),i.HmacSHA256=l._createHmacHelper(g)}(Math),n.SHA256})}(y0)),y0.exports}var v0={exports:{}},lq=v0.exports,i2;function cq(){return i2||(i2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),LC())})(lq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=r.algo,l=a.SHA256,u=a.SHA224=l.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=4,d}});r.SHA224=l._createHelper(u),r.HmacSHA224=l._createHmacHelper(u)}(),n.SHA224})}(v0)),v0.exports}var x0={exports:{}},uq=x0.exports,o2;function A4(){return o2||(o2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Jm())})(uq,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,a=r.x64,l=a.Word,u=a.WordArray,d=r.algo;function f(){return l.create.apply(l,arguments)}var p=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],g=[];(function(){for(var v=0;v<80;v++)g[v]=f()})();var y=d.SHA512=o.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(v,w){for(var b=this._hash.words,E=b[0],C=b[1],k=b[2],N=b[3],_=b[4],P=b[5],D=b[6],R=b[7],F=E.high,O=E.low,B=C.high,$=C.low,L=k.high,H=k.low,X=N.high,se=N.low,ie=_.high,W=_.low,Q=P.high,ee=P.low,I=D.high,M=D.low,z=R.high,K=R.low,J=F,he=O,we=B,te=$,V=L,ce=H,ye=X,le=se,Se=ie,Pe=W,Je=Q,et=ee,ht=I,Et=M,vt=z,xt=K,Ut=0;Ut<80;Ut++){var _t,Cn,Bt=g[Ut];if(Ut<16)Cn=Bt.high=v[w+Ut*2]|0,_t=Bt.low=v[w+Ut*2+1]|0;else{var Cr=g[Ut-15],mn=Cr.high,Sn=Cr.low,Ke=(mn>>>1|Sn<<31)^(mn>>>8|Sn<<24)^mn>>>7,Ze=(Sn>>>1|mn<<31)^(Sn>>>8|mn<<24)^(Sn>>>7|mn<<25),Nt=g[Ut-2],oe=Nt.high,Te=Nt.low,Ye=(oe>>>19|Te<<13)^(oe<<3|Te>>>29)^oe>>>6,at=(Te>>>19|oe<<13)^(Te<<3|oe>>>29)^(Te>>>6|oe<<26),de=g[Ut-7],re=de.high,He=de.low,We=g[Ut-16],nt=We.high,wt=We.low;_t=Ze+He,Cn=Ke+re+(_t>>>0<Ze>>>0?1:0),_t=_t+at,Cn=Cn+Ye+(_t>>>0<at>>>0?1:0),_t=_t+wt,Cn=Cn+nt+(_t>>>0<wt>>>0?1:0),Bt.high=Cn,Bt.low=_t}var ut=Se&Je^~Se&ht,Ct=Pe&et^~Pe&Et,At=J&we^J&V^we&V,Kt=he&te^he&ce^te&ce,En=(J>>>28|he<<4)^(J<<30|he>>>2)^(J<<25|he>>>7),gt=(he>>>28|J<<4)^(he<<30|J>>>2)^(he<<25|J>>>7),rn=(Se>>>14|Pe<<18)^(Se>>>18|Pe<<14)^(Se<<23|Pe>>>9),er=(Pe>>>14|Se<<18)^(Pe>>>18|Se<<14)^(Pe<<23|Se>>>9),ao=p[Ut],Rr=ao.high,Yr=ao.low,gn=xt+er,Qr=vt+rn+(gn>>>0<xt>>>0?1:0),gn=gn+Ct,Qr=Qr+ut+(gn>>>0<Ct>>>0?1:0),gn=gn+Yr,Qr=Qr+Rr+(gn>>>0<Yr>>>0?1:0),gn=gn+_t,Qr=Qr+Cn+(gn>>>0<_t>>>0?1:0),so=gt+Kt,da=En+At+(so>>>0<gt>>>0?1:0);vt=ht,xt=Et,ht=Je,Et=et,Je=Se,et=Pe,Pe=le+gn|0,Se=ye+Qr+(Pe>>>0<le>>>0?1:0)|0,ye=V,le=ce,V=we,ce=te,we=J,te=he,he=gn+so|0,J=Qr+da+(he>>>0<gn>>>0?1:0)|0}O=E.low=O+he,E.high=F+J+(O>>>0<he>>>0?1:0),$=C.low=$+te,C.high=B+we+($>>>0<te>>>0?1:0),H=k.low=H+ce,k.high=L+V+(H>>>0<ce>>>0?1:0),se=N.low=se+le,N.high=X+ye+(se>>>0<le>>>0?1:0),W=_.low=W+Pe,_.high=ie+Se+(W>>>0<Pe>>>0?1:0),ee=P.low=ee+et,P.high=Q+Je+(ee>>>0<et>>>0?1:0),M=D.low=M+Et,D.high=I+ht+(M>>>0<Et>>>0?1:0),K=R.low=K+xt,R.high=z+vt+(K>>>0<xt>>>0?1:0)},_doFinalize:function(){var v=this._data,w=v.words,b=this._nDataBytes*8,E=v.sigBytes*8;w[E>>>5]|=128<<24-E%32,w[(E+128>>>10<<5)+30]=Math.floor(b/4294967296),w[(E+128>>>10<<5)+31]=b,v.sigBytes=w.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var v=o.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});r.SHA512=o._createHelper(y),r.HmacSHA512=o._createHmacHelper(y)}(),n.SHA512})}(x0)),x0.exports}var w0={exports:{}},dq=w0.exports,a2;function fq(){return a2||(a2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Jm(),A4())})(dq,function(n){return function(){var r=n,i=r.x64,o=i.Word,a=i.WordArray,l=r.algo,u=l.SHA512,d=l.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=u._createHelper(d),r.HmacSHA384=u._createHmacHelper(d)}(),n.SHA384})}(w0)),w0.exports}var b0={exports:{}},hq=b0.exports,s2;function pq(){return s2||(s2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Jm())})(hq,function(n){return function(r){var i=n,o=i.lib,a=o.WordArray,l=o.Hasher,u=i.x64,d=u.Word,f=i.algo,p=[],g=[],y=[];(function(){for(var b=1,E=0,C=0;C<24;C++){p[b+5*E]=(C+1)*(C+2)/2%64;var k=E%5,N=(2*b+3*E)%5;b=k,E=N}for(var b=0;b<5;b++)for(var E=0;E<5;E++)g[b+5*E]=E+(2*b+3*E)%5*5;for(var _=1,P=0;P<24;P++){for(var D=0,R=0,F=0;F<7;F++){if(_&1){var O=(1<<F)-1;O<32?R^=1<<O:D^=1<<O-32}_&128?_=_<<1^113:_<<=1}y[P]=d.create(D,R)}})();var v=[];(function(){for(var b=0;b<25;b++)v[b]=d.create()})();var w=f.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],E=0;E<25;E++)b[E]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,E){for(var C=this._state,k=this.blockSize/2,N=0;N<k;N++){var _=b[E+2*N],P=b[E+2*N+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360;var D=C[N];D.high^=P,D.low^=_}for(var R=0;R<24;R++){for(var F=0;F<5;F++){for(var O=0,B=0,$=0;$<5;$++){var D=C[F+5*$];O^=D.high,B^=D.low}var L=v[F];L.high=O,L.low=B}for(var F=0;F<5;F++)for(var H=v[(F+4)%5],X=v[(F+1)%5],se=X.high,ie=X.low,O=H.high^(se<<1|ie>>>31),B=H.low^(ie<<1|se>>>31),$=0;$<5;$++){var D=C[F+5*$];D.high^=O,D.low^=B}for(var W=1;W<25;W++){var O,B,D=C[W],Q=D.high,ee=D.low,I=p[W];I<32?(O=Q<<I|ee>>>32-I,B=ee<<I|Q>>>32-I):(O=ee<<I-32|Q>>>64-I,B=Q<<I-32|ee>>>64-I);var M=v[g[W]];M.high=O,M.low=B}var z=v[0],K=C[0];z.high=K.high,z.low=K.low;for(var F=0;F<5;F++)for(var $=0;$<5;$++){var W=F+5*$,D=C[W],J=v[W],he=v[(F+1)%5+5*$],we=v[(F+2)%5+5*$];D.high=J.high^~he.high&we.high,D.low=J.low^~he.low&we.low}var D=C[0],te=y[R];D.high^=te.high,D.low^=te.low}},_doFinalize:function(){var b=this._data,E=b.words;this._nDataBytes*8;var C=b.sigBytes*8,k=this.blockSize*32;E[C>>>5]|=1<<24-C%32,E[(r.ceil((C+1)/k)*k>>>5)-1]|=128,b.sigBytes=E.length*4,this._process();for(var N=this._state,_=this.cfg.outputLength/8,P=_/8,D=[],R=0;R<P;R++){var F=N[R],O=F.high,B=F.low;O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,D.push(B),D.push(O)}return new a.init(D,_)},clone:function(){for(var b=l.clone.call(this),E=b._state=this._state.slice(0),C=0;C<25;C++)E[C]=E[C].clone();return b}});i.SHA3=l._createHelper(w),i.HmacSHA3=l._createHmacHelper(w)}(Math),n.SHA3})}(b0)),b0.exports}var C0={exports:{}},mq=C0.exports,l2;function gq(){return l2||(l2=1,function(t,e){(function(n,r){t.exports=r(yt())})(mq,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,a=o.WordArray,l=o.Hasher,u=i.algo,d=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=a.create([0,1518500249,1859775393,2400959708,2840853838]),v=a.create([1352829926,1548603684,1836072691,2053994217,0]),w=u.RIPEMD160=l.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(P,D){for(var R=0;R<16;R++){var F=D+R,O=P[F];P[F]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var B=this._hash.words,$=y.words,L=v.words,H=d.words,X=f.words,se=p.words,ie=g.words,W,Q,ee,I,M,z,K,J,he,we;z=W=B[0],K=Q=B[1],J=ee=B[2],he=I=B[3],we=M=B[4];for(var te,R=0;R<80;R+=1)te=W+P[D+H[R]]|0,R<16?te+=b(Q,ee,I)+$[0]:R<32?te+=E(Q,ee,I)+$[1]:R<48?te+=C(Q,ee,I)+$[2]:R<64?te+=k(Q,ee,I)+$[3]:te+=N(Q,ee,I)+$[4],te=te|0,te=_(te,se[R]),te=te+M|0,W=M,M=I,I=_(ee,10),ee=Q,Q=te,te=z+P[D+X[R]]|0,R<16?te+=N(K,J,he)+L[0]:R<32?te+=k(K,J,he)+L[1]:R<48?te+=C(K,J,he)+L[2]:R<64?te+=E(K,J,he)+L[3]:te+=b(K,J,he)+L[4],te=te|0,te=_(te,ie[R]),te=te+we|0,z=we,we=he,he=_(J,10),J=K,K=te;te=B[1]+ee+he|0,B[1]=B[2]+I+we|0,B[2]=B[3]+M+z|0,B[3]=B[4]+W+K|0,B[4]=B[0]+Q+J|0,B[0]=te},_doFinalize:function(){var P=this._data,D=P.words,R=this._nDataBytes*8,F=P.sigBytes*8;D[F>>>5]|=128<<24-F%32,D[(F+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,P.sigBytes=(D.length+1)*4,this._process();for(var O=this._hash,B=O.words,$=0;$<5;$++){var L=B[$];B[$]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return O},clone:function(){var P=l.clone.call(this);return P._hash=this._hash.clone(),P}});function b(P,D,R){return P^D^R}function E(P,D,R){return P&D|~P&R}function C(P,D,R){return(P|~D)^R}function k(P,D,R){return P&R|D&~R}function N(P,D,R){return P^(D|~R)}function _(P,D){return P<<D|P>>>32-D}i.RIPEMD160=l._createHelper(w),i.HmacRIPEMD160=l._createHmacHelper(w)}(),n.RIPEMD160})}(C0)),C0.exports}var S0={exports:{}},yq=S0.exports,c2;function $C(){return c2||(c2=1,function(t,e){(function(n,r){t.exports=r(yt())})(yq,function(n){(function(){var r=n,i=r.lib,o=i.Base,a=r.enc,l=a.Utf8,u=r.algo;u.HMAC=o.extend({init:function(d,f){d=this._hasher=new d.init,typeof f=="string"&&(f=l.parse(f));var p=d.blockSize,g=p*4;f.sigBytes>g&&(f=d.finalize(f)),f.clamp();for(var y=this._oKey=f.clone(),v=this._iKey=f.clone(),w=y.words,b=v.words,E=0;E<p;E++)w[E]^=1549556828,b[E]^=909522486;y.sigBytes=v.sigBytes=g,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var f=this._hasher,p=f.finalize(d);f.reset();var g=f.finalize(this._oKey.clone().concat(p));return g}})})()})}(S0)),S0.exports}var E0={exports:{}},vq=E0.exports,u2;function xq(){return u2||(u2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),LC(),$C())})(vq,function(n){return function(){var r=n,i=r.lib,o=i.Base,a=i.WordArray,l=r.algo,u=l.SHA256,d=l.HMAC,f=l.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,g){for(var y=this.cfg,v=d.create(y.hasher,p),w=a.create(),b=a.create([1]),E=w.words,C=b.words,k=y.keySize,N=y.iterations;E.length<k;){var _=v.update(g).finalize(b);v.reset();for(var P=_.words,D=P.length,R=_,F=1;F<N;F++){R=v.finalize(R),v.reset();for(var O=R.words,B=0;B<D;B++)P[B]^=O[B]}w.concat(_),C[0]++}return w.sigBytes=k*4,w}});r.PBKDF2=function(p,g,y){return f.create(y).compute(p,g)}}(),n.PBKDF2})}(E0)),E0.exports}var A0={exports:{}},wq=A0.exports,d2;function Ja(){return d2||(d2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),E4(),$C())})(wq,function(n){return function(){var r=n,i=r.lib,o=i.Base,a=i.WordArray,l=r.algo,u=l.MD5,d=l.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:u,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,p){for(var g,y=this.cfg,v=y.hasher.create(),w=a.create(),b=w.words,E=y.keySize,C=y.iterations;b.length<E;){g&&v.update(g),g=v.update(f).finalize(p),v.reset();for(var k=1;k<C;k++)g=v.finalize(g),v.reset();w.concat(g)}return w.sigBytes=E*4,w}});r.EvpKDF=function(f,p,g){return d.create(g).compute(f,p)}}(),n.EvpKDF})}(A0)),A0.exports}var k0={exports:{}},bq=k0.exports,f2;function Xn(){return f2||(f2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Ja())})(bq,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,a=o.Base,l=o.WordArray,u=o.BufferedBlockAlgorithm,d=i.enc;d.Utf8;var f=d.Base64,p=i.algo,g=p.EvpKDF,y=o.Cipher=u.extend({cfg:a.extend(),createEncryptor:function(O,B){return this.create(this._ENC_XFORM_MODE,O,B)},createDecryptor:function(O,B){return this.create(this._DEC_XFORM_MODE,O,B)},init:function(O,B,$){this.cfg=this.cfg.extend($),this._xformMode=O,this._key=B,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(O){return this._append(O),this._process()},finalize:function(O){O&&this._append(O);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function O(B){return typeof B=="string"?F:P}return function(B){return{encrypt:function($,L,H){return O(L).encrypt(B,$,L,H)},decrypt:function($,L,H){return O(L).decrypt(B,$,L,H)}}}}()});o.StreamCipher=y.extend({_doFinalize:function(){var O=this._process(!0);return O},blockSize:1});var v=i.mode={},w=o.BlockCipherMode=a.extend({createEncryptor:function(O,B){return this.Encryptor.create(O,B)},createDecryptor:function(O,B){return this.Decryptor.create(O,B)},init:function(O,B){this._cipher=O,this._iv=B}}),b=v.CBC=function(){var O=w.extend();O.Encryptor=O.extend({processBlock:function($,L){var H=this._cipher,X=H.blockSize;B.call(this,$,L,X),H.encryptBlock($,L),this._prevBlock=$.slice(L,L+X)}}),O.Decryptor=O.extend({processBlock:function($,L){var H=this._cipher,X=H.blockSize,se=$.slice(L,L+X);H.decryptBlock($,L),B.call(this,$,L,X),this._prevBlock=se}});function B($,L,H){var X,se=this._iv;se?(X=se,this._iv=r):X=this._prevBlock;for(var ie=0;ie<H;ie++)$[L+ie]^=X[ie]}return O}(),E=i.pad={},C=E.Pkcs7={pad:function(O,B){for(var $=B*4,L=$-O.sigBytes%$,H=L<<24|L<<16|L<<8|L,X=[],se=0;se<L;se+=4)X.push(H);var ie=l.create(X,L);O.concat(ie)},unpad:function(O){var B=O.words[O.sigBytes-1>>>2]&255;O.sigBytes-=B}};o.BlockCipher=y.extend({cfg:y.cfg.extend({mode:b,padding:C}),reset:function(){var O;y.reset.call(this);var B=this.cfg,$=B.iv,L=B.mode;this._xformMode==this._ENC_XFORM_MODE?O=L.createEncryptor:(O=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==O?this._mode.init(this,$&&$.words):(this._mode=O.call(L,this,$&&$.words),this._mode.__creator=O)},_doProcessBlock:function(O,B){this._mode.processBlock(O,B)},_doFinalize:function(){var O,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),O=this._process(!0)):(O=this._process(!0),B.unpad(O)),O},blockSize:128/32});var k=o.CipherParams=a.extend({init:function(O){this.mixIn(O)},toString:function(O){return(O||this.formatter).stringify(this)}}),N=i.format={},_=N.OpenSSL={stringify:function(O){var B,$=O.ciphertext,L=O.salt;return L?B=l.create([1398893684,1701076831]).concat(L).concat($):B=$,B.toString(f)},parse:function(O){var B,$=f.parse(O),L=$.words;return L[0]==1398893684&&L[1]==1701076831&&(B=l.create(L.slice(2,4)),L.splice(0,4),$.sigBytes-=16),k.create({ciphertext:$,salt:B})}},P=o.SerializableCipher=a.extend({cfg:a.extend({format:_}),encrypt:function(O,B,$,L){L=this.cfg.extend(L);var H=O.createEncryptor($,L),X=H.finalize(B),se=H.cfg;return k.create({ciphertext:X,key:$,iv:se.iv,algorithm:O,mode:se.mode,padding:se.padding,blockSize:O.blockSize,formatter:L.format})},decrypt:function(O,B,$,L){L=this.cfg.extend(L),B=this._parse(B,L.format);var H=O.createDecryptor($,L).finalize(B.ciphertext);return H},_parse:function(O,B){return typeof O=="string"?B.parse(O,this):O}}),D=i.kdf={},R=D.OpenSSL={execute:function(O,B,$,L,H){if(L||(L=l.random(64/8)),H)var X=g.create({keySize:B+$,hasher:H}).compute(O,L);else var X=g.create({keySize:B+$}).compute(O,L);var se=l.create(X.words.slice(B),$*4);return X.sigBytes=B*4,k.create({key:X,iv:se,salt:L})}},F=o.PasswordBasedCipher=P.extend({cfg:P.cfg.extend({kdf:R}),encrypt:function(O,B,$,L){L=this.cfg.extend(L);var H=L.kdf.execute($,O.keySize,O.ivSize,L.salt,L.hasher);L.iv=H.iv;var X=P.encrypt.call(this,O,B,H.key,L);return X.mixIn(H),X},decrypt:function(O,B,$,L){L=this.cfg.extend(L),B=this._parse(B,L.format);var H=L.kdf.execute($,O.keySize,O.ivSize,B.salt,L.hasher);L.iv=H.iv;var X=P.decrypt.call(this,O,B,H.key,L);return X}})}()})}(k0)),k0.exports}var T0={exports:{}},Cq=T0.exports,h2;function Sq(){return h2||(h2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Cq,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,a){var l=this._cipher,u=l.blockSize;i.call(this,o,a,u,l),this._prevBlock=o.slice(a,a+u)}}),r.Decryptor=r.extend({processBlock:function(o,a){var l=this._cipher,u=l.blockSize,d=o.slice(a,a+u);i.call(this,o,a,u,l),this._prevBlock=d}});function i(o,a,l,u){var d,f=this._iv;f?(d=f.slice(0),this._iv=void 0):d=this._prevBlock,u.encryptBlock(d,0);for(var p=0;p<l;p++)o[a+p]^=d[p]}return r}(),n.mode.CFB})}(T0)),T0.exports}var _0={exports:{}},Eq=_0.exports,p2;function Aq(){return p2||(p2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Eq,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,a){var l=this._cipher,u=l.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0);var p=f.slice(0);l.encryptBlock(p,0),f[u-1]=f[u-1]+1|0;for(var g=0;g<u;g++)o[a+g]^=p[g]}});return r.Decryptor=i,r}(),n.mode.CTR})}(_0)),_0.exports}var N0={exports:{}},kq=N0.exports,m2;function Tq(){return m2||(m2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(kq,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(l){if((l>>24&255)===255){var u=l>>16&255,d=l>>8&255,f=l&255;u===255?(u=0,d===255?(d=0,f===255?f=0:++f):++d):++u,l=0,l+=u<<16,l+=d<<8,l+=f}else l+=1<<24;return l}function o(l){return(l[0]=i(l[0]))===0&&(l[1]=i(l[1])),l}var a=r.Encryptor=r.extend({processBlock:function(l,u){var d=this._cipher,f=d.blockSize,p=this._iv,g=this._counter;p&&(g=this._counter=p.slice(0),this._iv=void 0),o(g);var y=g.slice(0);d.encryptBlock(y,0);for(var v=0;v<f;v++)l[u+v]^=y[v]}});return r.Decryptor=a,r}(),n.mode.CTRGladman})}(N0)),N0.exports}var P0={exports:{}},_q=P0.exports,g2;function Nq(){return g2||(g2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(_q,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,a){var l=this._cipher,u=l.blockSize,d=this._iv,f=this._keystream;d&&(f=this._keystream=d.slice(0),this._iv=void 0),l.encryptBlock(f,0);for(var p=0;p<u;p++)o[a+p]^=f[p]}});return r.Decryptor=i,r}(),n.mode.OFB})}(P0)),P0.exports}var I0={exports:{}},Pq=I0.exports,y2;function Iq(){return y2||(y2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Pq,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(I0)),I0.exports}var D0={exports:{}},Dq=D0.exports,v2;function Oq(){return v2||(v2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Dq,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,a=i*4,l=a-o%a,u=o+l-1;r.clamp(),r.words[u>>>2]|=l<<24-u%4*8,r.sigBytes+=l},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(D0)),D0.exports}var O0={exports:{}},jq=O0.exports,x2;function Rq(){return x2||(x2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(jq,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,a=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(a-1)).concat(n.lib.WordArray.create([a<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(O0)),O0.exports}var j0={exports:{}},Mq=j0.exports,w2;function Bq(){return w2||(w2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Mq,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(j0)),j0.exports}var R0={exports:{}},Fq=R0.exports,b2;function Lq(){return b2||(b2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Fq,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(R0)),R0.exports}var M0={exports:{}},$q=M0.exports,C2;function Uq(){return C2||(C2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})($q,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(M0)),M0.exports}var B0={exports:{}},Hq=B0.exports,S2;function zq(){return S2||(S2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Xn())})(Hq,function(n){return function(r){var i=n,o=i.lib,a=o.CipherParams,l=i.enc,u=l.Hex,d=i.format;d.Hex={stringify:function(f){return f.ciphertext.toString(u)},parse:function(f){var p=u.parse(f);return a.create({ciphertext:p})}}}(),n.format.Hex})}(B0)),B0.exports}var F0={exports:{}},Kq=F0.exports,E2;function qq(){return E2||(E2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(Kq,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,a=r.algo,l=[],u=[],d=[],f=[],p=[],g=[],y=[],v=[],w=[],b=[];(function(){for(var k=[],N=0;N<256;N++)N<128?k[N]=N<<1:k[N]=N<<1^283;for(var _=0,P=0,N=0;N<256;N++){var D=P^P<<1^P<<2^P<<3^P<<4;D=D>>>8^D&255^99,l[_]=D,u[D]=_;var R=k[_],F=k[R],O=k[F],B=k[D]*257^D*16843008;d[_]=B<<24|B>>>8,f[_]=B<<16|B>>>16,p[_]=B<<8|B>>>24,g[_]=B;var B=O*16843009^F*65537^R*257^_*16843008;y[D]=B<<24|B>>>8,v[D]=B<<16|B>>>16,w[D]=B<<8|B>>>24,b[D]=B,_?(_=R^k[k[k[O^R]]],P^=k[k[P]]):_=P=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],C=a.AES=o.extend({_doReset:function(){var k;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var N=this._keyPriorReset=this._key,_=N.words,P=N.sigBytes/4,D=this._nRounds=P+6,R=(D+1)*4,F=this._keySchedule=[],O=0;O<R;O++)O<P?F[O]=_[O]:(k=F[O-1],O%P?P>6&&O%P==4&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=E[O/P|0]<<24),F[O]=F[O-P]^k);for(var B=this._invKeySchedule=[],$=0;$<R;$++){var O=R-$;if($%4)var k=F[O];else var k=F[O-4];$<4||O<=4?B[$]=k:B[$]=y[l[k>>>24]]^v[l[k>>>16&255]]^w[l[k>>>8&255]]^b[l[k&255]]}}},encryptBlock:function(k,N){this._doCryptBlock(k,N,this._keySchedule,d,f,p,g,l)},decryptBlock:function(k,N){var _=k[N+1];k[N+1]=k[N+3],k[N+3]=_,this._doCryptBlock(k,N,this._invKeySchedule,y,v,w,b,u);var _=k[N+1];k[N+1]=k[N+3],k[N+3]=_},_doCryptBlock:function(k,N,_,P,D,R,F,O){for(var B=this._nRounds,$=k[N]^_[0],L=k[N+1]^_[1],H=k[N+2]^_[2],X=k[N+3]^_[3],se=4,ie=1;ie<B;ie++){var W=P[$>>>24]^D[L>>>16&255]^R[H>>>8&255]^F[X&255]^_[se++],Q=P[L>>>24]^D[H>>>16&255]^R[X>>>8&255]^F[$&255]^_[se++],ee=P[H>>>24]^D[X>>>16&255]^R[$>>>8&255]^F[L&255]^_[se++],I=P[X>>>24]^D[$>>>16&255]^R[L>>>8&255]^F[H&255]^_[se++];$=W,L=Q,H=ee,X=I}var W=(O[$>>>24]<<24|O[L>>>16&255]<<16|O[H>>>8&255]<<8|O[X&255])^_[se++],Q=(O[L>>>24]<<24|O[H>>>16&255]<<16|O[X>>>8&255]<<8|O[$&255])^_[se++],ee=(O[H>>>24]<<24|O[X>>>16&255]<<16|O[$>>>8&255]<<8|O[L&255])^_[se++],I=(O[X>>>24]<<24|O[$>>>16&255]<<16|O[L>>>8&255]<<8|O[H&255])^_[se++];k[N]=W,k[N+1]=Q,k[N+2]=ee,k[N+3]=I},keySize:256/32});r.AES=o._createHelper(C)}(),n.AES})}(F0)),F0.exports}var L0={exports:{}},Vq=L0.exports,A2;function Wq(){return A2||(A2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(Vq,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,a=i.BlockCipher,l=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=l.DES=a.extend({_doReset:function(){for(var E=this._key,C=E.words,k=[],N=0;N<56;N++){var _=u[N]-1;k[N]=C[_>>>5]>>>31-_%32&1}for(var P=this._subKeys=[],D=0;D<16;D++){for(var R=P[D]=[],F=f[D],N=0;N<24;N++)R[N/6|0]|=k[(d[N]-1+F)%28]<<31-N%6,R[4+(N/6|0)]|=k[28+(d[N+24]-1+F)%28]<<31-N%6;R[0]=R[0]<<1|R[0]>>>31;for(var N=1;N<7;N++)R[N]=R[N]>>>(N-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var O=this._invSubKeys=[],N=0;N<16;N++)O[N]=P[15-N]},encryptBlock:function(E,C){this._doCryptBlock(E,C,this._subKeys)},decryptBlock:function(E,C){this._doCryptBlock(E,C,this._invSubKeys)},_doCryptBlock:function(E,C,k){this._lBlock=E[C],this._rBlock=E[C+1],v.call(this,4,252645135),v.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),v.call(this,1,1431655765);for(var N=0;N<16;N++){for(var _=k[N],P=this._lBlock,D=this._rBlock,R=0,F=0;F<8;F++)R|=p[F][((D^_[F])&g[F])>>>0];this._lBlock=D,this._rBlock=P^R}var O=this._lBlock;this._lBlock=this._rBlock,this._rBlock=O,v.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),E[C]=this._lBlock,E[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(E,C){var k=(this._lBlock>>>E^this._rBlock)&C;this._rBlock^=k,this._lBlock^=k<<E}function w(E,C){var k=(this._rBlock>>>E^this._lBlock)&C;this._lBlock^=k,this._rBlock^=k<<E}r.DES=a._createHelper(y);var b=l.TripleDES=a.extend({_doReset:function(){var E=this._key,C=E.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var k=C.slice(0,2),N=C.length<4?C.slice(0,2):C.slice(2,4),_=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=y.createEncryptor(o.create(k)),this._des2=y.createEncryptor(o.create(N)),this._des3=y.createEncryptor(o.create(_))},encryptBlock:function(E,C){this._des1.encryptBlock(E,C),this._des2.decryptBlock(E,C),this._des3.encryptBlock(E,C)},decryptBlock:function(E,C){this._des3.decryptBlock(E,C),this._des2.encryptBlock(E,C),this._des1.decryptBlock(E,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=a._createHelper(b)}(),n.TripleDES})}(L0)),L0.exports}var $0={exports:{}},Gq=$0.exports,k2;function Yq(){return k2||(k2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(Gq,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,a=r.algo,l=a.RC4=o.extend({_doReset:function(){for(var f=this._key,p=f.words,g=f.sigBytes,y=this._S=[],v=0;v<256;v++)y[v]=v;for(var v=0,w=0;v<256;v++){var b=v%g,E=p[b>>>2]>>>24-b%4*8&255;w=(w+y[v]+E)%256;var C=y[v];y[v]=y[w],y[w]=C}this._i=this._j=0},_doProcessBlock:function(f,p){f[p]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var f=this._S,p=this._i,g=this._j,y=0,v=0;v<4;v++){p=(p+1)%256,g=(g+f[p])%256;var w=f[p];f[p]=f[g],f[g]=w,y|=f[(f[p]+f[g])%256]<<24-v*8}return this._i=p,this._j=g,y}r.RC4=o._createHelper(l);var d=a.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)u.call(this)}});r.RC4Drop=o._createHelper(d)}(),n.RC4})}($0)),$0.exports}var U0={exports:{}},Qq=U0.exports,T2;function Xq(){return T2||(T2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(Qq,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,a=r.algo,l=[],u=[],d=[],f=a.Rabbit=o.extend({_doReset:function(){for(var g=this._key.words,y=this.cfg.iv,v=0;v<4;v++)g[v]=(g[v]<<8|g[v]>>>24)&16711935|(g[v]<<24|g[v]>>>8)&4278255360;var w=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],b=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var v=0;v<4;v++)p.call(this);for(var v=0;v<8;v++)b[v]^=w[v+4&7];if(y){var E=y.words,C=E[0],k=E[1],N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,_=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,P=N>>>16|_&4294901760,D=_<<16|N&65535;b[0]^=N,b[1]^=P,b[2]^=_,b[3]^=D,b[4]^=N,b[5]^=P,b[6]^=_,b[7]^=D;for(var v=0;v<4;v++)p.call(this)}},_doProcessBlock:function(g,y){var v=this._X;p.call(this),l[0]=v[0]^v[5]>>>16^v[3]<<16,l[1]=v[2]^v[7]>>>16^v[5]<<16,l[2]=v[4]^v[1]>>>16^v[7]<<16,l[3]=v[6]^v[3]>>>16^v[1]<<16;for(var w=0;w<4;w++)l[w]=(l[w]<<8|l[w]>>>24)&16711935|(l[w]<<24|l[w]>>>8)&4278255360,g[y+w]^=l[w]},blockSize:128/32,ivSize:64/32});function p(){for(var g=this._X,y=this._C,v=0;v<8;v++)u[v]=y[v];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var v=0;v<8;v++){var w=g[v]+y[v],b=w&65535,E=w>>>16,C=((b*b>>>17)+b*E>>>15)+E*E,k=((w&4294901760)*w|0)+((w&65535)*w|0);d[v]=C^k}g[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,g[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,g[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,g[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,g[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,g[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,g[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,g[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.Rabbit=o._createHelper(f)}(),n.Rabbit})}(U0)),U0.exports}var H0={exports:{}},Jq=H0.exports,_2;function Zq(){return _2||(_2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(Jq,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,a=r.algo,l=[],u=[],d=[],f=a.RabbitLegacy=o.extend({_doReset:function(){var g=this._key.words,y=this.cfg.iv,v=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)p.call(this);for(var b=0;b<8;b++)w[b]^=v[b+4&7];if(y){var E=y.words,C=E[0],k=E[1],N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,_=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,P=N>>>16|_&4294901760,D=_<<16|N&65535;w[0]^=N,w[1]^=P,w[2]^=_,w[3]^=D,w[4]^=N,w[5]^=P,w[6]^=_,w[7]^=D;for(var b=0;b<4;b++)p.call(this)}},_doProcessBlock:function(g,y){var v=this._X;p.call(this),l[0]=v[0]^v[5]>>>16^v[3]<<16,l[1]=v[2]^v[7]>>>16^v[5]<<16,l[2]=v[4]^v[1]>>>16^v[7]<<16,l[3]=v[6]^v[3]>>>16^v[1]<<16;for(var w=0;w<4;w++)l[w]=(l[w]<<8|l[w]>>>24)&16711935|(l[w]<<24|l[w]>>>8)&4278255360,g[y+w]^=l[w]},blockSize:128/32,ivSize:64/32});function p(){for(var g=this._X,y=this._C,v=0;v<8;v++)u[v]=y[v];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var v=0;v<8;v++){var w=g[v]+y[v],b=w&65535,E=w>>>16,C=((b*b>>>17)+b*E>>>15)+E*E,k=((w&4294901760)*w|0)+((w&65535)*w|0);d[v]=C^k}g[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,g[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,g[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,g[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,g[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,g[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,g[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,g[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.RabbitLegacy=o._createHelper(f)}(),n.RabbitLegacy})}(H0)),H0.exports}var z0={exports:{}},eV=z0.exports,N2;function tV(){return N2||(N2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),il(),ol(),Ja(),Xn())})(eV,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,a=r.algo;const l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function p(b,E){let C=E>>24&255,k=E>>16&255,N=E>>8&255,_=E&255,P=b.sbox[0][C]+b.sbox[1][k];return P=P^b.sbox[2][N],P=P+b.sbox[3][_],P}function g(b,E,C){let k=E,N=C,_;for(let P=0;P<l;++P)k=k^b.pbox[P],N=p(b,k)^N,_=k,k=N,N=_;return _=k,k=N,N=_,N=N^b.pbox[l],k=k^b.pbox[l+1],{left:k,right:N}}function y(b,E,C){let k=E,N=C,_;for(let P=l+1;P>1;--P)k=k^b.pbox[P],N=p(b,k)^N,_=k,k=N,N=_;return _=k,k=N,N=_,N=N^b.pbox[1],k=k^b.pbox[0],{left:k,right:N}}function v(b,E,C){for(let D=0;D<4;D++){b.sbox[D]=[];for(let R=0;R<256;R++)b.sbox[D][R]=d[D][R]}let k=0;for(let D=0;D<l+2;D++)b.pbox[D]=u[D]^E[k],k++,k>=C&&(k=0);let N=0,_=0,P=0;for(let D=0;D<l+2;D+=2)P=g(b,N,_),N=P.left,_=P.right,b.pbox[D]=N,b.pbox[D+1]=_;for(let D=0;D<4;D++)for(let R=0;R<256;R+=2)P=g(b,N,_),N=P.left,_=P.right,b.sbox[D][R]=N,b.sbox[D][R+1]=_;return!0}var w=a.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,E=b.words,C=b.sigBytes/4;v(f,E,C)}},encryptBlock:function(b,E){var C=g(f,b[E],b[E+1]);b[E]=C.left,b[E+1]=C.right},decryptBlock:function(b,E){var C=y(f,b[E],b[E+1]);b[E]=C.left,b[E+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(w)}(),n.Blowfish})}(z0)),z0.exports}var nV=l0.exports,P2;function rV(){return P2||(P2=1,function(t,e){(function(n,r,i){t.exports=r(yt(),Jm(),ZK(),tq(),il(),iq(),ol(),E4(),LC(),cq(),A4(),fq(),pq(),gq(),$C(),xq(),Ja(),Xn(),Sq(),Aq(),Tq(),Nq(),Iq(),Oq(),Rq(),Bq(),Lq(),Uq(),zq(),qq(),Wq(),Yq(),Xq(),Zq(),tV())})(nV,function(n){return n})}(l0)),l0.exports}var iV=rV();const Ll=eo(iV);function _r(t,e,n){if(!t||!e||!n)return t;try{const r=Ll.enc.Base64.parse(e),i=Ll.enc.Base64.parse(n);return Ll.AES.decrypt(t,r,{iv:i,mode:Ll.mode.CBC,padding:Ll.pad.Pkcs7}).toString(Ll.enc.Utf8)}catch(r){return console.error("Decryption failed:",r),null}}function oV(t,e,n){var r;return{userId:t.userId,name:_r(t.name,e,n),email:_r(t.email,e,n),roles:((r=t.roles)==null?void 0:r.map(i=>_r(i,e,n)))||[],lastLogin:t.lastLogin,createdAt:t.createdAt}}const k4=S.createContext(),aV=({children:t})=>{const[e,n]=S.useState([]),[r,i]=S.useState(!0),[o,a]=S.useState(null);S.useEffect(()=>{(async()=>{try{i(!0),a(null);const{aesKey:d,aesIV:f}=await No(),g=(await KK()).map(y=>oV(y,d,f));n(g)}catch(d){console.error("Failed to load users:",d),a("Failed to load users or keys")}finally{i(!1)}})()},[]);const l={users:e,setUsers:n,loading:r,error:o,refreshUsers:()=>{i(!0),loadUsers()}};return h.jsx(k4.Provider,{value:l,children:t})},T4=()=>{const t=S.useContext(k4);if(!t)throw new Error("useUsers must be used within a UserProvider");return t},UC=""+new URL("Logo-7AFwe8r_.png",import.meta.url).href,sV=()=>{const[t,e]=S.useState("idle"),[n,r]=S.useState(null),i=oa(),[o,a]=S.useState(null),[l,u]=S.useState(null),{isAuthenticated:d,authState:f,login:p,getPrimaryRole:g,isInitialized:y,error:v,user:w,setUser:b,setUserRoles:E,acquireToken:C}=Bn();S.useEffect(()=>{(async()=>{try{console.log("Starting to fetch encryption keys...");const R=await No();if(R&&R.aesKey&&R.aesIV)a(R.aesKey),u(R.aesIV),console.log("Keys set successfully");else throw new Error("Invalid keys structure")}catch(R){console.error("Failed to fetch encryption keys:",R),r("Failed to fetch encryption keys. Please try again.")}})()},[]);const k=async()=>{try{const D=await C("api");console.log("Checking user data for userId:",w.id);const R=await fetch("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/all",{headers:{Authorization:`Bearer ${D}`}});if(!R.ok)throw new Error(`HTTP error! Status: ${R.status}`);const F=await R.json();console.log("API response (allUsers):",F);const O=F.find(W=>W.userId===w.id);console.log("Current user from database:",O);const B=O!=null&&O.roles&&O.roles.length>0?O.roles[0]:null;let $=null;B?($=_r(B,o,l),console.log("Decrypted role:",$)):($=g(),console.log("No encrypted role found, using fallback:",$));const L=W=>!W||W.trim()===""||W.toLowerCase()==="null"||W.toLowerCase()==="undefined",H=L(O==null?void 0:O.department),X=L(O==null?void 0:O.subDepartment),se=L(O==null?void 0:O.manager),ie=H||X||se;if(console.log("=== USER DATA CHECK ==="),console.log("User ID:",w.id),console.log("User Email:",w.email),console.log("Department:",O==null?void 0:O.department,"Missing:",H),console.log("SubDepartment:",O==null?void 0:O.subDepartment,"Missing:",X),console.log("Manager:",O==null?void 0:O.manager,"Missing:",se),console.log("Has incomplete data:",ie),console.log("User role:",$),console.log("====================="),$==="user"&&ie)console.log(" User role with incomplete data - redirecting to department selector"),console.log("Missing fields:",{department:H,subDepartment:X,manager:se}),setTimeout(()=>{i("/department-selector",{replace:!0,state:{userId:w.id,userEmail:w.email,missingFields:{department:H,subDepartment:X,manager:se}}})},1500);else if($==="user"&&!ie)console.log(" User role with complete data - navigating to tasks dashboard"),setTimeout(()=>{i("/tasks",{replace:!0})},1500);else{console.log(" Non-user role or complete data - navigating to role-based dashboard");const Q={admin:"/admin",manager:"/manager",user:"/tasks"}[$]||"/tasks";console.log(` Navigating to ${Q} for role: ${$}`),setTimeout(()=>{i(Q,{replace:!0})},1500)}}catch(D){if(console.error(" Error checking user data:",D),D.message.includes("401")){console.log("Unauthorized error, redirecting to login"),e("error"),r("Authentication expired. Please sign in again.");return}if(D.message.includes("404")){console.log("User not found in database, assuming new user - redirecting to department selector"),setTimeout(()=>{i("/department-selector",{replace:!0,state:{userId:w.id,userEmail:w.email,isNewUser:!0}})},1500);return}console.log(" Error occurred, showing error state"),e("error"),r("Unable to load user profile. Please check your connection and try again.")}};S.useEffect(()=>{d&&y&&f==="authenticated"&&o&&l&&(e("success"),k())},[d,y,f,o,l,i,g,C]),S.useEffect(()=>{v&&(e("error"),r(v))},[v]),S.useEffect(()=>{const D=new URLSearchParams(window.location.search),R=D.get("error"),F=D.get("error_description");R&&(console.error("OAuth error:",R,F),e("error"),r(F||R),window.history.replaceState({},document.title,window.location.pathname))},[]);const N=async()=>{try{e("loading"),r(null),await p()}catch(D){console.error("Login failed:",D),e("error"),r("Authentication failed. Please try again.")}},_=()=>{e("idle"),r(null)},P=()=>h.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M11.4 3H3v8.4h8.4V3z",fill:"#F25022"}),h.jsx("path",{d:"M21 3h-8.4v8.4H21V3z",fill:"#7FBA00"}),h.jsx("path",{d:"M11.4 12.6H3V21h8.4v-8.4z",fill:"#00A4EF"}),h.jsx("path",{d:"M21 12.6h-8.4V21H21v-8.4z",fill:"#FFB900"})]});return t==="success"?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-10 w-full max-w-[450px]",children:[h.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-6 bg-green-50 rounded-full",children:h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Welcome Back!"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"Authentication successful. Setting up your profile..."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#8929fe]"})})]})]})}):t==="error"?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-10 w-full max-w-[450px]",children:[h.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto mb-6 bg-red-50 rounded-full",children:h.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),h.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Authentication Failed"}),h.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:n||"We couldn't sign you in. Please try again."}),h.jsx("button",{onClick:_,className:"bg-[#8929fe] text-white font-medium py-3 px-6 rounded-lg hover:bg-[#7620e0] transition-colors",children:"Try Again"})]})]})}):h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-10 w-full max-w-[450px]",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-[70px] h-[70px] mx-auto mb-4 rounded-full flex items-center justify-center",children:h.jsx("img",{src:UC,alt:"Quadrant Technologies Logo",className:"rounded-full w-full h-full object-cover"})}),h.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Welcome to Quadrant Technologies"}),h.jsx("p",{className:"text-gray-600",children:"Sign in with your Microsoft account to continue"})]}),h.jsx("button",{onClick:N,disabled:t==="loading",className:"w-full bg-[#8929fe] text-white py-4 px-5 rounded-lg font-medium flex items-center justify-center gap-3 hover:bg-[#7620e0] transition-colors disabled:opacity-70 disabled:cursor-not-allowed",children:t==="loading"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Signing you in..."]}):h.jsxs(h.Fragment,{children:[h.jsx(P,{}),"Sign in with Microsoft"]})}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("p",{className:"text-xs text-gray-500",children:"By signing in, you agree to our terms of service and privacy policy."})})]})})};class js extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class HC extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Gi extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class lV extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class cV extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class uV extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class I2 extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class dV extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class _4{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class Zm{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var me;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(me||(me={}));class xd{constructor(){}log(e,n){}}xd.instance=new xd;const fV="8.0.7";class On{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class sn{static get isBrowser(){return!sn.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!sn.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!sn.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function wd(t,e){let n="";return Ys(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${hV(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function hV(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function Ys(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function N4(t,e,n,r,i,o){const a={},[l,u]=cc();a[l]=u,t.log(me.Trace,`(${e} transport) sending data. ${wd(i,o.logMessageContent)}.`);const d=Ys(i)?"arraybuffer":"text",f=await n.post(r,{content:i,headers:{...a,...o.headers},responseType:d,timeout:o.timeout,withCredentials:o.withCredentials});t.log(me.Trace,`(${e} transport) request complete. Response status: ${f.statusCode}.`)}function pV(t){return t===void 0?new Lp(me.Information):t===null?xd.instance:t.log!==void 0?t:new Lp(t)}class mV{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Lp{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${me[e]}: ${n}`;switch(e){case me.Critical:case me.Error:this.out.error(r);break;case me.Warning:this.out.warn(r);break;case me.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function cc(){let t="X-SignalR-User-Agent";return sn.isNode&&(t="User-Agent"),[t,gV(fV,yV(),xV(),vV())]}function gV(t,e,n,r){let i="Microsoft SignalR/";const o=t.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function yV(){if(sn.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function vV(){if(sn.isNode)return process.versions.node}function xV(){return sn.isNode?"NodeJS":"Browser"}function Lv(t){return t.stack?t.stack:t.message?t.message:`${t}`}function wV(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class bV extends Zm{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||sn.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(wV());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Gi;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new Gi});let i=null;if(e.timeout){const u=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(me.Warning,"Timeout from HTTP request."),r=new HC},u)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Ys(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(u){throw r||(this._logger.log(me.Warning,`Error from HTTP request. ${u}.`),u)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const u=await D2(o,"text");throw new js(u||o.statusText,o.status)}const l=await D2(o,e.responseType);return new _4(o.status,o.statusText,l)}getCookieString(e){let n="";return sn.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function D2(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class CV extends Zm{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Gi):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Ys(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach(a=>{i.setRequestHeader(a,o[a])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new Gi)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new _4(i.status,i.statusText,i.response||i.responseText)):r(new js(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(me.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new js(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(me.Warning,"Timeout from HTTP request."),r(new HC)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class SV extends Zm{constructor(e){if(super(),typeof fetch<"u"||sn.isNode)this._httpClient=new bV(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new CV(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Gi):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class ui{static write(e){return`${e}${ui.RecordSeparator}`}static parse(e){if(e[e.length-1]!==ui.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(ui.RecordSeparator);return n.pop(),n}}ui.RecordSeparatorCode=30;ui.RecordSeparator=String.fromCharCode(ui.RecordSeparatorCode);class EV{writeHandshakeRequest(e){return ui.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(Ys(e)){const l=new Uint8Array(e),u=l.indexOf(ui.RecordSeparatorCode);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,d))),r=l.byteLength>d?l.slice(d).buffer:null}else{const l=e,u=l.indexOf(ui.RecordSeparator);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=l.substring(0,d),r=l.length>d?l.substring(d):null}const i=ui.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var ct;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(ct||(ct={}));class AV{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new mV(this,e)}}class kV{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},o=()=>{};Ys(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((a,l)=>{i=a,o=l})),this._messages.push(new TV(n,this._totalMessageCount,i,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,Ys(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==ct.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:ct.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case ct.Invocation:case ct.StreamItem:case ct.Completion:case ct.StreamInvocation:case ct.CancelInvocation:return!0;case ct.Close:case ct.Sequence:case ct.Ping:case ct.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:ct.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class TV{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const _V=30*1e3,NV=15*1e3,PV=1e5;var Xt;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(Xt||(Xt={}));class zC{static create(e,n,r,i,o,a,l){return new zC(e,n,r,i,o,a,l)}constructor(e,n,r,i,o,a,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(me.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},On.isRequired(e,"connection"),On.isRequired(n,"logger"),On.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??_V,this.keepAliveIntervalInMilliseconds=a??NV,this._statefulReconnectBufferSize=l??PV,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new EV,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Xt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ct.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Xt.Disconnected&&this._connectionState!==Xt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Xt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Xt.Connecting,this._logger.log(me.Debug,"Starting HubConnection.");try{await this._startInternal(),sn.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Xt.Connected,this._connectionStarted=!0,this._logger.log(me.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Xt.Disconnected,this._logger.log(me.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(me.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(me.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new kV(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(me.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Xt.Disconnected)return this._logger.log(me.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Xt.Disconnecting)return this._logger.log(me.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Xt.Disconnecting,this._logger.log(me.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(me.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Xt.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Gi("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,i);let a;const l=new AV;return l.cancelCallback=()=>{const u=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],a.then(()=>this._sendWithProtocol(u))},this._callbacks[o.invocationId]=(u,d)=>{if(d){l.error(d);return}else u&&(u.type===ct.Completion?u.error?l.error(new Error(u.error)):l.complete():l.next(u.item))},a=this._sendWithProtocol(o).catch(u=>{l.error(u),delete this._callbacks[o.invocationId]}),this._launchStreams(r,a),l}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,o),o}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,i);return new Promise((l,u)=>{this._callbacks[o.invocationId]=(f,p)=>{if(p){u(p);return}else f&&(f.type===ct.Completion?f.error?u(new Error(f.error)):l(f.result):u(new Error(`Unexpected message type: ${f.type}`)))};const d=this._sendWithProtocol(o).catch(f=>{u(f),delete this._callbacks[o.invocationId]});this._launchStreams(r,d)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case ct.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(me.Error,`Invoke client method threw error: ${Lv(i)}`)});break;case ct.StreamItem:case ct.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===ct.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(me.Error,`Stream callback threw error: ${Lv(o)}`)}}break}case ct.Ping:break;case ct.Close:{this._logger.log(me.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case ct.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case ct.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(me.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(me.Error,o);const a=new Error(o);throw this._handshakeRejecter(a),a}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(me.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(me.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Xt.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(me.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(me.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),o=!!e.invocationId;let a,l,u;for(const d of i)try{const f=a;a=await d.apply(this,e.arguments),o&&a&&f&&(this._logger.log(me.Error,`Multiple results provided for '${n}'. Sending error to server.`),u=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),l=void 0}catch(f){l=f,this._logger.log(me.Error,`A callback for the method '${n}' threw error '${f}'.`)}u?await this._sendWithProtocol(u):o?(l?u=this._createCompletionMessage(e.invocationId,`${l}`,null):a!==void 0?u=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(me.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),u=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(u)):a&&this._logger.log(me.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(me.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Gi("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Xt.Disconnecting?this._completeClose(e):this._connectionState===Xt.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Xt.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Xt.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),sn.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(me.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,i);if(o===null){this._logger.log(me.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Xt.Reconnecting,e?this._logger.log(me.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(me.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[e]))}catch(a){this._logger.log(me.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Xt.Reconnecting){this._logger.log(me.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(me.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Xt.Reconnecting){this._logger.log(me.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Xt.Connected,this._logger.log(me.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(me.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(me.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Xt.Reconnecting){this._logger.log(me.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Xt.Disconnecting&&this._completeClose();return}i=a instanceof Error?a:new Error(a.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(me.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(me.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(o){this._logger.log(me.Error,`Stream 'error' callback called with '${e}' threw error: ${Lv(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:ct.Invocation}:{arguments:n,target:e,type:ct.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:o.toString(),streamIds:i,target:e,type:ct.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:ct.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(this._isObservable(o)){const a=this._invocationId;this._invocationId++,n[a]=o,r.push(a.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:ct.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:ct.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:ct.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:ct.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:ct.Completion}:{invocationId:e,result:r,type:ct.Completion}}_createCloseMessage(){return{type:ct.Close}}}const IV=[0,2e3,1e4,3e4,null];class O2{constructor(e){this._retryDelays=e!==void 0?[...e,null]:IV}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Rs{}Rs.Authorization="Authorization";Rs.Cookie="Cookie";class DV extends Zm{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Rs.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Rs.Authorization]&&delete e.headers[Rs.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Un;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Un||(Un={}));var yr;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(yr||(yr={}));let OV=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class j2{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new OV,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(On.isRequired(e,"url"),On.isRequired(n,"transferFormat"),On.isIn(n,yr,"transferFormat"),this._url=e,this._logger.log(me.Trace,"(LongPolling transport) Connecting."),n===yr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=cc(),o={[r]:i,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===yr.Binary&&(a.responseType="arraybuffer");const l=`${e}&_=${Date.now()}`;this._logger.log(me.Trace,`(LongPolling transport) polling: ${l}.`);const u=await this._httpClient.get(l,a);u.statusCode!==200?(this._logger.log(me.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),this._closeError=new js(u.statusText||"",u.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(me.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(me.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(me.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new js(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(me.Trace,`(LongPolling transport) data received. ${wd(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(me.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof HC?this._logger.log(me.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(me.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(me.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?N4(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(me.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(me.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=cc();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,i)}catch(a){o=a}o?o instanceof js&&(o.statusCode===404?this._logger.log(me.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(me.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(me.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(me.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(me.Trace,e),this.onclose(this._closeError)}}}class jV{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return On.isRequired(e,"url"),On.isRequired(n,"transferFormat"),On.isIn(n,yr,"transferFormat"),this._logger.log(me.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let o=!1;if(n!==yr.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if(sn.isBrowser||sn.isWebWorker)a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(e),u={};u.Cookie=l;const[d,f]=cc();u[d]=f,a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...u,...this._options.headers}})}try{a.onmessage=l=>{if(this.onreceive)try{this._logger.log(me.Trace,`(SSE transport) data received. ${wd(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(u){this._close(u);return}},a.onerror=l=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(me.Information,`SSE connected to ${this._url}`),this._eventSource=a,o=!0,r()}}catch(l){i(l);return}})}async send(e){return this._eventSource?N4(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class RV{constructor(e,n,r,i,o,a){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,n){On.isRequired(e,"url"),On.isRequired(n,"transferFormat"),On.isIn(n,yr,"transferFormat"),this._logger.log(me.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,o)=>{e=e.replace(/^http/,"ws");let a;const l=this._httpClient.getCookieString(e);let u=!1;if(sn.isNode||sn.isReactNative){const d={},[f,p]=cc();d[f]=p,r&&(d[Rs.Authorization]=`Bearer ${r}`),l&&(d[Rs.Cookie]=l),a=new this._webSocketConstructor(e,void 0,{headers:{...d,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);a||(a=new this._webSocketConstructor(e)),n===yr.Binary&&(a.binaryType="arraybuffer"),a.onopen=d=>{this._logger.log(me.Information,`WebSocket connected to ${e}.`),this._webSocket=a,u=!0,i()},a.onerror=d=>{let f=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?f=d.error:f="There was an error with the transport",this._logger.log(me.Information,`(WebSockets transport) ${f}.`)},a.onmessage=d=>{if(this._logger.log(me.Trace,`(WebSockets transport) data received. ${wd(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(f){this._close(f);return}},a.onclose=d=>{if(u)this._close(d);else{let f=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?f=d.error:f="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(f))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(me.Trace,`(WebSockets transport) sending data. ${wd(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(me.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const R2=100;class MV{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,On.isRequired(e,"url"),this._logger=pV(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if(sn.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),i=o("eventsource")}!sn.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:sn.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!sn.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:sn.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new DV(n.httpClient||new SV(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||yr.Binary,On.isIn(e,yr,"transferFormat"),this._logger.log(me.Debug,`Starting connection with transfer format '${yr[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(me.Error,n),await this._stopPromise,Promise.reject(new Gi(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(me.Error,n),Promise.reject(new Gi(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new KC(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(me.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(me.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(me.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(me.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Un.WebSockets)this.transport=this._constructTransport(Un.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Gi("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<R2);if(i===R2&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof j2&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(me.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(me.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=cc();n[r]=i;const o=this._resolveNegotiateUrl(e);this._logger.log(me.Debug,`Sending negotiation request: ${o}.`);try{const a=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const l=JSON.parse(a.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new I2("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(a){let l="Failed to complete negotiation with the server: "+a;return a instanceof js&&a.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(me.Error,l),Promise.reject(new I2(l))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let o=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(me.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,i),this.connectionId=r.connectionId;return}const a=[],l=r.availableTransports||[];let u=r;for(const d of l){const f=this._resolveTransportOrError(d,n,i,(u==null?void 0:u.useStatefulReconnect)===!0);if(f instanceof Error)a.push(`${d.transport} failed:`),a.push(f);else if(this._isITransport(f)){if(this.transport=f,!u){try{u=await this._getNegotiationResponse(e)}catch(p){return Promise.reject(p)}o=this._createConnectUrl(e,u.connectionToken)}try{await this._startTransport(o,i),this.connectionId=u.connectionId;return}catch(p){if(this._logger.log(me.Error,`Failed to start the transport '${d.transport}': ${p}`),u=void 0,a.push(new uV(`${d.transport} failed: ${p}`,Un[d.transport])),this._connectionState!=="Connecting"){const g="Failed to select transport before stop() was called.";return this._logger.log(me.Debug,g),Promise.reject(new Gi(g))}}}}return a.length>0?Promise.reject(new dV(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Un.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new RV(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Un.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new jV(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Un.LongPolling:return new j2(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const o=Un[e.transport];if(o==null)return this._logger.log(me.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(BV(n,o))if(e.transferFormats.map(l=>yr[l]).indexOf(r)>=0){if(o===Un.WebSockets&&!this._options.WebSocket||o===Un.ServerSentEvents&&!this._options.EventSource)return this._logger.log(me.Debug,`Skipping transport '${Un[o]}' because it is not supported in your environment.'`),new lV(`'${Un[o]}' is not supported in your environment.`,o);this._logger.log(me.Debug,`Selecting transport '${Un[o]}'.`);try{return this.features.reconnect=o===Un.WebSockets?i:void 0,this._constructTransport(o)}catch(l){return l}}else return this._logger.log(me.Debug,`Skipping transport '${Un[o]}' because it does not support the requested transfer format '${yr[r]}'.`),new Error(`'${Un[o]}' does not support ${yr[r]}.`);else return this._logger.log(me.Debug,`Skipping transport '${Un[o]}' because it was disabled by the client.`),new cV(`'${Un[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(me.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(me.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(me.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(me.Error,`Connection disconnected with error '${e}'.`):this._logger.log(me.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(me.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(me.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!sn.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(me.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function BV(t,e){return!t||(e&t)!==0}class KC{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Dh,this._transportResult=new Dh,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Dh),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Dh;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):KC._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(o=>o.byteLength).reduce((o,a)=>o+a),r=new Uint8Array(n);let i=0;for(const o of e)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class Dh{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const FV="json";class LV{constructor(){this.name=FV,this.version=2,this.transferFormat=yr.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=xd.instance);const r=ui.parse(e),i=[];for(const o of r){const a=JSON.parse(o);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case ct.Invocation:this._isInvocationMessage(a);break;case ct.StreamItem:this._isStreamItemMessage(a);break;case ct.Completion:this._isCompletionMessage(a);break;case ct.Ping:break;case ct.Close:break;case ct.Ack:this._isAckMessage(a);break;case ct.Sequence:this._isSequenceMessage(a);break;default:n.log(me.Information,"Unknown message type '"+a.type+"' ignored.");continue}i.push(a)}return i}writeMessage(e){return ui.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const $V={trace:me.Trace,debug:me.Debug,info:me.Information,information:me.Information,warn:me.Warning,warning:me.Warning,error:me.Error,critical:me.Critical,none:me.None};function UV(t){const e=$V[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class HV{configureLogging(e){if(On.isRequired(e,"logging"),zV(e))this.logger=e;else if(typeof e=="string"){const n=UV(e);this.logger=new Lp(n)}else this.logger=new Lp(e);return this}withUrl(e,n){return On.isRequired(e,"url"),On.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return On.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new O2(e):this.reconnectPolicy=e:this.reconnectPolicy=new O2,this}withServerTimeout(e){return On.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return On.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new MV(this.url,e);return zC.create(n,this.logger||xd.instance,this.protocol||new LV,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function zV(t){return t.log!==void 0}function li({onClick:t,children:e}){return h.jsx("div",{children:h.jsx("button",{onClick:t,className:`inline-flex items-center justify-center px-3 py-2\r
             bg-[#8F00FF] text-white text-sm font-medium rounded-full \r
             transition-colors duration-200 hover:bg-opacity-80`,children:e})})}/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),M2=t=>{const e=qV(t);return e.charAt(0).toUpperCase()+e.slice(1)},P4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),VV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},u)=>S.createElement("svg",{ref:u,...WV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:P4("lucide",i),...!o&&!VV(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,f])=>S.createElement(d,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=S.forwardRef(({className:r,...i},o)=>S.createElement(GV,{ref:o,iconNode:e,className:P4(`lucide-${KV(M2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=M2(t),n};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],K0=lt("activity",YV);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],I4=lt("align-left",QV);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D4=lt("arrow-left",XV);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qu=lt("arrow-right",JV);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eW=lt("badge-plus",ZV);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hu=lt("bell",tW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],rW=lt("calendar-range",nW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wo=lt("calendar",iW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bd=lt("chart-column",oW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],mb=lt("chart-no-axes-column",aW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wd=lt("chevron-down",sW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gd=lt("chevron-left",lW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],al=lt("chevron-right",cW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sl=lt("circle-alert",uW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ka=lt("circle-check-big",dW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hW=lt("circle-check",fW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Oh=lt("circle-x",pW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gW=lt("clock-4",mW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Nr=lt("clock",yW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xW=lt("eye",vW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],B2=lt("file-text",wW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gb=lt("funnel",bW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],SW=lt("git-branch",CW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],$v=lt("inbox",EW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],kW=lt("kanban",AW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qC=lt("link",TW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],NW=lt("list",_W);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IW=lt("lock",PW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],OW=lt("log-out",DW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],O4=lt("menu",jW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],F2=lt("message-circle",RW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],L2=lt("message-square",MW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],FW=lt("percent",BW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$W=lt("plus",LW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$2=lt("refresh-cw",UW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zW=lt("save",HW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VC=lt("search",KW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yb=lt("send",qW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WW=lt("settings",VW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j4=lt("square-pen",GW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vb=lt("trash-2",YW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R4=lt("triangle-alert",QW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],JW=lt("truck",XW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Go=lt("user",ZW);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ms=lt("users",eG);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yn=lt("x",tG);function M4({onSearch:t,placeholder:e="Search...",className:n=""}){const[r,i]=S.useState(""),o=a=>{i(a.target.value),t(a.target.value)};return h.jsxs("div",{className:`relative ${n}`,children:[h.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:h.jsx(VC,{className:"w-4 h-4 text-gray-400"})}),h.jsx("input",{type:"text",value:r,onChange:o,placeholder:e,className:`w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-full\r
          text-gray-700 focus:outline-none focus:ring-1 focus:ring-purple-400 transition duration-200`})]})}function nG({task:t,dependencyTasks:e,dependentTasks:n,handleDependencyItemClick:r}){const i=a=>a?new Date(a).toISOString().split("T")[0]:"No date";console.log(n);const o=a=>{switch(a){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Not Started":return"bg-gray-100 text-gray-800";case"Accepted":return"bg-purple-100 text-purple-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(I4,{className:"w-4 h-4 text-electric-violet mr-2"}),h.jsx("h4",{className:"text-sm font-medium text-gray-800",children:"Description"})]}),h.jsx("div",{className:"pl-2",children:h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:(t==null?void 0:t.description)||"This task needs to be completed according to the project requirements."})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(qC,{className:"w-4 h-4 text-electric-violet mr-2"}),h.jsx("h4",{className:"text-sm font-medium text-gray-800",children:"Dependencies"})]}),h.jsxs("div",{className:"pl-2 space-y-4",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"This task depends on:"}),e&&e.length>0?e.map((a,l)=>{var u,d;return h.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100 mb-2 cursor-pointer hover:bg-blue-100",onClick:()=>a&&r(a),children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Qu,{className:"w-4 h-4 text-blue-500"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-blue-800",children:((u=a==null?void 0:a.request)==null?void 0:u.taskName)||"Unnamed Task"}),h.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[h.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${o(a==null?void 0:a.status)}`,children:["Status: ",(a==null?void 0:a.status)||"Unknown"]}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Date: ",i((d=a==null?void 0:a.request)==null?void 0:d.requestedDate)]})]})]})]})},(a==null?void 0:a.id)||l)}):h.jsx("div",{className:"text-sm text-gray-500",children:"No dependencies"})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tasks dependent on this:"}),n&&n.length>0?n.map((a,l)=>{var u,d;return h.jsx("div",{className:"bg-purple-50 p-3 rounded-md border border-purple-100 mb-2 cursor-pointer hover:bg-purple-100",onClick:()=>a&&r(a),children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Qu,{className:"w-4 h-4 text-purple-500"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-purple-800",children:((u=a==null?void 0:a.request)==null?void 0:u.taskName)||"Unnamed Task"}),h.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[h.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${o(a==null?void 0:a.status)}`,children:["Status: ",(a==null?void 0:a.status)||"Unknown"]}),h.jsxs("span",{className:"text-xs text-gray-500",children:["Date: ",i((d=a==null?void 0:a.request)==null?void 0:d.requestedDate)]})]})]})]})},(a==null?void 0:a.id)||l)}):h.jsx("div",{className:"text-sm text-gray-500",children:"No tasks depend on this"})]})]})]})]})}function B4({progress:t,isOvertime:e,dueDate:n,status:r}){const i=new Date,o=new Date(n);i.setHours(0,0,0,0),o.setHours(0,0,0,0);const a=i>o,l=r==="Completed";let u="bg-red-500";e?u="bg-black":t>=70?u="bg-green-500":t>=30&&(u="bg-yellow-500");let d=l?"100%":`${t}%`,f="text-gray-700";return l||(a&&e||a?(d="OVERDUE",f="text-red-500 animate-blink"):e&&(d="OVER TIME",f="text-red-500 animate-blink")),h.jsxs("div",{className:"flex flex-col items-start",children:[h.jsx("div",{className:`text-xs ${f} font-medium mb-1`,children:d}),h.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5",children:h.jsx("div",{className:`${u} h-2.5 rounded-full transition-all duration-300`,style:{width:`${l?100:t}%`}})})]})}const F4=document.createElement("style");F4.innerHTML=`
  .animate-blink {
    animation: blink 1s infinite;
  }
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }
`;document.head.appendChild(F4);function L4({taskOrStep:t}){const e=parseFloat(t.estimatedHours);return h.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[h.jsx(Nr,{className:"w-4 h-4 mr-1 text-blue-600"}),h.jsxs("span",{className:"font-medium",children:[t.completedHours||0,"/",e||0," hours"]})]})}function rG({step:t,taskId:e,setShowSubtaskModal:n,setEditingStepId:r,setStepForm:i,onDeleteSubtask:o}){const{acquireToken:a}=Bn(),[l,u]=S.useState(null),d=t.status==="In Progress",f="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/SubTask",p=C=>{if(C.status==="Completed")return{progress:100,isOvertime:!1};if(!C.estimatedHours)return{progress:0,isOvertime:!1};const k=parseFloat(C.completedHours||0),N=parseFloat(C.estimatedHours),_=k>N;let P;return k===N&&C.status!=="Completed"?P=90:P=Math.min(100,Math.round(k/N*100)),{progress:P,isOvertime:_}},g=async()=>{try{const C=await a("api");if(!C)throw new Error("Token acquisition failed");return{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}}catch(C){throw console.error("Error acquiring token:",C),C}},y=C=>{u(l===C?null:C)},v=C=>C?new Date(C).toISOString().split("T")[0]:"",w=async(C,k)=>{var N,_;try{const P=await g();await ot.delete(`${f}/${k}`,P),o&&o(C,k),alert("Subtask deleted successfully.")}catch(P){console.error("Error deleting subtask:",P),alert("Failed to delete subtask: "+(((_=(N=P.response)==null?void 0:N.data)==null?void 0:_.message)||P.message))}},{progress:b,isOvertime:E}=p(t);return h.jsxs("div",{className:"grid grid-cols-8 py-2 px-4 bg-gray-50 border-b border-gray-200 hover:bg-gray-100 transition-colors",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`font-medium text-gray-800 text-base ${t.status==="Completed"?"line-through text-gray-500":""}`,children:t.name}),t.description&&h.jsxs("button",{onClick:C=>{C.stopPropagation(),y(t.id)},className:"text-xs text-gray-500 flex items-center hover:text-electric-violet",children:[h.jsx(I4,{className:"w-3 h-3 mr-1"}),"Description"]}),l===t.id&&t.description&&h.jsx("div",{className:"mt-1 text-xs text-gray-600",children:t.description})]})}),h.jsx("div",{className:"text-sm text-gray-700 flex items-center",children:v(t.startDate)}),h.jsx("div",{className:"text-sm text-gray-700 flex items-center",children:v(t.dueDate)}),h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${oG(t.priority)}`,children:t.priority})}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${iG(t.status)}`,children:t.status})}),h.jsx("div",{className:"flex items-center",children:h.jsx(B4,{progress:b,isOvertime:E,dueDate:t.dueDate,status:t.status})}),h.jsx("div",{className:"flex items-center",children:h.jsx(L4,{taskOrStep:t})}),h.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[h.jsx("button",{onClick:async C=>{var k,N;C.stopPropagation();try{const _=await g(),D=(await ot.get(`${f}/${t.id}`,_)).data;n(e),r(t.id),i({name:D.subTaskName||D.name||"",description:D.description||"",startDate:v(D.startDate),dueDate:v(D.dueDate),date:v(D.datetime||D.dueDate),priority:D.priority||"Medium",status:D.status||"Not Started",estimatedHours:D.estimatedHours?D.estimatedHours.toString():"1",todayEffort:D.workedHours?D.workedHours.toString():"",completedHours:D.completedHours?D.completedHours.toString():""})}catch(_){console.error("Error fetching subtask:",_),alert("Failed to load subtask data: "+(((N=(k=_.response)==null?void 0:k.data)==null?void 0:N.message)||_.message))}},className:"p-1 hover:bg-gray-200 rounded transition-colors",children:h.jsx(j4,{className:"w-3 h-3 text-gray-500"})}),h.jsx("button",{onClick:C=>{if(C.stopPropagation(),d){alert("Cannot delete a subtask that is In Progress.");return}window.confirm("Are you sure you want to delete this subtask?")&&w(e,t.id)},className:`p-1 rounded transition-colors ${d?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,disabled:d,title:d?"Cannot delete In Progress subtask":"Delete subtask",children:h.jsx(vb,{className:"w-3 h-3 text-gray-500"})})]})]})}const iG=t=>{switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Not Started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},oG=t=>{switch(t){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};function aG({task:t,isExpanded:e,toggleTaskExpand:n,dependencyTasks:r,dependentTasks:i,handleDependencyItemClick:o,openEditTaskModal:a,deleteTask:l,setShowSubtaskModal:u,setEditingStepId:d,setStepForm:f,setShowDependencyRequestForm:p,setDependencyTaskId:g,setDependencyStepId:y,onDeleteSubtask:v,setTaskList:w}){const{acquireToken:b}=Bn(),[E,C]=S.useState(!1),[k,N]=S.useState(!1),[_,P]=S.useState(""),[D,R]=S.useState(null),[F,O]=S.useState(!1),B=S.useRef(null),$=t.status==="Completed",L=t.status==="Not Started",H=t.hasSubtask==="Yes",X="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task",se=async()=>{try{const V=await b("api");if(!V)throw new Error("Token acquisition failed");return{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}}}catch(V){throw console.error("Error acquiring token:",V),V}},ie=V=>{if(V.status==="Completed")return{progress:100,isOvertime:!1};if(V.steps&&V.steps.length>0&&V.steps.every(Je=>Je.status==="Completed"))return{progress:100,isOvertime:!1};if(!V.estimatedHours)return{progress:0,isOvertime:!1};const ce=parseFloat(V.completedHours||0),ye=parseFloat(V.estimatedHours),le=ce>ye;let Se;return ce===ye&&V.status!=="Completed"?Se=90:Se=Math.min(100,Math.round(ce/ye*100)),{progress:Se,isOvertime:le}},W=V=>!V||V.length===0?t.status:V.some(ce=>ce.status==="In Progress")?"In Progress":V.every(ce=>ce.status==="Completed")?"Completed":V.every(ce=>ce.status==="Not Started")?"Not Started":"In Progress";S.useEffect(()=>{if(t.steps&&t.steps.length>0&&!$){console.log("TaskRow useEffect triggered for task:",t.id,"Steps:",t.steps);const V=W(t.steps);V!==t.status&&(console.log(`Task ${t.id} status changing from ${t.status} to ${V}`),w(ye=>ye.map(le=>le.id.toString()===t.id.toString()?{...le,status:V}:{...le})),(async()=>{var ye,le,Se,Pe,Je,et;try{const ht=await se();await ot.patch(`${X}/UpdateTask`,{TaskId:t.id,Status:V,Priority:t.priority,WorkedHours:0,UpdateDate:new Date().toISOString(),HasSubtask:t.hasSubtask},ht),console.log(`Task ${t.id} status updated to ${V} in backend`)}catch(ht){console.error("Error updating task status:",{message:ht.message,status:(ye=ht.response)==null?void 0:ye.status,data:(le=ht.response)==null?void 0:le.data,headers:(Se=ht.response)==null?void 0:Se.headers}),alert(`Failed to update task status: ${((Pe=ht.response)==null?void 0:Pe.status)||""} ${((et=(Je=ht.response)==null?void 0:Je.data)==null?void 0:et.message)||ht.message}. Please check permissions or try again. The status has been updated locally.`)}})())}},[t.steps,t.status,t.id,w,b,$]);const Q=r,ee=i,I=()=>{!$&&t.id&&H?(console.log("Opening subtask modal with taskId:",t.id,"hasSubtask:",t.hasSubtask),u(t.id),d(null),f({name:"",description:"",startDate:"",dueDate:"",date:"",priority:"Medium",status:"Not Started",estimatedHours:"",todayEffort:"",completedHours:""})):console.error("Cannot open subtask modal: Invalid taskId, task is completed, or cannot add subtasks",{id:t.id,status:t.status,canAddSubtasks:H})},M=V=>{if(V.stopPropagation(),L){const ye=t.taskName.length>13?`${t.taskName.substring(0,10)}...`:t.taskName;R({id:t.id,name:ye,fullName:t.taskName}),N(!0)}},z=async()=>{if(D){O(!0);try{const V=D.name;await l(D.id),N(!1),R(null),O(!1),setTimeout(()=>{P(V),C(!0),toast.success(`Task "${V}" deleted successfully!`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},200)}catch(V){console.error("Error deleting task:",V),O(!1),toast.error("Failed to delete task. Please try again.",{position:"top-right",autoClose:3e3})}}},K=()=>{N(!1),R(null)};S.useEffect(()=>(E&&(B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{C(!1),P("")},3e3)),()=>{B.current&&(clearTimeout(B.current),B.current=null)}),[E]),S.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]);const{progress:J,isOvertime:he}=ie(t),we=13,te=t.taskName.length>we?`${t.taskName.substring(0,we-3)}...`:t.taskName;return h.jsxs("div",{className:"relative border-b border-gray-200",children:[k&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:h.jsx(vb,{className:"w-5 h-5 text-red-600"})}),h.jsx("div",{className:"ml-3",children:h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Task"})})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["Are you sure you want to delete the task"," ",h.jsxs("span",{className:"font-semibold text-gray-900",title:D==null?void 0:D.fullName,children:['"',D==null?void 0:D.name,'"']}),"? This action cannot be undone."]})}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:K,disabled:F,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),h.jsx("button",{onClick:z,disabled:F,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:F?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Task"})]})]})}),E&&_&&h.jsx("div",{className:"fixed top-4 right-4 bg-green-600 text-white p-4 rounded-lg shadow-lg z-50 animate-slide-in",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0 mr-3",children:h.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),h.jsxs("span",{children:['Task "',_,'" deleted successfully!']})]}),h.jsx("button",{onClick:()=>{C(!1),P(""),B.current&&(clearTimeout(B.current),B.current=null)},className:"ml-4 text-white hover:text-gray-200 font-bold text-lg",title:"Close alert",children:""})]})}),h.jsxs("div",{className:"grid grid-cols-8 py-4 px-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:V=>{V.stopPropagation(),n(t.id)},className:"text-gray-500 hover:text-electric-violet transition-colors flex-shrink-0",children:e?h.jsx(Wd,{className:"w-5 h-5"}):h.jsx(al,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:`font-medium text-gray-800 text-base ${e?"font-semibold":""}`,title:t.taskName,children:te}),t.steps&&t.steps.length>0&&h.jsxs("span",{className:"text-xs text-gray-600 font-medium",children:[t.steps.length," subtask",t.steps.length!==1?"s":""]})]})]}),h.jsx("div",{className:"text-sm text-gray-700 flex items-center",children:new Date(t.startDate).toISOString().split("T")[0]}),h.jsx("div",{className:"text-sm text-gray-700 flex items-center",children:new Date(t.dueDate).toISOString().split("T")[0]}),h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${sG(t.priority)}`,children:t.priority})}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${lG(t.status)}`,children:t.status})}),h.jsx("div",{className:"flex items-center",children:h.jsx(B4,{progress:J,isOvertime:he,dueDate:t.dueDate,status:t.status})}),h.jsx("div",{className:"flex items-center",children:h.jsx(L4,{taskOrStep:t})}),h.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[h.jsx("button",{onClick:V=>{V.stopPropagation(),$||(g(t.id),y(null),p(!0))},className:`p-1 rounded transition-colors ${$?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,disabled:$,title:$?"Cannot add dependency to completed task":"Add dependency",children:h.jsx(qC,{className:"w-4 h-4 text-blue-500"})}),h.jsx("button",{onClick:V=>{V.stopPropagation(),$||a(t)},className:`p-1 rounded transition-colors ${$?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,disabled:$,title:$?"Cannot edit completed task":"Edit task",children:h.jsx(j4,{className:"w-4 h-4 text-blue-500"})}),h.jsx("button",{onClick:M,className:`p-1 rounded transition-colors ${L?"hover:bg-gray-200":"opacity-50 cursor-not-allowed"}`,disabled:!L,title:L?"Delete task":"Cannot delete task unless not started",children:h.jsx(vb,{className:"w-4 h-4 text-red-500"})}),h.jsx("button",{onClick:V=>{V.stopPropagation(),!$&&H&&I()},className:`p-1 rounded transition-colors ${$||!H?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,disabled:$||!H,title:$?"Cannot add subtask to completed task":H?"Add subtask":"Cannot add subtasks to this task",children:h.jsx($W,{className:"w-4 h-4 text-green-800"})})]})]}),e&&h.jsxs("div",{className:"pl-8 pr-4 pb-4",children:[t.steps&&t.steps.length>0&&h.jsx("div",{className:"mb-4",children:t.steps.map(V=>h.jsx(rG,{step:V,taskId:t.id,setShowSubtaskModal:u,setEditingStepId:d,setStepForm:f,onDeleteSubtask:v},V.id))}),h.jsx(nG,{task:t,dependencyTasks:Q,dependentTasks:ee,handleDependencyItemClick:o})]}),h.jsx("style",{jsx:!0,children:`
                .animate-slide-in {
                    animation: slideIn 0.3s ease-out;
                }
                @keyframes slideIn {
                    from {
                        transform: translateX(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
            `})]})}function sG(t){switch(t){case"High":return"bg-red-100 text-red-800";case"Medium":return"bg-yellow-100 text-yellow-800";case"Low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function lG(t){switch(t){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Not Started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function cG({taskId:t,editingStepId:e,stepForm:n,setStepForm:r,onClose:i,onSave:o}){var v;const{acquireToken:a}=Bn(),[l,u]=S.useState(null),[d,f]=S.useState(!1);S.useEffect(()=>{if(!e){const w=new Date("2025-08-19").toISOString().split("T")[0];r({name:"",description:"",startDate:w,dueDate:w,priority:"Medium",status:"Not Started",estimatedHours:"1",todayEffort:"",completedHours:""})}console.log("SubtaskModal opened with taskId:",t,"stepForm:",n)},[e,r,t]);const p=w=>w?new Date(w).toISOString():"",g=S.useCallback(async()=>{var C,k,N,_,P,D,R,F;if(d)return;if(f(!0),u(null),!((C=n.name)!=null&&C.trim())){u("Subtask Name is required"),f(!1);return}if(!e&&!n.dueDate){u("Due Date is required"),f(!1);return}if(e&&!n.date){u("Date is required"),f(!1);return}if(n.todayEffort&&parseFloat(n.todayEffort)<0){u("Today's Efforts cannot be negative"),f(!1);return}if(n.estimatedHours&&parseFloat(n.estimatedHours)<=0){u("Estimated Hours must be greater than 0"),f(!1);return}if(!e&&!n.estimatedHours){u("Estimated Hours is required"),f(!1);return}if(n.status==="Not Started"&&n.completedHours&&parseFloat(n.completedHours)>0){u('Subtasks with "Not Started" status cannot have completed hours'),f(!1);return}const w=n.status&&["Not Started","In Progress","Completed"].includes(n.status)?n.status:"Not Started",b=n.priority&&["High","Medium","Low"].includes(n.priority)?n.priority:"Medium",E=parseInt(t);if(!t||isNaN(E)){console.error("Invalid taskId:",t),u("Invalid task ID. Please ensure the task is properly selected."),f(!1);return}try{const O={subTaskName:n.name.trim(),status:w,description:n.description||"",priority:b,taskItemId:E,estimatedHours:parseFloat(n.estimatedHours)||1,workedHours:parseFloat(n.todayEffort)||0,...e?{datetime:p(n.date)}:{startDate:p(n.startDate),dueDate:p(n.dueDate)}};console.log("Sending payload:",O);const B=await a("api");if(!B){u("Failed to get authentication token. Please try logging in again."),f(!1);return}const $={"Content-Type":"application/json",Accept:"*/*",Authorization:`Bearer ${B}`};let L=e;e?await ot.put(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/SubTask/${e}`,O,{headers:$}):L=(await ot.post("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/SubTask",O,{headers:$})).data.id,u(null),o(E,L,{...n,status:w,priority:b,estimatedHours:parseFloat(n.estimatedHours)||1,dueDate:e?n.date:n.dueDate}),i()}catch(O){console.error("Error saving subtask:",{endpoint:e?`/api/SubTask/${e} (PUT)`:"/api/SubTask (POST)",error:(k=O.response)==null?void 0:k.data,status:(N=O.response)==null?void 0:N.status,message:O.message}),u(((_=O.response)==null?void 0:_.status)===401?"Authentication failed. Please log in again.":((P=O.response)==null?void 0:P.status)===403?"You do not have permission to perform this action.":((D=O.response)==null?void 0:D.status)===404?"Task or subtask not found. Please try again or contact support.":((F=(R=O.response)==null?void 0:R.data)==null?void 0:F.message)||"Failed to save subtask. Please check the input data or server logs.")}finally{f(!1)}},[n,t,e,o,i,a,d]),y=n.status==="Not Started"?["Not Started","In Progress","Completed"]:["In Progress","Completed"];return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-[458px] mx-4 max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[h.jsx("h5",{className:"text-lg font-medium text-gray-800",children:e?"Edit Subtask":"Add New Subtask"}),h.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-200 rounded-full",disabled:d,children:h.jsx(Yn,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:[l&&h.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded-md",children:l}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-xs text-gray-600",children:["Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",className:`w-full px-3 py-2 border ${!((v=n.name)!=null&&v.trim())&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none ${e?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-electric-violet"}`,value:n.name||"",onChange:w=>!e&&r({...n,name:w.target.value}),disabled:e||d,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Description"}),h.jsx("textarea",{className:`w-full px-3 py-2 border border-gray-300 rounded-md ${e?"bg-gray-100 cursor-not-allowed":"focus:outline-none focus:ring-2 focus:ring-electric-violet"}`,value:n.description||"",onChange:w=>!e&&r({...n,description:w.target.value}),disabled:e||d})]}),e?h.jsxs("div",{children:[h.jsxs("label",{className:"text-xs text-gray-600",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",className:`w-full px-3 py-2 border ${!n.date&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet`,value:n.date||n.dueDate||"",onChange:w=>r({...n,date:w.target.value}),disabled:d,required:!0})]}):h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"text-xs text-gray-600",children:["Start Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",className:`w-full px-3 py-2 border ${!n.startDate&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet`,value:n.startDate||"",onChange:w=>r({...n,startDate:w.target.value}),disabled:d,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-xs text-gray-600",children:["Due Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",className:`w-full px-3 py-2 border ${!n.dueDate&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet`,value:n.dueDate||"",onChange:w=>r({...n,dueDate:w.target.value}),disabled:d,required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Priority"}),h.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet",value:n.priority||"Medium",onChange:w=>r({...n,priority:w.target.value}),disabled:d,children:[h.jsx("option",{value:"High",children:"High"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"Low",children:"Low"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Status"}),h.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet",value:n.status||"Not Started",onChange:w=>r({...n,status:w.target.value}),disabled:d,children:y.map(w=>h.jsx("option",{value:w,children:w},w))})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"text-xs text-gray-600",children:["Estimated Hours ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",min:"0.5",step:"0.5",className:`w-full px-3 py-2 border ${!n.estimatedHours&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none ${e?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-electric-violet"}`,value:n.estimatedHours||"",onChange:w=>!e&&r({...n,estimatedHours:w.target.value}),disabled:e||d,required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Today's Efforts"}),h.jsx("input",{type:"number",min:"0",step:"0.5",className:`w-full px-3 py-2 border ${n.todayEffort&&parseFloat(n.todayEffort)<0&&l?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-electric-violet`,value:n.todayEffort||"",onChange:w=>r({...n,todayEffort:w.target.value}),disabled:d})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Completed Hours"}),h.jsx("input",{type:"number",min:"0",step:"0.5",className:`w-full px-3 py-2 border ${n.status==="Not Started"&&n.completedHours&&parseFloat(n.completedHours)>0&&l?"border-red-500":"border-gray-300"} rounded-md bg-gray-100 cursor-not-allowed`,value:n.completedHours||"",disabled:!0})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2 p-4 border-t border-gray-200",children:[h.jsx("button",{onClick:g,className:`px-4 py-2 bg-electric-violet text-white rounded-md hover:bg-purple-700 ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:e?"Save":"Add Subtask"}),h.jsx("button",{onClick:i,className:`px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 ${d?"opacity-50 cursor-not-allowed":""}`,disabled:d,children:"Cancel"})]})]})})}const $4=({taskId:t,stepId:e,taskList:n,onClose:r,onSave:i})=>{const{users:o,loading:a,error:l}=T4(),{isAuthenticated:u,isLoading:d,user:f,login:p}=Bn();No();const[g,y]=S.useState({taskName:"",targetUser:"",requestedTask:"",description:"",priority:"medium",estimatedImpact:""}),[v,w]=S.useState(!1),[b,E]=S.useState({}),[C,k]=S.useState(null),[N,_]=S.useState(""),[P,D]=S.useState([]),[R,F]=S.useState(!1),[O,B]=S.useState(!1),[$,L]=S.useState(!1),H=S.useRef(null);S.useEffect(()=>{const I=M=>{H.current&&!H.current.contains(M.target)&&F(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),S.useEffect(()=>{if(!N.trim()||!u||d||a||!o.length){D([]),F(!1),B(!1),L(!1);return}const I=N.toLowerCase(),M=o.filter(K=>{var J;return((J=K.email)==null?void 0:J.toLowerCase().includes(I))||K.name&&K.name.toLowerCase().includes(I)});console.debug("Filtered suggestions:",M),D(M),F(M.length>0);const z=o.find(K=>{var J;return((J=K.email)==null?void 0:J.toLowerCase())===I||K.name&&K.name.toLowerCase()===I});if(L(!!z),N.trim()&&M.length===0){const K=setTimeout(()=>{B(!0)},500);return()=>clearTimeout(K)}else B(!1)},[N,u,d,a,o]);const X=()=>{const I={};return g.taskName.trim()||(I.taskName="Task name is required"),g.targetUser.trim()||(I.targetUser="Target user is required"),g.requestedTask.trim()||(I.requestedTask="Requested task name is required"),g.description.trim()||(I.description="Description is required"),g.targetUser.trim()&&!$&&(I.targetUser="Please select a valid user from the suggestions"),E(I),Object.keys(I).length===0},se=async()=>{var M,z,K,J,he,we;if(!$&&g.targetUser.trim()){E({...b,targetUser:"Please select a valid user from the suggestions"});return}if(!X())return;k(null);const I={TaskName:g.taskName,TargetUser:g.targetUser,RequestedTask:g.requestedTask,Description:g.description,Priority:g.priority,EstimatedImpact:g.estimatedImpact||null,UserId:f==null?void 0:f.id,TaskId:t};try{const te=await qK(I);w(!0),setTimeout(()=>{w(!1),y({taskName:"",targetUser:"",requestedTask:"",description:"",priority:"medium",estimatedImpact:""}),_(""),D([]),E({}),B(!1),L(!1),i==null||i(t,e,{dependsOnTaskId:t,assignedTo:g.targetUser,notes:g.description}),r==null||r()},2e3)}catch(te){k(((M=te.response)==null?void 0:M.status)===401?"Session expired. Please log in again.":((K=(z=te.response)==null?void 0:z.data)==null?void 0:K.message)||"An error occurred while sending the request."),console.error("Error submitting request:",{message:te.message,status:(J=te.response)==null?void 0:J.status,data:(he=te.response)==null?void 0:he.data}),((we=te.response)==null?void 0:we.status)===401&&setTimeout(()=>p(),2e3)}},ie=()=>{y({taskName:"",targetUser:"",requestedTask:"",description:"",priority:"medium",estimatedImpact:""}),_(""),D([]),E({}),k(null),F(!1),B(!1),L(!1)},W=I=>{y({...g,targetUser:I.email}),_(I.email),F(!1),B(!1),L(!0),E({...b,targetUser:""})},Q=I=>{const M=I.target.value;_(M),y({...g,targetUser:M}),O&&B(!1),b.targetUser&&E({...b,targetUser:""})},ee=I=>`
    w-full px-3 py-2 rounded-lg border transition-all duration-200
    ${b[I]?"border-red-400 focus:border-red-500":"border-gray-300 focus:border-purple-600 focus:ring-1 focus:ring-purple-200"}
    focus:outline-none placeholder-gray-400 bg-white
  `;return d||a?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md relative p-6 text-center",children:h.jsx("div",{className:"text-gray-500",children:"Loading..."})})}):u?l?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md relative p-6 text-center",children:[h.jsxs("div",{className:"text-red-500 mb-4",children:["Error loading users: ",l]}),h.jsx("button",{onClick:r,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Close"})]})}):h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md relative max-h-[90vh] overflow-y-auto",children:v?h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Ka,{className:"w-8 h-8 text-green-600"})}),h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Request Sent"}),h.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Your request has been sent successfully."})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[h.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Dependency Request"}),h.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-800",children:h.jsx(Yn,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[C&&h.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-3 rounded",children:h.jsx("p",{className:"text-red-700 text-sm",children:C})}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[h.jsx(B2,{className:"w-4 h-4 mr-2 text-purple-600"}),"Task Name"]}),h.jsx("input",{type:"text",value:g.taskName,onChange:I=>y({...g,taskName:I.target.value}),className:ee("taskName"),placeholder:"e.g., Frontend User Dashboard"}),b.taskName&&h.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[h.jsx(Yn,{className:"w-3 h-3 mr-1"}),b.taskName]})]}),h.jsxs("div",{className:"relative",ref:H,children:[h.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[h.jsx(Go,{className:"w-4 h-4 mr-2 text-purple-600"}),"Target User"]}),h.jsx("input",{type:"text",value:N,onChange:Q,onFocus:()=>F(P.length>0),className:ee("targetUser"),placeholder:"e.g., jane.smith@company.com"}),R&&P.length>0&&h.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md shadow-lg mt-1 max-h-60 overflow-y-auto",children:P.map((I,M)=>h.jsxs("li",{onClick:()=>W(I),className:"px-3 py-2 text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-700 cursor-pointer",children:[h.jsx("span",{className:"font-medium",children:I.name||"Unknown"})," (",I.email,")"]},M))}),O&&N.trim()&&h.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[h.jsx(Yn,{className:"w-3 h-3 mr-1"}),"User not found. Please select from the suggestions."]}),b.targetUser&&h.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[h.jsx(Yn,{className:"w-3 h-3 mr-1"}),b.targetUser]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[h.jsx(B2,{className:"w-4 h-4 mr-2 text-purple-600"}),"Requested Task"]}),h.jsx("input",{type:"text",value:g.requestedTask,onChange:I=>y({...g,requestedTask:I.target.value}),className:ee("requestedTask"),placeholder:"e.g., User Authentication API"}),b.requestedTask&&h.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[h.jsx(Yn,{className:"w-3 h-3 mr-1"}),b.requestedTask]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:"Priority Level"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(I=>h.jsx("button",{type:"button",onClick:()=>y({...g,priority:I}),className:`px-3 py-2 rounded border text-sm font-medium transition-all duration-200 ${g.priority===I?"border-purple-600 bg-purple-50 text-purple-700":"border-gray-300 bg-white text-gray-600 hover:border-purple-300"}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[h.jsx(L2,{className:"w-4 h-4 mr-2 text-purple-600"}),"Description"]}),h.jsx("textarea",{value:g.description,onChange:I=>y({...g,description:I.target.value}),className:ee("description"),rows:3,placeholder:"Explain what you need and why..."}),b.description&&h.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center",children:[h.jsx(Yn,{className:"w-3 h-3 mr-1"}),b.description]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[h.jsx(L2,{className:"w-4 h-4 mr-2 text-purple-600"}),"Estimated Impact (Optional)"]}),h.jsx("textarea",{value:g.estimatedImpact,onChange:I=>y({...g,estimatedImpact:I.target.value}),className:ee("estimatedImpact"),rows:2,placeholder:"How will this dependency affect your timeline?"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs("button",{onClick:se,disabled:g.targetUser.trim()&&!$,className:`flex-1 font-medium py-2 px-4 rounded transition-all duration-200 flex items-center justify-center ${g.targetUser.trim()&&!$?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[h.jsx(yb,{className:"w-4 h-4 mr-2"}),"Send Request"]}),h.jsx("button",{onClick:ie,className:"px-4 py-2 border border-gray-300 text-gray-600 rounded hover:bg-gray-50 transition-all duration-200",children:"Reset"})]}),h.jsx("div",{className:"mt-4 bg-purple-50 border-l-4 border-purple-600 p-3 rounded",children:h.jsxs("p",{className:"text-xs text-purple-700",children:[h.jsx("strong",{children:"How it works:"})," Your request will be sent to the target user who can link it to an existing task, create a new task, or decline. You'll be notified of their decision."]})})]})]})})}):h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md relative p-6 text-center",children:[h.jsx("div",{className:"text-gray-500 mb-4",children:"Please log in to access this form."}),h.jsx("button",{onClick:()=>p(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Log In"})]})})};function uG({tasks:t,onClose:e}){const n=r=>r?new Date(r).toLocaleDateString():"N/A";return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-teal-50",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ka,{className:"w-6 h-6 text-green-500 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Accepted Dependency"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Approved Task"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Close","aria-label":"Close",children:h.jsx(Yn,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("div",{className:"flex items-center justify-center mb-4",children:h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(Ka,{className:"w-6 h-6 text-green-600"})})}),h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-1",children:"Accepted Dependent Task"}),h.jsx("p",{className:"text-sm text-gray-600",children:"The following task has been approved as a dependency for your request."})]}),t&&Object.keys(t).length>0?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200 mb-3",children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Task Summary"}),h.jsxs("div",{className:"text-sm space-y-1",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Task:"}),h.jsx("span",{className:"text-gray-800 font-medium",children:t.taskName||"N/A"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Status:"}),h.jsx("span",{className:"text-gray-800",children:t.status||"N/A"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Estimated Hours:"}),h.jsx("span",{className:"text-gray-800",children:t.estimatedHours||0})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Due Date:"}),h.jsx("span",{className:"text-gray-800",children:n(t.dueDate)})]})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx("div",{className:"bg-white p-2 rounded border border-gray-200 text-sm text-gray-800 h-20 overflow-y-auto leading-snug",children:t.description||"No description provided"})]})]}):h.jsx("div",{className:"text-sm text-gray-600 text-center",children:"No accepted dependent task found."})]}),h.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Close"})})})]})})}function dG({onClose:t,dependencyInfo:e}){const n=r=>r?new Date(r).toLocaleDateString():"N/A";return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-yellow-50 to-orange-50",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(sl,{className:"w-6 h-6 text-yellow-500 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Dependency Status"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Pending Approval"})]})]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Close",children:h.jsx(Yn,{className:"w-5 h-5 text-gray-600"})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex items-center justify-center mb-6",children:h.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:h.jsx(Nr,{className:"w-8 h-8 text-yellow-600"})})}),h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Dependency Request Pending"}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Your dependency request has been submitted and is awaiting approval. You will be notified once the request has been reviewed and accepted."})]}),e&&h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Request Details"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[e.taskName&&h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Task:"}),h.jsx("span",{className:"text-gray-800 font-medium",children:e.taskName})]}),e.requestedDate&&h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Requested:"}),h.jsx("span",{className:"text-gray-800",children:n(e.requestedDate)})]}),e.notes&&h.jsxs("div",{className:"mt-3",children:[h.jsx("span",{className:"text-gray-600 block mb-1",children:"Notes:"}),h.jsx("p",{className:"text-gray-800 text-xs bg-white p-2 rounded border",children:e.notes})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Status Timeline"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Request Submitted"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-3 animate-pulse"}),h.jsx("span",{className:"text-sm text-gray-800 font-medium",children:"Pending Review"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full mr-3"}),h.jsx("span",{className:"text-sm text-gray-400",children:"Awaiting Approval"})]})]})]})]}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Close"})})})]})})}function fG({paginationData:t,onPageChange:e}){if(!t||t.totalPages<=1)return null;const{pageNumber:n,totalPages:r,totalCount:i,pageSize:o}=t,a=(n-1)*o+1,l=Math.min(n*o,i),u=()=>{const d=[];if(r<=5)for(let p=1;p<=r;p++)d.push(p);else{const p=Math.floor(2.5);let g=Math.max(1,n-p),y=Math.min(r,g+5-1);y-g<4&&(g=Math.max(1,y-5+1)),g>1&&(d.push(1),g>2&&d.push("..."));for(let v=g;v<=y;v++)d.push(v);y<r&&(y<r-1&&d.push("..."),d.push(r))}return d};return h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[h.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[h.jsx("button",{onClick:()=>e(n-1),disabled:n<=1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),h.jsx("button",{onClick:()=>e(n+1),disabled:n>=r,className:"relative inline-flex items-center px-4 py-2 ml-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),h.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[h.jsx("div",{children:h.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",h.jsx("span",{className:"font-medium",children:a})," to"," ",h.jsx("span",{className:"font-medium",children:l})," of"," ",h.jsx("span",{className:"font-medium",children:i})," results"]})}),h.jsx("div",{children:h.jsxs("nav",{className:"inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[h.jsxs("button",{onClick:()=>e(n-1),disabled:n<=1,className:"relative inline-flex items-center px-2 py-2 text-gray-400 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 hover:text-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Previous"}),h.jsx(Gd,{className:"w-5 h-5","aria-hidden":"true"})]}),u().map((d,f)=>d==="..."?h.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300",children:"..."},f):h.jsx("button",{onClick:()=>e(d),className:`relative inline-flex items-center px-4 py-2 text-sm font-medium border ${d===n?"z-10 bg-[#48019F] border-[#48019F] text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:d},d)),h.jsxs("button",{onClick:()=>e(n+1),disabled:n>=r,className:"relative inline-flex items-center px-2 py-2 text-gray-400 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 hover:text-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("span",{className:"sr-only",children:"Next"}),h.jsx(al,{className:"w-5 h-5","aria-hidden":"true"})]})]})})]})]})}function hG({taskList:t,setTaskList:e,openEditTaskModal:n,onTaskUpdate:r,paginationData:i,onPageChange:o}){const{acquireToken:a}=Bn(),[l,u]=S.useState(new Set),[d,f]=S.useState(null),[p,g]=S.useState(!1),[y,v]=S.useState(null),[w,b]=S.useState(null),[E,C]=S.useState(null),[k,N]=S.useState(new Map),[_,P]=S.useState(new Map),[D,R]=S.useState(!1),[F,O]=S.useState([]),[B,$]=S.useState(!1),[L,H]=S.useState(!1),[X,se]=S.useState({name:"",description:"",startDate:"",dueDate:"",date:"",priority:"Medium",status:"Not Started",estimatedHours:"",todayEffort:"",completedHours:""}),ie="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task";S.useEffect(()=>{if(!L&&t.length===0&&i&&i.totalPages>0&&i.currentPage>1){console.log("No tasks on current page, navigating to previous page",{currentPage:i.currentPage,totalPages:i.totalPages,taskListLength:t.length}),H(!0);const te=Math.min(i.currentPage-1,i.totalPages),V=Math.max(1,te);setTimeout(()=>{o(V),H(!1)},100)}},[t.length,i,o,L]);const W=async()=>{try{const te=await a("api");if(!te)throw new Error("Token acquisition failed");return{headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}}}catch(te){throw console.error("Error acquiring token:",te),te}},Q=async te=>{try{const[V,ce]=await Promise.all([Gn.get(`/Dependency/GetDependencyRequests/${te}`),Gn.get(`/Dependency/GetDependentTasks/${te}`)]);console.log(V.data),console.log(ce.data),N(ye=>new Map(ye).set(te.toString(),V.data||[])),P(ye=>new Map(ye).set(te.toString(),ce.data||[])),u(ye=>{const le=new Set(ye),Se=te.toString();return le.has(Se)?le.delete(Se):le.add(Se),le})}catch(V){console.error("Error fetching task dependencies:",V),N(ce=>new Map(ce).set(te.toString(),[])),P(ce=>new Map(ce).set(te.toString(),[]))}},ee=async te=>{try{if(te.status==="Accepted"){const V=await Gn.get(`/Dependency/GetDependentAcceptedTasks/${te.request.dependencyTaskId}`);O(V.data||[]),R(!0),$(!1)}else te.status==="Pending"?($(!0),R(!1)):alert("Dependency Has Been Rejected")}catch(V){console.error("Error fetching dependent accepted tasks:",V),$(!0),R(!1)}},I=async te=>{var V,ce;try{const ye=await W();await ot.delete(`${ie}/${te}`,ye),e(le=>le.filter(Se=>Se&&Se.id&&Se.id.toString()!==te.toString())),r(),console.log("Task deleted successfully:",te)}catch(ye){console.error("Error deleting task:",ye),alert("Failed to delete task: "+(((ce=(V=ye.response)==null?void 0:V.data)==null?void 0:ce.message)||ye.message))}},M=(te,V,ce)=>{const ye=parseFloat(ce.estimatedHours);console.log("Adding subtask:",{taskId:te,stepId:V,formData:ce,estimatedHours:ye}),e(le=>le.map(Se=>Se&&Se.id&&Se.id.toString()===te.toString()?{...Se,steps:[...Se.steps||[],{id:V,name:ce.name,description:ce.description,startDate:ce.startDate,dueDate:ce.dueDate,status:ce.status,estimatedHours:ye,todayEffort:parseFloat(ce.todayEffort)||0,completedHours:parseFloat(ce.completedHours)||0,taskItemId:parseInt(te),priority:ce.priority}]}:Se).filter(Se=>Se&&Se.id)),u(le=>new Set(le).add(te.toString())),f(null),C(null),se({name:"",description:"",startDate:"",dueDate:"",date:"",priority:"Medium",status:"Not Started",estimatedHours:"",todayEffort:"",completedHours:""}),r()},z=(te,V,ce)=>{const ye=parseFloat(ce.estimatedHours);console.log("Updating subtask:",{taskId:te,stepId:V,formData:ce,estimatedHours:ye}),e(le=>le.map(Se=>Se&&Se.id&&Se.id.toString()===te.toString()?{...Se,steps:Se.steps.map(Pe=>Pe.id.toString()===V.toString()?{...Pe,name:ce.name,description:ce.description,startDate:ce.startDate,dueDate:ce.dueDate||ce.date,priority:ce.priority,status:ce.status,estimatedHours:ye,todayEffort:parseFloat(ce.todayEffort)||0,completedHours:parseFloat(ce.completedHours)||0}:Pe)}:Se).filter(Se=>Se&&Se.id)),f(null),C(null),se({name:"",description:"",startDate:"",dueDate:"",date:"",priority:"Medium",status:"Not Started",estimatedHours:"",todayEffort:"",completedHours:""}),r()},K=(te,V)=>{console.log("Deleting subtask:",{taskId:te,stepId:V}),e(ce=>ce.map(ye=>ye&&ye.id&&ye.id.toString()===te.toString()?{...ye,steps:ye.steps.filter(le=>le.id.toString()!==V.toString())}:ye).filter(ye=>ye&&ye.id)),r()},J=async(te,V,ce)=>{try{const ye=await W();await ot.post("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Dependency",{taskId:te,subTaskId:V,dependsOnTaskId:ce.dependsOnTaskId,assignedTo:ce.assignedTo,notes:ce.notes},ye),await Q(te),r()}catch(ye){console.error("Error adding dependency:",ye)}},we=L?"Navigating to previous page...":i&&i.totalPages===0?"No tasks to display":t.length===0?"Loading tasks...":null;return h.jsxs(h.Fragment,{children:[D&&h.jsx(uG,{tasks:F,onClose:()=>R(!1)}),B&&h.jsx(dG,{onClose:()=>$(!1)}),p&&h.jsx($4,{taskId:y,stepId:w,taskList:t,onClose:()=>g(!1),onSave:J}),h.jsxs("div",{className:"border border-gray-200 rounded-md",children:[h.jsxs("div",{className:"grid grid-cols-8 py-2 px-4 bg-gray-100 border-b border-gray-200 font-medium text-gray-700",children:[h.jsx("div",{children:"Task Name"}),h.jsx("div",{children:"Start Date"}),h.jsx("div",{children:"Due Date"}),h.jsx("div",{children:"Priority"}),h.jsx("div",{children:"Status"}),h.jsx("div",{children:"Progress"}),h.jsx("div",{children:"Effort"}),h.jsx("div",{className:"text-right pr-2",children:"Actions"})]}),we?h.jsx("div",{className:"p-4 text-sm text-gray-500 text-center",children:we}):t.filter(te=>te&&te.id).map(te=>h.jsx(aG,{task:te,isExpanded:l.has(te.id.toString()),toggleTaskExpand:Q,dependencyTasks:k.get(te.id.toString())||[],dependentTasks:_.get(te.id.toString())||[],handleDependencyItemClick:ee,openEditTaskModal:n,deleteTask:I,setShowSubtaskModal:f,setEditingStepId:C,setStepForm:se,setShowDependencyRequestForm:g,setDependencyTaskId:v,setDependencyStepId:b,onDeleteSubtask:K,setTaskList:e},te.id))]}),h.jsx(fG,{paginationData:i,onPageChange:o}),d&&h.jsx(cG,{taskId:d,editingStepId:E,stepForm:X,setStepForm:se,onClose:()=>{f(null),C(null),se({name:"",description:"",startDate:"",dueDate:"",date:"",priority:"Medium",status:"Not Started",estimatedHours:"",todayEffort:"",completedHours:""})},onSave:(te,V,ce)=>{V?z(te,V,ce):M(te,V,ce)}})]})}function U4({isOpen:t,onClose:e,onAddTask:n,taskToEdit:r,makeAuthenticatedRequest:i,dependencyTaskId:o}){const{acquireToken:a,user:l}=Bn(),u=new Date().toISOString().split("T")[0],d={taskId:0,taskName:"",priority:"Medium",status:"Not Started",description:"",startDate:u,dueDate:u,estimatedHours:0,completedHours:"",updateDate:u,todayEffort:0,dependencyTaskId:o||null,createdBy:(l==null?void 0:l.id)||null,hasSubtask:"No"},[f,p]=S.useState(d),[g,y]=S.useState(null);S.useEffect(()=>{var k,N;t&&(p(r?{taskId:r.id||r.Id||0,taskName:r.taskName||r.TaskName||"",priority:r.priority||r.Priority||"Medium",status:r.status||r.Status||"Not Started",description:r.description||r.Description||"",startDate:((k=r.startDate||r.StartDate)==null?void 0:k.split("T")[0])||u,dueDate:((N=r.dueDate||r.DueDate)==null?void 0:N.split("T")[0])||u,estimatedHours:(r.estimatedHours||r.EstimatedHours||"").toString(),completedHours:(r.completedHours||r.CompletedHours||"").toString(),updateDate:u,todayEffort:0,dependencyTaskId:o||null,createdBy:(l==null?void 0:l.id)||null,hasSubtask:r.hasSubtask||"No"}:{...d,dependencyTaskId:o,createdBy:(l==null?void 0:l.id)||null}),y(null))},[t,r,o,l==null?void 0:l.id]);const v=k=>{const{name:N,value:_}=k.target;r&&(N==="taskName"||N==="description"||N==="estimatedHours")||N!=="completedHours"&&p(P=>({...P,[N]:_}))},w=k=>k?new Date(k).toISOString():null,b=()=>r&&f.startDate||u,E=async()=>{var k,N,_,P,D,R,F,O,B,$;if(!f.taskName.trim()){y("Task Name is required");return}if(!r&&!f.dueDate){y("Due Date is required");return}if(f.hasSubtask==="No"&&(!f.estimatedHours||parseFloat(f.estimatedHours)<=0)){y("Estimated Hours must be greater than 0 when no subtasks are selected");return}if(r&&!f.updateDate){y("Date is required for updating task");return}if(f.hasSubtask==="No"&&f.todayEffort&&parseFloat(f.todayEffort)<0){y("Today's Effort cannot be negative");return}if(f.status==="Not Started"&&f.todayEffort&&parseFloat(f.todayEffort)>0){y(`Tasks with "Not Started" status cannot have Today's Effort`);return}if(f.status==="Not Started"&&f.completedHours&&parseFloat(f.completedHours)>0){y('Tasks with "Not Started" status cannot have completed hours');return}try{if(r){const L={taskId:f.taskId,status:f.status,updateDate:w(f.updateDate),workedHours:parseFloat(f.todayEffort)||0,priority:f.priority,hasSubtask:f.hasSubtask,completedHours:f.status==="Completed"?parseFloat(f.estimatedHours)||0:parseFloat(f.completedHours)||0};if(console.log("Updating task with payload:",L),i)await i("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/UpdateTask","PATCH",L);else{const H=await a("api");if(!H){y("Failed to get authentication token. Please try logging in again.");return}const X={"Content-Type":"application/json",Accept:"*/*",Authorization:`Bearer ${H}`};await ot.patch("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/UpdateTask",L,{headers:X})}}else{const L={TaskName:f.taskName,Priority:f.priority,Status:f.status,Description:f.description||"",StartDate:w(f.startDate),DueDate:w(f.dueDate),EstimatedHours:parseFloat(f.estimatedHours)||0,CompletedHours:f.status==="Completed"?parseFloat(f.estimatedHours)||0:parseFloat(f.completedHours)||0,DependencyTaskId:f.dependencyTaskId||null,CreatedBy:f.createdBy||null,WorkedHours:parseFloat(f.todayEffort)||0,HasSubtask:f.hasSubtask};console.log("Creating task with payload:",L);let H;if(i)o&&o>0?H=await i("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/DependencyTask","POST",L):H=await i("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task","POST",L);else{const se=await a("api");if(!se){y("Failed to get authentication token. Please try logging in again.");return}const ie={"Content-Type":"application/json",Accept:"*/*",Authorization:`Bearer ${se}`},W=o&&o>0?"https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/DependencyTask":"https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task";H=await ot.post(W,L,{headers:ie})}console.log("Task creation response:",JSON.stringify(H,null,2)),((k=H==null?void 0:H.data)==null?void 0:k.id)||((N=H==null?void 0:H.data)==null?void 0:N.Id)||((_=H==null?void 0:H.data)==null?void 0:_.taskId)||(H==null?void 0:H.id)||(H==null?void 0:H.Id)||(H==null?void 0:H.taskId)||console.warn("Task ID not found in response, proceeding anyway")}n(),e()}catch(L){console.error("Error saving task:",{endpoint:r?"/api/Task/UpdateTask":o&&o>0?"/api/User/DependencyTask":"/api/Task",error:(P=L.response)==null?void 0:P.data,status:(D=L.response)==null?void 0:D.status,message:L.message}),y(((R=L.response)==null?void 0:R.status)===401?"Authentication failed. Please log in again.":((F=L.response)==null?void 0:F.status)===403?"You do not have permission to perform this action.":((O=L.response)==null?void 0:O.status)===404?"Task not found. Please try again or contact support.":(($=(B=L.response)==null?void 0:B.data)==null?void 0:$.message)||"Failed to save task. Please check the input data or server logs.")}},C=f.status==="Not Started"?["Not Started","In Progress","Completed"]:["In Progress","Completed"];return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 px-4 py-3 bg-violet-50",children:[h.jsx("h2",{className:"text-lg font-semibold text-violet-700",children:r?"Edit Task":"Add New Task"}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Yn,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"px-4 py-4 max-h-[70vh] overflow-y-auto",children:[g&&h.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded-md",children:g}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Task Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"taskName",value:f.taskName,onChange:v,className:`w-full px-3 py-2 border ${!f.taskName.trim()&&g?"border-red-500":"border-gray-300"} rounded-md ${r?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,placeholder:"Enter task name",disabled:r,required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),h.jsx("select",{name:"status",value:f.status,onChange:v,className:`w-full px-3 py-2 border border-gray-300 rounded-md ${f.hasSubtask==="Yes"?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,disabled:f.hasSubtask==="Yes",children:C.map(k=>h.jsx("option",{value:k,children:k},k))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),h.jsxs("select",{name:"priority",value:f.priority,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-violet-500",children:[h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Has Subtask"}),h.jsxs("select",{name:"hasSubtask",value:f.hasSubtask,onChange:v,className:`w-full px-3 py-2 border border-gray-300 rounded-md ${f.hasSubtask==="Yes"?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,disabled:f.hasSubtask==="Yes",children:[h.jsx("option",{value:"No",children:"No"}),h.jsx("option",{value:"Yes",children:"Yes"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{name:"description",value:f.description,onChange:v,className:`w-full px-3 py-2 border border-gray-300 rounded-md ${r?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,rows:"2",placeholder:"Enter task description",disabled:r})]}),!r&&h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"startDate",value:f.startDate,onChange:v,className:`w-full px-3 py-2 border ${!f.startDate&&g?"border-red-500":"border-gray-300"} rounded-md focus:ring-2 focus:ring-violet-500`,required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"dueDate",value:f.dueDate,onChange:v,className:`w-full px-3 py-2 border ${!f.dueDate&&g?"border-red-500":"border-gray-300"} rounded-md focus:ring-2 focus:ring-violet-500`,required:!0})]})]}),r&&h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"updateDate",value:f.updateDate,onChange:v,min:b(),className:`w-full px-3 py-2 border ${!f.updateDate&&g?"border-red-500":"border-gray-300"} rounded-md focus:ring-2 focus:ring-violet-500`,required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Est. Hours ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",name:"estimatedHours",value:f.estimatedHours,onChange:v,min:"0.5",step:"0.5",className:`w-full px-3 py-2 border ${f.hasSubtask==="No"&&(!f.estimatedHours||parseFloat(f.estimatedHours)<=0)&&g?"border-red-500":"border-gray-300"} rounded-md ${r||f.hasSubtask==="Yes"?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,placeholder:"0.0",disabled:r||f.hasSubtask==="Yes",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Today's Efforts"}),h.jsx("input",{type:"number",name:"todayEffort",value:f.todayEffort,onChange:v,min:"0",step:"0.5",className:`w-full px-3 py-2 border ${f.status==="Not Started"&&f.todayEffort&&parseFloat(f.todayEffort)>0&&g?"border-red-500":"border-gray-300"} rounded-md ${f.hasSubtask==="Yes"?"bg-gray-100 cursor-not-allowed":"focus:ring-2 focus:ring-violet-500"}`,placeholder:"0.0",disabled:f.hasSubtask==="Yes"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Invested"}),h.jsx("input",{type:"number",name:"completedHours",value:f.completedHours,onChange:v,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 bg-gray-100 cursor-not-allowed rounded-md",placeholder:"0.0",min:"0",step:"0.5"})]})]})]}),h.jsxs("div",{className:"border-t border-gray-200 px-4 py-3 bg-gray-50 flex justify-end gap-2",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),h.jsxs("button",{type:"button",onClick:E,className:"flex items-center px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-md hover:from-violet-700 hover:to-purple-700 transition-colors",children:[h.jsx(zW,{className:"mr-1 h-4 w-4"}),r?"Update Task":"Save Task"]})]})]})}):null}function pG({onFilterChange:t,onClose:e}){const{acquireToken:n}=Bn(),[r,i]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(""),[d,f]=S.useState(""),p="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/GetAllTasks",g=C=>{if(!C)return"";try{const[k,N,_]=C.split("-");return`${_}-${N}-${k}`}catch{return console.error("Invalid date format:",C),""}},y=C=>{if(!C)return"";try{const[k,N,_]=C.split("-");return`${_}-${N}-${k}`}catch{return console.error("Invalid date format:",C),""}},v=async()=>{try{const C=await n("api");if(!C)throw new Error("Token acquisition failed");return{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}}catch(C){throw console.error("Error acquiring token:",C),C}},w=async()=>{var C,k;try{const N=await v(),_={priority:r||null,status:o||null,startDate:l?y(l):null,dueDate:d?y(d):null,pageNumber:1,pageSize:5},P=await ot.get(p,{...N,params:_});t({tasks:P.data.data,filters:{priority:r,status:o,startDate:l,dueDate:d}}),console.log("Filtered tasks:",P.data.data)}catch(N){console.error("Error applying filters:",{message:N.message,status:(C=N.response)==null?void 0:C.status,data:(k=N.response)==null?void 0:k.data}),alert("Failed to apply filters. Please try again.")}},b=async()=>{await w(),e()},E=async()=>{var C,k;i(""),a(""),u(""),f("");try{const N=await v(),_=await ot.get(p,{...N,params:{pageNumber:1,pageSize:5}});t({tasks:_.data.data,filters:{priority:"",status:"",startDate:"",dueDate:""}})}catch(N){console.error("Error clearing filters:",{message:N.message,status:(C=N.response)==null?void 0:C.status,data:(k=N.response)==null?void 0:k.data}),alert("Failed to clear filters. Please try again.")}e()};return h.jsxs("div",{className:"p-4 bg-gray-100 rounded-md shadow-md w-64 absolute top-[10] right-[10%] z-50",children:[h.jsx("h3",{className:"font-bold text-lg",children:"Filter Tasks"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm",children:"Priority"}),h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",value:r,onChange:C=>i(C.target.value),children:[h.jsx("option",{value:"",children:"All Priorities"}),h.jsx("option",{value:"Low",children:"Low"}),h.jsx("option",{value:"Medium",children:"Medium"}),h.jsx("option",{value:"High",children:"High"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm",children:"Status"}),h.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",value:o,onChange:C=>a(C.target.value),children:[h.jsx("option",{value:"",children:"All Status"}),h.jsx("option",{value:"Not Started",children:"Not Started"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Completed",children:"Completed"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm",children:"Start Date"}),h.jsx("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",value:y(l),onChange:C=>u(g(C.target.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm",children:"Due Date"}),h.jsx("input",{type:"date",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-500",value:y(d),onChange:C=>f(g(C.target.value))})]})]}),h.jsxs("div",{className:"mt-4 flex gap-4",children:[h.jsx(li,{onClick:E,children:"Clear"}),h.jsx(li,{onClick:b,children:"Apply"})]})]})}const mG=({tasks:t,onBack:e})=>{const{acquireToken:n,isAuthenticated:r,isInitialized:i,isLoading:o,user:a}=Bn(),[l,u]=S.useState("month"),[d,f]=S.useState(new Date),[p,g]=S.useState(new Date().getMonth()+1),[y,v]=S.useState([]),[w,b]=S.useState(t||[]),[E,C]=S.useState(!1),[k,N]=S.useState(null),[_,P]=S.useState(""),D=S.useRef(null);oa(),S.useEffect(()=>{S4(n)},[n]),S.useEffect(()=>{let I;if(l==="week"){const M=new Date(d.getFullYear(),0,1),z=M.getDay()===1?M:new Date(M.setDate(M.getDate()+(8-M.getDay()))),K=Math.floor((d-z)/(1e3*60*60*24));I=Math.max(1,Math.min(53,Math.floor(K/7)+1))}else l==="month"?I=d.getMonth()+1:l==="quarter"&&(I=Math.floor(d.getMonth()/3)+1);g(I)},[l,d]);const R=I=>{let M;if(I==="week"){const z=new Date(d.getFullYear(),0,1),K=z.getDay()===1?z:new Date(z.setDate(z.getDate()+(8-z.getDay()))),J=Math.floor((d-K)/(1e3*60*60*24));M=Math.max(1,Math.min(53,Math.floor(J/7)+1))}else I==="month"?M=d.getMonth()+1:I==="quarter"&&(M=Math.floor(d.getMonth()/3)+1);g(M),u(I)},F=async()=>{var I,M;if(!(a!=null&&a.id)){N("User ID not available"),C(!1);return}C(!0),N(null);try{const z=await Gn.get("/ManagerDashboard/filtered",{params:{userId:a.id,viewMode:l,number:p,currentDate:d.toISOString()}}),K=Array.isArray(z.data)?z.data:z.data.tasks||[],J=[...K,...(t||[]).filter(he=>!K.some(we=>we.id===he.id))];b(J)}catch(z){console.error("Error fetching tasks:",z),N(`Failed to fetch tasks: ${((M=(I=z.response)==null?void 0:I.data)==null?void 0:M.message)||z.message}`),b(t||[])}finally{C(!1)}};S.useEffect(()=>{r&&i&&(a!=null&&a.id)&&F()},[r,i,a==null?void 0:a.id,l,p,d]);const O=()=>{const I=[],M=d.getFullYear();if(l==="week"){let z=new Date(M,0,1);z.getDay()!==1&&z.setDate(z.getDate()+(8-z.getDay())),z.setDate(z.getDate()+(p-1)*7);const K=new Date(z);K.setDate(K.getDate()+6),K.getFullYear()>M&&K.setFullYear(M,11,31);for(let J=new Date(z);J<=K;J.setDate(J.getDate()+1))I.push(new Date(J))}else if(l==="month"){const z=new Date(M,p-1,1),K=new Date(M,p,0);for(let J=new Date(z);J<=K;J.setDate(J.getDate()+1))I.push(new Date(J))}else if(l==="quarter"){const z=(p-1)*3,K=new Date(M,z,1),J=new Date(M,z+3,0);for(let he=new Date(K);he<=J;he.setDate(he.getDate()+1))I.push(new Date(he))}return I},B=(I,M="day")=>M==="month"?I.toLocaleString("default",{month:"short"}):M==="full"?I.toLocaleString("default",{month:"short",day:"numeric",year:"numeric"}):M==="weekday"?I.toLocaleString("default",{weekday:"short"}):I.getDate(),$=I=>{const M=new Date;return I.getDate()===M.getDate()&&I.getMonth()===M.getMonth()&&I.getFullYear()===M.getFullYear()},L=I=>{const M=I.getDay();return M===0||M===6},H=I=>{let M=p,z=new Date(d);l==="week"?(M=I==="next"?Math.min(p+1,53):Math.max(p-1,1),z.setDate(z.getDate()+(I==="next"?7:-7))):l==="month"?(M=I==="next"?Math.min(p+1,12):Math.max(p-1,1),z.setMonth(z.getMonth()+(I==="next"?1:-1))):l==="quarter"&&(M=I==="next"?Math.min(p+1,4):Math.max(p-1,1),z.setMonth(z.getMonth()+(I==="next"?3:-3))),g(M),f(z)},X=I=>{const M=parseInt(I.target.value);if(!isNaN(M))if(l==="week"&&M>=1&&M<=53){g(M);const z=new Date(d.getFullYear(),0,1),K=z.getDay()===1?z:new Date(z.setDate(z.getDate()+(8-z.getDay()))),J=new Date(K);J.setDate(J.getDate()+(M-1)*7),f(J)}else l==="month"&&M>=1&&M<=12?(g(M),f(new Date(d.getFullYear(),M-1,1))):l==="quarter"&&M>=1&&M<=4&&(g(M),f(new Date(d.getFullYear(),(M-1)*3,1)))},se=I=>{if(!I)return console.warn("No date input provided"),null;try{let M;if(typeof I=="string")M=new Date(I);else if(I instanceof Date)M=new Date(I);else return console.warn(`Invalid date input type: ${typeof I}`,I),null;return isNaN(M.getTime())?(console.warn(`Failed to parse date: ${I}`),null):M}catch(M){return console.error("Error parsing date:",I,M),null}},ie=I=>{P(I.trim())};S.useEffect(()=>{if(!w||w.length===0){v([]);return}const I=O();if(I.length===0)return;const M=I[0],z=I[I.length-1],K=w.map((J,he)=>{try{const we=J.startDate||J.start_date||J.startDateTime||J.createdAt,te=J.dueDate||J.endDate||J.due_date||J.end_date||J.deadline,V=se(we),ce=se(te);if(!V||!ce)return console.warn(`Task "${J.taskName||J.title||`Task ${he}`}" has invalid dates:`,{start:we,end:te}),null;if(ce<M||V>z)return null;const ye=1e3*60*60*24,le=Math.ceil((z-M)/ye)+1,Se=Math.floor((V-M)/ye),Pe=Math.floor((ce-M)/ye),Je=Math.max(0,Se),et=Math.min(le-1,Pe),ht=Math.max(1,et-Je+1);let Et="bg-gray-300";const vt=(J.status||"").toLowerCase();return vt==="completed"||vt==="done"||vt==="finished"?Et="bg-green-500":vt==="in-progress"||vt==="In Progress"||vt==="active"?Et="bg-yellow-500":vt==="overdue"||new Date>ce&&vt!=="completed"?Et="bg-red-500":(vt==="blocked"||vt==="on-hold")&&(Et="bg-gray-500"),{id:J.id||`task-${he}`,name:J.taskName||J.title||`Task ${he+1}`,description:J.description||"",assignedTo:J.assignedTo||J.assigned_to||J.assignee||"",status:J.status||"not-started",priority:J.priority||"medium",startDate:V,dueDate:ce,left:Je,width:ht,color:Et,originalTask:J}}catch(we){return console.error("Error processing task:",J,we),null}}).filter(Boolean).filter(J=>{if(!_)return!0;const he=_.toLowerCase();return J.name.toLowerCase().includes(he)||J.description.toLowerCase().includes(he)||J.assignedTo.toLowerCase().includes(he)});v(K),D.current&&!E&&setTimeout(()=>{const J=new Date,he=I.findIndex(we=>we.getDate()===J.getDate()&&we.getMonth()===J.getMonth()&&we.getFullYear()===J.getFullYear());if(he>=0){const we=l==="week"?window.innerWidth/7:40,te=D.current.clientWidth,V=Math.max(0,he*we-te/2);D.current.scrollLeft=V}},100)},[w,d,l,p,E,_]);const W=()=>{const I=d.getFullYear();if(l==="week"){let M=new Date(I,0,1);M.getDay()!==1&&M.setDate(M.getDate()+(8-M.getDay())),M.setDate(M.getDate()+(p-1)*7);const z=new Date(M);return z.setDate(z.getDate()+6),z.getFullYear()>I&&z.setFullYear(I,11,31),`${M.toLocaleDateString()} - ${z.toLocaleDateString()}`}else{if(l==="month")return new Date(I,p-1).toLocaleString("default",{month:"long",year:"numeric"});if(l==="quarter")return`Q${p} ${I}`}},Q=l==="week"?Math.max(20,window.innerWidth/7):40;if(!r)return h.jsxs("div",{className:"py-12 text-center text-gray-500",children:[h.jsx(Wo,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),h.jsx("p",{className:"text-lg font-medium",children:"Please log in to view the Gantt chart."})]});if(o||!i)return h.jsxs("div",{className:"py-12 text-center text-gray-500",children:[h.jsx($2,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 animate-spin"}),h.jsx("p",{className:"text-lg font-medium",children:"Loading authentication..."})]});const ee=O();return h.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Task Timeline"}),h.jsx("p",{className:"text-sm text-gray-600",children:W()})]})}),h.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-4 w-full lg:w-auto",children:[h.jsx("div",{className:"flex-1 lg:flex-initial lg:w-[28rem]",children:h.jsx(M4,{placeholder:"Search tasks by name",onSearch:ie,className:"w-full"})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"flex bg-gray-100 rounded-md p-1",children:["week","month","quarter"].map(I=>h.jsx("button",{className:`px-3 py-1 text-sm rounded-md capitalize ${l===I?"bg-white shadow-sm":"text-gray-600 hover:text-gray-800"}`,onClick:()=>R(I),children:I},I))}),h.jsx("input",{type:"number",value:p,onChange:X,className:"w-16 p-2 border rounded text-sm text-center",min:"1",max:l==="week"?53:l==="month"?12:4,placeholder:l==="week"?"Week":l==="month"?"Month":"Quarter"}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(li,{variant:"outline",className:"p-2 h-8 w-8",onClick:()=>H("prev"),title:"Previous period",children:h.jsx(Gd,{className:"w-4 h-4"})}),h.jsx(li,{variant:"outline",className:"px-3 h-8 text-xs",onClick:()=>f(new Date),title:"Go to today",children:"Today"}),h.jsx(li,{variant:"outline",className:"p-2 h-8 w-8",onClick:()=>H("next"),title:"Next period",children:h.jsx(al,{className:"w-4 h-4"})})]}),h.jsx(li,{variant:"outline",className:"px-4 h-8 text-sm whitespace-nowrap",onClick:e,title:"Back to List View",children:"Back to List"})]})]})]}),k&&h.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center",children:[h.jsx(sl,{className:"w-4 h-4 text-red-500 mr-2"}),h.jsx("span",{className:"text-sm text-red-700",children:k})]}),E&&h.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md flex items-center",children:[h.jsx($2,{className:"w-4 h-4 text-blue-500 mr-2 animate-spin"}),h.jsx("span",{className:"text-sm text-blue-700",children:"Loading tasks..."})]}),h.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-md",children:h.jsxs("div",{ref:D,className:"overflow-x-auto overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)",minHeight:"400px"},children:[h.jsx("div",{className:"flex border-b border-gray-200 sticky top-0 bg-gray-100 z-10",style:{minWidth:`${ee.length*Q}px`},children:h.jsx("div",{className:"flex",style:{minWidth:`${ee.length*Q}px`},children:ee.map((I,M)=>{const z=M>0?ee[M-1]:null,K=M===0||z&&I.getMonth()!==z.getMonth();return h.jsxs("div",{className:`flex flex-col items-center justify-center border-r border-gray-200 ${L(I)?"bg-gray-50":""} ${$(I)?"bg-blue-50 border-blue-200":""}`,style:{width:`${Q}px`,minWidth:`${Q}px`},children:[K&&h.jsxs("div",{className:"text-xs text-gray-600 font-medium w-full text-center border-b border-gray-200 py-1",children:[B(I,"month")," ",I.getFullYear()]}),h.jsxs("div",{className:"flex flex-col items-center py-2 px-1",children:[h.jsx("span",{className:`text-xs ${$(I)?"font-bold text-blue-600":"text-gray-700"}`,children:B(I,"day")}),h.jsx("span",{className:"text-xs text-gray-500",children:B(I,"weekday")})]})]},M)})})}),h.jsx("div",{children:y.length>0?y.map((I,M)=>h.jsx("div",{className:"flex border-b border-gray-200 hover:bg-gray-50 group",children:h.jsxs("div",{className:"flex relative",style:{height:"80px"},children:[ee.map((z,K)=>h.jsx("div",{className:`border-r border-gray-200 ${L(z)?"bg-gray-50":""} ${$(z)?"bg-blue-50":""}`,style:{width:`${Q}px`,minWidth:`${Q}px`}},K)),h.jsx("div",{className:`absolute top-1/2 transform -translate-y-1/2 h-6 rounded-md ${I.color}
                        shadow-sm flex items-center px-2 group-hover:shadow-md transition-shadow
                        ${I.width*Q>100?"justify-start":"justify-center"}`,style:{left:`${I.left*Q+2}px`,width:`${Math.max(20,I.width*Q-4)}px`},title:`${I.name}
Description: ${I.description}
Start: ${B(I.startDate,"full")}
End: ${B(I.dueDate,"full")}
Status: ${I.status}`,children:I.width*Q>20&&h.jsx("span",{className:"text-gray-800 text-xs truncate font-medium",children:I.name})})]})},I.id)):E?null:h.jsxs("div",{className:"py-12 text-center text-gray-500",children:[h.jsx(Wo,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),h.jsx("p",{className:"text-lg font-medium",children:"No tasks found"}),h.jsx("p",{className:"text-sm",children:"No tasks are scheduled in this time period or match the search criteria"})]})})]})}),h.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-6 text-xs",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-sm mr-1"}),h.jsx("span",{children:"Not Started"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-sm mr-1"}),h.jsx("span",{children:"In Progress"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm mr-1"}),h.jsx("span",{children:"Completed"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm mr-1"}),h.jsx("span",{children:"Overdue"})]})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",y.length," of ",w.length," tasks"]})]})]})},gG=({onBack:t})=>{const{user:e,acquireToken:n,isAuthenticated:r,isInitialized:i,isLoading:o}=Bn();T4(),S.useState({todaysFocus:!1,overdue:!1,waiting:!1,dependent:!1});const[a,l]=S.useState({toDo:0,inProgress:0,completed:0,waiting:0,overdue:0}),[u,d]=S.useState([]),[f,p]=S.useState([]),[g,y]=S.useState([]),[v,w]=S.useState([]),[b,E]=S.useState([]),[C,k]=S.useState(null);S.useEffect(()=>{S4(n)},[n]),S.useEffect(()=>{(async()=>{var O,B;if(!(!r||!i))try{const $=await Gn.get("/FocusBoard/TaskStats");l($.data);const L=await Gn.get("/FocusBoard/TodaysFocus");d(L.data);const H=await Gn.get("/FocusBoard/Overdue");p(H.data);const X=await Gn.get("/FocusBoard/Waiting");y(X.data);const se=await Gn.get(`/FocusBoard/${e.id}`);w(se.data);const ie=await Gn.get(`/FocusBoard/DependentTasks/${e.id}`);E(ie.data),k(null)}catch($){console.error("Error fetching focus board data:",$),k("Failed to load focus board data: "+(((B=(O=$.response)==null?void 0:O.data)==null?void 0:B.message)||$.message))}})()},[r,i,e]);const N=F=>{if(!F)return"No date";try{const O=new Date(F);if(isNaN(O.getTime()))return"Invalid date";const B=new Date,$=new Date(B);$.setDate($.getDate()+1);const L=new Date(B);L.setDate(L.getDate()-1);const H=new Date(O.getFullYear(),O.getMonth(),O.getDate()),X=new Date(B.getFullYear(),B.getMonth(),B.getDate()),se=new Date($.getFullYear(),$.getMonth(),$.getDate()),ie=new Date(L.getFullYear(),L.getMonth(),L.getDate());return H.getTime()===X.getTime()?"Today":H.getTime()===se.getTime()?"Tomorrow":H.getTime()===ie.getTime()?"Yesterday":O.toLocaleDateString("en-US",{month:"short",day:"numeric",year:O.getFullYear()!==B.getFullYear()?"numeric":void 0})}catch(O){return console.error("Date formatting error:",O),"Invalid date"}},_=F=>{const O=new Date,B=new Date(F),$=O-B,L=Math.ceil($/(1e3*60*60*24));return L>0?L:0},P=F=>{switch(F){case"To Do":case"Not Started":return"bg-blue-100 text-blue-800";case"In Progress":return"bg-purple-100 text-purple-800";case"Completed":return"bg-green-100 text-green-800";case"Waiting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},D=({task:F,isOverdue:O=!1,bgClass:B="bg-gray-50 border-gray-100",textClass:$="text-gray-500",isTodaysFocus:L=!1})=>{const H=N(F.dueDate),X=O&&F.dueDate?_(F.dueDate):0;return h.jsx("div",{className:`border rounded-lg p-4 ${B}`,children:h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[h.jsx("span",{className:"font-medium text-gray-900 truncate",children:F.taskName}),F.assignedTo&&h.jsxs("span",{className:"flex items-center text-xs text-gray-600 whitespace-nowrap",children:[h.jsx(Go,{className:"w-3 h-3 mr-1"}),F.assignedTo]})]}),h.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${P(F.status)}`,children:F.status}),!L&&h.jsxs("div",{className:`text-sm ${$} flex items-center font-medium flex-shrink-0`,children:[h.jsx(Nr,{className:"w-4 h-4 mr-1"}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"whitespace-nowrap",children:H}),O&&X>0&&H!=="Today"&&h.jsxs("div",{className:"text-xs text-red-600 font-semibold whitespace-nowrap",children:[X," day",X!==1?"s":""," late"]})]})]})]})]})})},R=({title:F,icon:O,tasks:B,sectionKey:$,bgClass:L="bg-gray-50 border-gray-100",textClass:H="text-gray-500",isOverdue:X=!1,isTodaysFocus:se=!1})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{className:"flex items-center",children:[O,h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:F}),B.length>0&&h.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded-full",children:B.length})]})}),B.length===0?h.jsx("div",{className:"text-center py-8 text-gray-500",children:h.jsxs("div",{className:"text-sm",children:["No ",F.toLowerCase()," at the moment"]})}):h.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:B.map(ie=>h.jsx(D,{task:ie,isOverdue:X,bgClass:L,textClass:H,isTodaysFocus:se},ie.id))})]});return r?o||!i?h.jsx("div",{className:"min-h-screen bg-gray-50 p-6 text-center",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"w-12 h-12 mx-auto mb-3 border-4 border-gray-300 border-t-violet-600 rounded-full animate-spin"}),h.jsx("p",{className:"text-lg font-medium",children:"Loading authentication..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Focus Board"}),h.jsxs(li,{onClick:t,className:"flex items-center gap-1.5",children:[h.jsx(D4,{className:"w-4 h-4"}),"Go Back to Home"]})]}),C&&h.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded-md",children:C}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Task Status Overview"})}),h.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-800",children:a.toDo}),h.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"TO DO"})]}),h.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-violet-800",children:a.inProgress}),h.jsx("div",{className:"text-violet-600 text-sm font-medium",children:"In Progress"})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-green-800",children:a.completed}),h.jsx("div",{className:"text-green-600 text-sm font-medium",children:"Completed"})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:a.waiting}),h.jsx("div",{className:"text-yellow-600 text-sm font-medium",children:"Waiting"})]}),h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[h.jsx("div",{className:"text-2xl font-bold text-red-800",children:a.overdue}),h.jsx("div",{className:"text-red-600 text-sm font-medium",children:"Overdue"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[h.jsx(R,{title:"Today's Focus",icon:h.jsx(Wo,{className:"w-5 h-5 text-violet-600 mr-2"}),tasks:u,sectionKey:"todaysFocus",isTodaysFocus:!0}),h.jsx(R,{title:"Overdue Tasks",icon:h.jsx(sl,{className:"w-5 h-5 text-red-600 mr-2"}),tasks:f,sectionKey:"overdue",bgClass:"bg-red-50 border-red-100",textClass:"text-red-600",isOverdue:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[h.jsx(R,{title:"Tasks on Hold",icon:h.jsx(Nr,{className:"w-5 h-5 text-yellow-600 mr-2"}),tasks:v,sectionKey:"waiting"}),h.jsx(R,{title:"Tasks Relying on You",icon:h.jsx(Go,{className:"w-5 h-5 text-violet-600 mr-2"}),tasks:b,sectionKey:"dependent",bgClass:"bg-violet-50 border-violet-100",textClass:"text-violet-700"})]})]}),h.jsx("style",{jsx:!0,children:`
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: #f3f4f6;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: #d1d5db;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
      `})]}):h.jsx("div",{className:"min-h-screen bg-gray-50 p-6 text-center",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx(Wo,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),h.jsx("p",{className:"text-lg font-medium",children:"Please log in to view the Focus Board."})]})})},yG=({request:t,handleLinkToExistingTask:e})=>{const[n,r]=S.useState(!1),[i,o]=S.useState([]),[a,l]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(""),[g,y]=S.useState(1),[v,w]=S.useState(!1),[b,E]=S.useState(null),C=5,{acquireToken:k}=Bn();S.useEffect(()=>{n&&(async()=>{var se,ie;l(!0),d(null);try{const W=await k("api"),Q=await ot.get("https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/inprogress-tasks",{headers:{Authorization:`Bearer ${W}`}}),I=(Array.isArray(Q.data)?Q.data:[]).filter(M=>M.taskName).sort((M,z)=>M.taskName.localeCompare(z.taskName));o(I)}catch(W){d("Failed to load tasks: "+(((ie=(se=W.response)==null?void 0:se.data)==null?void 0:ie.message)||W.message)),o([])}finally{l(!1)}})()},[k,n]);const N=()=>r(!0),_=()=>{r(!1),p(""),y(1)},P=()=>{w(!1),E(null)},D=async()=>{try{const X=await k("api");await e(t,b),_(),P()}catch(X){console.error("Failed to link task:",X),d("Failed to link task. Please try again.")}},R=i.filter(X=>X.taskName.toLowerCase().includes(f.toLowerCase())),F=g*C,O=F-C,B=R.slice(O,F),$=Math.ceil(R.length/C),L=()=>{g<$&&y(g+1)},H=()=>{g>1&&y(g-1)};return h.jsxs(h.Fragment,{children:[h.jsxs("button",{type:"button",onClick:N,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-violet-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[h.jsx(qC,{size:16,className:"mr-1"}),"Link to Task",h.jsx(Wd,{size:16,className:"ml-1"})]}),n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Task to Link"}),h.jsx("button",{onClick:_,className:"text-gray-600 hover:text-violet-800 focus:outline-none focus:ring-2 focus:ring-violet-500 rounded-full p-1",children:h.jsx(Yn,{size:20})})]}),h.jsx("div",{className:"px-4 py-2",children:h.jsx("input",{type:"text",placeholder:"Search tasks...",value:f,onChange:X=>p(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a&&h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading tasks..."})]}),u&&h.jsx("div",{className:"text-center py-4 text-red-600",children:u}),!a&&!u&&R.length===0&&h.jsx("div",{className:"text-center py-4 text-gray-600",children:"No tasks available"}),!a&&!u&&R.length>0&&h.jsx("div",{className:"space-y-2",children:B.map(X=>h.jsx("button",{onClick:()=>{E(X.id),w(!0)},className:`w-full text-left px-4 py-2 text-sm text-gray-700 rounded-md transition-colors
                        ${b===X.id?"bg-violet-100 border-violet-300":"hover:bg-violet-50"}
                        focus:outline-none focus:ring-2 focus:ring-violet-500 focus:bg-violet-100`,children:X.taskName},X.id))})]}),$>1&&h.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-between items-center",children:[h.jsxs("button",{onClick:H,disabled:g===1,className:"flex items-center px-3 py-1 text-sm text-gray-700 bg-gray-100 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-violet-100 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[h.jsx(Gd,{size:16,className:"mr-1"}),"Previous"]}),h.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",g," of ",$]}),h.jsxs("button",{onClick:L,disabled:g===$,className:"flex items-center px-3 py-1 text-sm text-gray-700 bg-gray-100 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-violet-100 focus:outline-none focus:ring-2 focus:ring-violet-500",children:["Next",h.jsx(al,{size:16,className:"ml-1"})]})]})]})}),v&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm mx-4 p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Task Link"}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to link this task to the request?"}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:P,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-500",children:"No"}),h.jsx("button",{onClick:D,className:"px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-violet-500",children:"Yes"})]})]})})]})},H4=()=>{const[t,e]=S.useState("incoming"),[n,r]=S.useState([]),[i,o]=S.useState([]),[a,l]=S.useState(!1);S.useState("john.doe");const[u,d]=S.useState(!1),[f,p]=S.useState(!1),{isAuthenticated:g,isLoading:y,user:v,acquireToken:w}=Bn(),[b,E]=S.useState(!1),[C,k]=S.useState(null),[N,_]=S.useState(0),[P,D]=S.useState(null),[R,F]=S.useState(null),[O,B]=S.useState(null),[$,L]=S.useState(""),[H,X]=S.useState(""),[se,ie]=S.useState("all"),[W,Q]=S.useState("all"),[ee,I]=S.useState(!1),[M,z]=S.useState(0),[K,J]=S.useState(!1),he=oa(),we=async()=>{try{const oe=await w("api");if(!oe)throw new Error("Token acquisition failed or required interaction");return{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}}}catch(oe){throw console.error("Error acquiring token:",oe),oe}};S.useEffect(()=>{(async()=>{try{console.log("Starting to fetch encryption keys...");try{const Te=await No();if(console.log("Keys fetched:",Te),Te&&Te.aesKey&&Te.aesIV)D(Te.aesKey),F(Te.aesIV),console.log("Keys set successfully");else throw new Error("Invalid keys structure")}catch(Te){console.error("Failed to fetch encryption keys:",Te),B(Te.message)}if(l(!0),!(v!=null&&v.id)){console.error("User ID missing"),l(!1);return}}catch(Te){console.error("Error in fetchData:",Te),l(!1)}})()},[v==null?void 0:v.id]),S.useEffect(()=>{(async()=>{l(!0);try{const Te=await we(),Ye=await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/Income/${v.id}`,Te);console.log("Incoming requests response:",Ye.data);const at=Ye.data.sort((de,re)=>{var wt,ut,Ct,At;const He={pending:1,approved:2,rejected:3,accepted:4},We=He[(wt=de.status)==null?void 0:wt.toLowerCase()]-He[(ut=re.status)==null?void 0:ut.toLowerCase()];if(We!==0)return We;const nt={high:1,medium:2,low:3};return nt[(Ct=de.priority)==null?void 0:Ct.toLowerCase()]-nt[(At=re.priority)==null?void 0:At.toLowerCase()]});r(at)}catch(Te){console.error("Error fetching incoming requests:",Te)}finally{l(!1)}})()},[v==null?void 0:v.id]),S.useEffect(()=>{(async()=>{l(!0);try{const Te=await we(),Ye=await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/${v.id}`,Te);console.log("Outgoing requests response:",Ye.data);const at=Ye.data.sort((de,re)=>{var We,nt;const He={high:1,medium:2,low:3};return He[(We=de.priority)==null?void 0:We.toLowerCase()]-He[(nt=re.priority)==null?void 0:nt.toLowerCase()]});o(at)}catch(Te){console.error("Error fetching outgoing requests:",Te)}finally{l(!1)}})()},[v==null?void 0:v.id]);const te=async(oe,Te)=>{var Ye,at,de,re;if(Te.stopPropagation(),!K){J(!0);try{const He=await we();console.log("Rejecting dependency for task ID:",oe.dependencyTaskId,"Request:",oe),await ot.post(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Dependency/RejectDependency/${oe.dependencyTaskId}`,{},He),console.log(`Dependency ${oe.dependencyTaskId} rejected successfully`),r(wt=>wt.map(ut=>ut.dependencyTaskId===oe.dependencyTaskId?{...ut,status:"rejected"}:ut));const nt=(await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/Income/${v.id}`,He)).data.sort((wt,ut)=>{var En,gt,rn,er;const Ct={pending:1,approved:2,rejected:3,accepted:4},At=Ct[(En=wt.status)==null?void 0:En.toLowerCase()]-Ct[(gt=ut.status)==null?void 0:gt.toLowerCase()];if(At!==0)return At;const Kt={high:1,medium:2,low:3};return Kt[(rn=wt.priority)==null?void 0:rn.toLowerCase()]-Kt[(er=ut.priority)==null?void 0:er.toLowerCase()]});r(nt),alert("Request rejected successfully"),I(!1)}catch(He){console.error("Error rejecting dependency:",He,"Response:",(Ye=He.response)==null?void 0:Ye.data);const We=((at=He.response)==null?void 0:at.status)===500?`Server error occurred (JSON Exception). Please check if dependency ID ${oe.dependencyTaskId} is valid or contact support.`:((re=(de=He.response)==null?void 0:de.data)==null?void 0:re.message)||He.message||"Unable to reject request. Please try again.";alert(`Failed to reject request: ${We}`);try{const nt=await we(),ut=(await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/Income/${v.id}`,nt)).data.sort((Ct,At)=>{var rn,er,ao,Rr;const Kt={pending:1,approved:2,rejected:3,accepted:4},En=Kt[(rn=Ct.status)==null?void 0:rn.toLowerCase()]-Kt[(er=At.status)==null?void 0:er.toLowerCase()];if(En!==0)return En;const gt={high:1,medium:2,low:3};return gt[(ao=Ct.priority)==null?void 0:ao.toLowerCase()]-gt[(Rr=At.priority)==null?void 0:Rr.toLowerCase()]});r(ut)}catch(nt){console.error("Error refetching requests after failed rejection:",nt),alert("Failed to refresh requests. Please reload the page.")}}finally{J(!1)}}},V=(oe,Te)=>{Te.stopPropagation(),_(oe.dependencyTaskId),k(oe),E(!0),I(!1)},ce=()=>{E(!1),k(null)},ye=async()=>{if(C)try{const oe=await we();await ot.put(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/${C.id}`,{status:"approved"},oe);const Ye=(await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/Income/${v.id}`,oe)).data.sort((at,de)=>{var nt,wt,ut,Ct;const re={pending:1,approved:2,rejected:3,accepted:4},He=re[(nt=at.status)==null?void 0:nt.toLowerCase()]-re[(wt=de.status)==null?void 0:wt.toLowerCase()];if(He!==0)return He;const We={high:1,medium:2,low:3};return We[(ut=at.priority)==null?void 0:ut.toLowerCase()]-We[(Ct=de.priority)==null?void 0:Ct.toLowerCase()]});r(Ye),alert("Request status updated to approved")}catch(oe){console.error("Error updating request status:",oe),alert("Request has been Accepted")}ce()},le=async(oe,Te)=>{var Ye,at;try{const de=await we(),re=typeof Te=="string"?Te:Te.id;console.log(`Linking request ${oe.dependencyTaskId} to task ${Te}`),await ot.patch(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/link/${Te}/${oe.dependencyTaskId}`,de),alert(`Successfully linked to task #${re}`);const We=(await ot.get(`https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/Income/${v.id}`,de)).data.sort((nt,wt)=>{var Kt,En,gt,rn;const ut={pending:1,approved:2,rejected:3,accepted:4},Ct=ut[(Kt=nt.status)==null?void 0:Kt.toLowerCase()]-ut[(En=wt.status)==null?void 0:En.toLowerCase()];if(Ct!==0)return Ct;const At={high:1,medium:2,low:3};return At[(gt=nt.priority)==null?void 0:gt.toLowerCase()]-At[(rn=wt.priority)==null?void 0:rn.toLowerCase()]});r(We),I(!1)}catch(de){console.error("Error linking task:",de),alert("Failed to link task: "+(((at=(Ye=de.response)==null?void 0:Ye.data)==null?void 0:at.message)||de.message||"Please try again."))}},Se=()=>{d(!1)},Pe=(oe,Te,Ye)=>{o(at=>[{id:Date.now(),taskName:Ye.notes,requestedTask:Ye.notes,description:Ye.notes,priority:"medium",status:"pending",targetUser:Ye.assignedTo,createdAt:new Date().toISOString(),estimatedImpact:"To be determined",fromEmail:v.email||"unknown@example.com",toEmail:Ye.assignedToEmail||"unknown@example.com"},...at]),alert("Dependency request sent successfully!")},Je=oe=>{switch(oe==null?void 0:oe.toLowerCase()){case"high":return"bg-red-50 text-red-700 border-red-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-600 border-gray-200"}},et=oe=>{switch(oe==null?void 0:oe.toLowerCase()){case"pending":return"bg-blue-50 text-blue-700 border-blue-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"accepted":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-600 border-gray-200"}},ht=oe=>{switch(oe==null?void 0:oe.toLowerCase()){case"pending":return h.jsx(Nr,{className:"w-3 h-3"});case"approved":return h.jsx(Ka,{className:"w-3 h-3"});case"rejected":return h.jsx(Oh,{className:"w-3 h-3"});case"accepted":return h.jsx(Ka,{className:"w-3 h-3"});default:return h.jsx(Nr,{className:"w-3 h-3"})}},Et=oe=>{if(!oe||typeof oe!="string")return console.warn("Invalid or missing dateString:",oe),"N/A";const Te=new Date(oe);return isNaN(Te.getTime())?(console.warn("Invalid date parsed from:",oe),"N/A"):Te.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},vt=oe=>oe.replace(/\(Quadrant Technologies\)/g,"").trim(),xt=(oe,Te)=>{let Ye=oe;return Te&&(Ye=Ye.filter(at=>at.taskName.toLowerCase().includes(Te.toLowerCase())||vt(_r(at.name,P,R)).toLowerCase().includes(Te.toLowerCase()))),se!=="all"&&(Ye=Ye.filter(at=>at.status.toLowerCase()===se)),W!=="all"&&(Ye=Ye.filter(at=>at.priority.toLowerCase()===W)),Ye},Ut=(oe,Te)=>{k(oe),z(Te),I(!0)},_t=oe=>{oe.stopPropagation(),z(Te=>Te>0?Te-1:Ze.length-1),k(Ze[M>0?M-1:Ze.length-1])},Cn=oe=>{oe.stopPropagation(),z(Te=>Te<Ze.length-1?Te+1:0),k(Ze[M<Ze.length-1?M+1:0])},Bt=({request:oe,type:Te,onClose:Ye,onPrev:at,onNext:de})=>{var We,nt,wt;const re=Te==="incoming",He=ut=>{ut.stopPropagation()};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md sm:max-w-lg md:max-w-xl overflow-hidden relative",children:[h.jsx("button",{onClick:Ye,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-1 transition-colors","aria-label":"Close modal",children:h.jsx(Oh,{className:"w-6 h-6"})}),h.jsx("button",{onClick:at,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-900 bg-white rounded-full p-2 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed z-10",disabled:K,"aria-label":"Previous request",children:h.jsx(Gd,{className:"w-6 h-6"})}),h.jsx("button",{onClick:de,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-900 bg-white rounded-full p-2 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed z-10",disabled:K,"aria-label":"Next request",children:h.jsx(al,{className:"w-6 h-6"})}),h.jsxs("div",{className:"p-6 sm:p-8 pl-16 sm:pl-20 pr-12 sm:pr-14",children:[h.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 truncate",title:oe.taskName||"Untitled Request",children:oe.taskName||"Untitled Request"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[h.jsx(Go,{className:"w-5 h-5 text-gray-500"}),h.jsx("span",{className:"font-medium",children:re?`From: ${vt(_r(oe.name,P,R))||"Unknown"}`:`To: ${vt(_r(oe.name,P,R))||"Unknown"}`})]}),h.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Wo,{className:"w-5 h-5 text-gray-500"}),h.jsx("span",{children:Et(oe.createdAt||oe.requestedDate)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Nr,{className:"w-5 h-5 text-gray-500"}),h.jsx("span",{children:oe.estimatedImpact||"N/A"})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${Je(oe.priority)}`,children:((We=oe.priority)==null?void 0:We.toUpperCase())||"N/A"}),h.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full border ${et(oe.status)}`,children:[ht(oe.status),((nt=oe.status)==null?void 0:nt.toUpperCase())||"N/A"]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Requested Task:"}),h.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:oe.requestedTask||"No task details provided"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description:"}),h.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:oe.description||"No description available"})]})]}),re&&((wt=oe.status)==null?void 0:wt.toLowerCase())==="pending"&&h.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",onClick:He,children:[h.jsxs("button",{onClick:ut=>V(oe,ut),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:K,children:[h.jsx(Ka,{className:"w-4 h-4"}),"Accept"]}),h.jsx(yG,{request:oe,handleLinkToExistingTask:le,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:K}),h.jsxs("button",{onClick:ut=>te(oe,ut),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:K,children:[K?h.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):h.jsx(Oh,{className:"w-4 h-4"}),K?"Rejecting...":"Reject"]})]})]})]})]})})},Cr=({request:oe,type:Te,index:Ye})=>{var de,re;const at=Te==="incoming";return h.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 overflow-hidden cursor-pointer min-h-[150px] min-w-[300px] max-w-[400px]",onClick:()=>Ut(oe,Ye),children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate flex-1",title:oe.taskName,children:oe.taskName||"Untitled Request"}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-2",children:[h.jsx(Go,{className:"w-4 h-4"}),h.jsx("span",{children:at?`From: ${vt(_r(oe.name,P,R))||"Unknown"}`:`To: ${vt(_r(oe.name,P,R))||"Unknown"}`})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Je(oe.priority)}`,children:((de=oe.priority)==null?void 0:de.toUpperCase())||"N/A"}),h.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${et(oe.status)}`,children:[ht(oe.status),((re=oe.status)==null?void 0:re.toUpperCase())||"N/A"]})]})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Wo,{className:"w-4 h-4"}),Et(oe.createdAt||oe.requestedDate)]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Nr,{className:"w-4 h-4"}),oe.estimatedImpact||"N/A"]})]})]})})},mn=({type:oe})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[oe==="incoming"?h.jsx($v,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}):h.jsx(yb,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:oe==="incoming"?"No incoming requests":"No outgoing requests"}),h.jsx("p",{className:"text-gray-600 mb-6",children:oe==="incoming"?"You don't have any dependency requests at the moment.":"You haven't sent any dependency requests yet."})]}),Sn=t==="incoming"?n:i,Ke=t==="incoming"?$:H,Ze=xt(Sn,Ke),Nt=Ze.filter(oe=>{var Te;return((Te=oe.status)==null?void 0:Te.toLowerCase())==="pending"}).length;return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-full mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("div",{children:h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dependency Requests"})}),h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(li,{onClick:()=>{p(!0),he("/admin")},disabled:f,className:`flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200 ${f?"opacity-50 cursor-not-allowed":""}`,children:f?h.jsxs("span",{className:"flex items-center",children:[h.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Navigating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(D4,{className:"w-4 h-4"}),"Back to Home"]})})})]}),h.jsx("div",{className:"w-full flex flex-col gap-4 mb-8 px-4",children:h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 w-full",children:[h.jsxs("div",{className:"flex bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:[h.jsxs("button",{onClick:()=>e("incoming"),className:`min-w-[200px] flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-colors ${t==="incoming"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[h.jsx($v,{className:"w-4 h-4"}),"Incoming (",xt(n,$).length,")"]}),h.jsxs("button",{onClick:()=>e("outgoing"),className:`min-w-[200px] flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-colors ${t==="outgoing"?"bg-indigo-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[h.jsx(yb,{className:"w-4 h-4"}),"My Requests (",xt(i,H).length,")"]})]}),h.jsxs("div",{className:"flex flex-wrap flex-grow justify-end items-center gap-4",children:[h.jsxs("div",{className:"relative flex-grow min-w-[250px] max-w-[400px]",children:[h.jsx(VC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search requests...",value:Ke,onChange:oe=>{t==="incoming"?L(oe.target.value):X(oe.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("select",{value:se,onChange:oe=>ie(oe.target.value),className:"min-w-[180px] px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"rejected",children:"Rejected"}),h.jsx("option",{value:"accepted",children:"Accepted"})]}),h.jsxs("select",{value:W,onChange:oe=>Q(oe.target.value),className:"min-w-[180px] px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",children:[h.jsx("option",{value:"all",children:"All Priority"}),h.jsx("option",{value:"high",children:"High"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"low",children:"Low"})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),h.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ze.length})]}),h.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx($v,{className:"w-4 h-4 text-blue-600"})})]})}),h.jsx("div",{className:"bg-green-100 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),h.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:Nt})]}),h.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:h.jsx(Nr,{className:"w-4 h-4 text-yellow-600"})})]})}),h.jsx("div",{className:"bg-yellow-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),h.jsx("p",{className:"text-2xl font-semibold text-red-600",children:Ze.filter(oe=>{var Te;return((Te=oe.status)==null?void 0:Te.toLowerCase())==="rejected"}).length})]}),h.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:h.jsx(Oh,{className:"w-4 h-4 text-red-600"})})]})}),h.jsx("div",{className:"bg-pink-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"High Priority"}),h.jsx("p",{className:"text-2xl font-semibold text-red-600",children:Ze.filter(oe=>{var Te;return((Te=oe.priority)==null?void 0:Te.toLowerCase())==="high"}).length})]}),h.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:h.jsx(sl,{className:"w-4 h-4 text-red-600"})})]})})]}),a?h.jsx("div",{className:"flex justify-center items-center py-20",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h.jsx("div",{children:Ze.length===0?h.jsx(mn,{type:t}):h.jsx("div",{className:"max-h-[600px] overflow-y-auto pr-2",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 items-start",children:Ze.map((oe,Te)=>h.jsx(Cr,{request:oe,type:t,index:Te},oe.id))})})}),ee&&C&&h.jsx(Bt,{request:C,type:t,onClose:()=>I(!1),onPrev:_t,onNext:Cn}),u&&h.jsx($4,{taskId:null,stepId:null,taskList:[],onClose:Se,onSave:Pe}),b&&h.jsx(U4,{isOpen:b,onClose:ce,onAddTask:ye,taskToEdit:null,dependencyTaskId:N})]})})},z4=6e4,WC=36e5,U2=Symbol.for("constructDateFrom");function eg(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&U2 in t?t[U2](e):t instanceof Date?new t.constructor(e):new Date(e)}function $p(t,e){return eg(t,t)}function vG(t,e,n){const r=$p(t);return isNaN(e)?eg(t,NaN):(r.setDate(r.getDate()+e),r)}function xG(t,e,n){return eg(t,+$p(t)+e)}function wG(t,e,n){return xG(t,e*WC)}function jh(t,e,n){return vG(t,-e)}function bG(t,e){const n=()=>eg(e==null?void 0:e.in,NaN),i=AG(t);let o;if(i.date){const d=kG(i.date,2);o=TG(d.restDateString,d.year)}if(!o||isNaN(+o))return n();const a=+o;let l=0,u;if(i.time&&(l=_G(i.time),isNaN(l)))return n();if(i.timezone){if(u=NG(i.timezone),isNaN(u))return n()}else{const d=new Date(a+l),f=$p(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return $p(a+l+u)}const Rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,EG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AG(t){const e={},n=t.split(Rh.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Rh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Rh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Rh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function kG(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function TG(t,e){if(e===null)return new Date(NaN);const n=t.match(CG);if(!n)return new Date(NaN);const r=!!n[4],i=_u(n[1]),o=_u(n[2])-1,a=_u(n[3]),l=_u(n[4]),u=_u(n[5])-1;if(r)return jG(e,l,u)?PG(e,l,u):new Date(NaN);{const d=new Date(0);return!DG(e,o,a)||!OG(e,i)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(i,a)),d)}}function _u(t){return t?parseInt(t):1}function _G(t){const e=t.match(SG);if(!e)return NaN;const n=Uv(e[1]),r=Uv(e[2]),i=Uv(e[3]);return RG(n,r,i)?n*WC+r*z4+i*1e3:NaN}function Uv(t){return t&&parseFloat(t.replace(",","."))||0}function NG(t){if(t==="Z")return 0;const e=t.match(EG);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return MG(r,i)?n*(r*WC+i*z4):NaN}function PG(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const IG=[31,null,31,30,31,30,31,31,30,31,30,31];function K4(t){return t%400===0||t%4===0&&t%100!==0}function DG(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(IG[e]||(K4(t)?29:28))}function OG(t,e){return e>=1&&e<=(K4(t)?366:365)}function jG(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function RG(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function MG(t,e){return e>=0&&e<=59}function H2(){const t=oa(),[e,n]=S.useState([]),[r,i]=S.useState([]),[o,a]=S.useState(!1),[l,u]=S.useState(!1),[d,f]=S.useState(null),[p,g]=S.useState(""),[y,v]=S.useState("list"),[w,b]=S.useState({priority:"",status:"",startDate:"",dueDate:"",assignedTo:"",hasSubtasks:null,searchTerm:""}),[E,C]=S.useState(0),[k,N]=S.useState(0),[_,P]=S.useState(1),[D,R]=S.useState({totalCount:0,pageNumber:1,pageSize:5,totalPages:1,hasPreviousPage:!1,hasNextPage:!1}),F=5,[O,B]=S.useState([]),[$,L]=S.useState([]),[H,X]=S.useState([]),[se,ie]=S.useState(!1),[W,Q]=S.useState(!1),[ee,I]=S.useState(0),[M,z]=S.useState(!1),[K,J]=S.useState(null),[he,we]=S.useState({}),[te,V]=S.useState(new Set),[ce,ye]=S.useState([]),[le,Se]=S.useState(!1),[Pe,Je]=S.useState(!1),[et,ht]=S.useState(null),[Et,vt]=S.useState(!1),[xt,Ut]=S.useState(()=>{const pe=localStorage.getItem("notificationSettings");return pe?JSON.parse(pe):{soundEnabled:!0,toastDuration:5e3}}),[_t,Cn]=S.useState(null),[Bt,Cr]=S.useState(null),[mn,Sn]=S.useState(null),[Ke,Ze]=S.useState(!1),Nt=S.useRef(null),oe=S.useRef(null),Te=S.useRef(null),{acquireToken:Ye,isAuthenticated:at,isLoading:de,user:re}=Bn(),He="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task",We="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/SubTask",nt="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Feedback",wt="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/user1",ut="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Encryption/keys",Ct="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net",At=pe=>{Ut(pe),localStorage.setItem("notificationSettings",JSON.stringify(pe))};S.useEffect(()=>{(async()=>{try{console.log("Starting to fetch encryption keys...");try{const ve=await No();if(console.log("Keys fetched:",ve),ve&&ve.aesKey&&ve.aesIV)Cn(ve.aesKey),Cr(ve.aesIV),console.log("Keys set successfully");else throw new Error("Invalid keys structure")}catch(ve){console.error("Failed to fetch encryption keys:",ve),Sn(ve.message)}if(!(re!=null&&re.id)){console.error("User ID missing");return}}catch(ve){console.error("Error in fetchData:",ve)}})()},[re==null?void 0:re.id]);const Kt=async(pe,ve="GET",De=null,$e=null)=>{var je;try{const Ee=await Ye("api");if(!Ee)throw new Error("Failed to acquire authentication token");const Ne={method:ve,url:pe,headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"}};return De&&["POST","PUT","PATCH"].includes(ve)&&(Ne.data=De),$e&&(Ne.params=Object.fromEntries(Object.entries($e).filter(([tt,Ft])=>Ft!==null&&Ft!==""&&Ft!==void 0))),(await ot(Ne)).data}catch(Ee){throw console.error(`Error in request to ${pe}:`,Ee),((je=Ee.response)==null?void 0:je.status)===401?new Error("Authentication failed. Please try logging in again."):Ee}},En=async pe=>{if(!pe)return console.warn("No managerId provided"),"Unknown Managerss";if(he[pe])return console.log("Using cached manager name for ID:",pe,he[pe]),he[pe];if(!Ke)return console.warn("Encryption keys not fetched, isKeysFetched:",Ke,"keyError:",mn),mn?"Unknown Manager":"Fetching...";try{const ve=await Kt(`${wt}/${pe}`);console.log("Manager API response:",JSON.stringify(ve,null,2));const De=Ee=>Ee?typeof Ee=="string"?Ee:typeof Ee=="object"?Ee.fullName||Ee.name||Ee.Name||Ee.username||(Ee.first&&Ee.last?`${Ee.first} ${Ee.last}`:null):null:null;let $e;if(Array.isArray(ve)?(console.log("Response is an array, checking first element:",ve[0]),$e=De(ve[0])):$e=De(ve),!$e)throw console.error("No name field found in response:",ve),new Error("No name field in response");console.log("Encrypted name:",$e);const je=_r($e,_t,Bt);return console.log("Decrypted name:",je),we(Ee=>({...Ee,[pe]:je})),je}catch(ve){return console.error(`Error fetching/decrypting manager name for ID ${pe}:`,ve),we(De=>({...De,[pe]:"Unknown Manager"})),"Unknown Manager"}},gt=async()=>{if(!(!at||!(re!=null&&re.id)||!Ke)){z(!0),J(null);try{const pe=await Kt(`${nt}/${re.id}`);if(!Array.isArray(pe))throw new Error("Invalid response format: expected array");console.log("Notifications response:",pe);const ve=jh(new Date,60),je=(await Promise.all(pe.map(async Ee=>{console.log("Processing notification with managerId:",Ee.managerId);const Ne=new Date(Ee.sentAt);return isNaN(Ne)?null:{...Ee,managerName:await En(Ee.managerId),isRead:Ee.isRead||!1,sentAt:Ne.toISOString()}}))).filter(Ee=>Ee!==null).filter(Ee=>new Date(Ee.sentAt)>=ve).sort((Ee,Ne)=>new Date(Ne.sentAt)-new Date(Ee.sentAt));B(je.filter(Ee=>!Ee.isRead)),L(je),I(je.filter(Ee=>!Ee.isRead).length),ye(je.filter(Ee=>!Ee.isRead).slice(0,3))}catch(pe){console.error("Error fetching notifications:",pe),J("Unable to load notifications. Please check your connection and try again."),B([]),L([]),I(0),ye([])}z(!1)}},rn=pe=>{try{const ve=bG(pe);if(isNaN(ve))return"Invalid date";const De=wG(ve,5.5),$e=new Date,je=($e-De)/(1e3*60*60);return je<1?"Just now":je<24?`${Math.floor(je)}h ago`:je<48?"Yesterday":De.toLocaleDateString("en-US",{month:"short",day:"numeric",...De.getFullYear()!==$e.getFullYear()&&{year:"numeric"}})}catch(ve){return console.error("Error parsing date:",pe,ve),"Invalid date"}},er=()=>{if(!xt.soundEnabled)return;new Audio("/assets/notification-sound.wav").play().catch(ve=>console.warn("Audio play failed:",ve))},ao=pe=>{const ve=document.getElementById(`task-${pe}`);ve&&(ve.scrollIntoView({behavior:"smooth",block:"center"}),ve.classList.add("bg-yellow-100"),setTimeout(()=>ve.classList.remove("bg-yellow-100"),2e3))},Rr=async()=>{var De;if(((De=Te.current)==null?void 0:De.state)===Xt.Connected)return;const pe=5,ve=2e3;for(let $e=1;$e<=pe;$e++)try{const je=await Ye("api");if(!je)throw new Error("Failed to acquire authentication token");Te.current=new HV().withUrl(`${Ct}/feedbackHub`,{accessTokenFactory:()=>je}).configureLogging(me.Information).withAutomaticReconnect([0,2e3,1e4,3e4]).build(),Te.current.on("newFeedback",async Ee=>{if(!Ke){X(qt=>[...qt,Ee]);return}const Ne=jh(new Date,60),Pt=new Date(Ee.sentAt);if(Pt<Ne)return;const tt=await En(Ee.managerId),Ft={...Ee,managerName:tt,isRead:!1,sentAt:Pt.toISOString()};B(qt=>[Ft,...qt.filter(An=>An.id!==Ft.id)]),L(qt=>[Ft,...qt.filter(An=>An.id!==Ft.id)].sort((An,Hg)=>new Date(Hg.sentAt)-new Date(An.sentAt))),I(qt=>qt+1),ye(qt=>[Ft,...qt.filter(An=>An.id!==Ft.id).slice(0,2)].filter(An=>!An.isRead)),vt(!0),setTimeout(()=>vt(!1),2e3),er()}),Te.current.on("bulkFeedback",async Ee=>{if(!Ke){X(tt=>[...tt,...Ee.filter(Ft=>Ft.userId===re.id)]);return}const Ne=jh(new Date,60),Pt=await Promise.all(Ee.filter(tt=>tt.userId===re.id&&new Date(tt.sentAt)>=Ne).map(async tt=>({...tt,managerName:await En(tt.managerId),isRead:tt.isRead||!1,sentAt:new Date(tt.sentAt).toISOString()})));B(tt=>[...Pt,...tt.filter(qt=>!Pt.some(Sr=>Sr.id===qt.id))].sort((qt,Sr)=>new Date(Sr.sentAt)-new Date(qt.sentAt)).filter(qt=>!qt.isRead)),L(tt=>[...Pt,...tt.filter(qt=>!Pt.some(Sr=>Sr.id===qt.id))].sort((qt,Sr)=>new Date(Sr.sentAt)-new Date(qt.sentAt))),I(tt=>tt+Pt.filter(Ft=>!Ft.isRead).length),ye(tt=>[...Pt.filter(qt=>!qt.isRead).slice(0,3-tt.length),...tt].slice(0,3).filter(qt=>!qt.isRead)),vt(!0),setTimeout(()=>vt(!1),2e3),er()}),Te.current.onclose(()=>{J("Real-time updates are unavailable. Notifications will update periodically.")}),Te.current.onreconnected(async()=>{await Te.current.invoke("JoinUser",re.id),J(null)}),await Te.current.start(),await Te.current.invoke("JoinUser",re.id);return}catch(je){if(console.error(`Attempt ${$e} failed to initialize SignalR:`,je),$e<pe){const Ee=ve*Math.pow(2,$e-1);await new Promise(Ne=>setTimeout(Ne,Ee))}else J("Real-time updates are unavailable. Notifications will update periodically.")}},Yr=async pe=>{try{B(ve=>{const De=ve.find(je=>je.id===pe);if(!De)return ve;const $e=ve.filter(je=>je.id!==pe);return L(je=>[{...De,isRead:!0},...je.filter(Ne=>Ne.id!==pe)].sort((Ne,Pt)=>new Date(Pt.sentAt)-new Date(Ne.sentAt))),$e}),ye(ve=>ve.filter(De=>De.id!==pe)),I(ve=>Math.max(0,ve-1)),V(ve=>new Set(ve).add(pe)),await Kt(`${nt}/${pe}/read`,"PUT"),setTimeout(()=>{V(ve=>{const De=new Set(ve);return De.delete(pe),De})},600)}catch(ve){console.error("Error marking notification as read:",ve),J("Failed to mark notification as read. Please try again."),await gt()}},gn=async()=>{try{B([]),L(pe=>pe.map(ve=>({...ve,isRead:!0}))),ye([]),I(0),V(new Set(O.map(pe=>pe.id))),await Kt(`${nt}/user/${re.id}/read-all`,"PUT"),setTimeout(()=>{V(new Set),ie(!1)},600)}catch(pe){console.error("Error marking all as read:",pe),J("Failed to mark all notifications as read. Please try again."),await gt()}};S.useEffect(()=>{if(!at||!(re!=null&&re.id)){console.warn("Skipping initialization: not authenticated or missing user ID");return}(async()=>{var De,$e,je,Ee;z(!0);for(let Ne=1;Ne<=5;Ne++)try{console.log(`Attempt ${Ne} to fetch encryption keys from: ${ut}`);const Pt=await Ye("api");if(!Pt)throw new Error("Failed to acquire authentication token");const tt=await ot.get(ut,{headers:{Authorization:`Bearer ${Pt}`,"Content-Type":"application/json"}});if(console.log("Encryption keys response:",tt.data),(De=tt.data)!=null&&De.aesKey&&(($e=tt.data)!=null&&$e.aesIV)){Cn(tt.data.aesKey),Cr(tt.data.aesIV),Sn(null),Ze(!0);break}else throw new Error("Invalid keys structure: missing aesKey or aesIV")}catch(Pt){if(console.error(`Attempt ${Ne} failed to fetch encryption keys:`,{message:Pt.message,response:(je=Pt.response)==null?void 0:je.data,status:(Ee=Pt.response)==null?void 0:Ee.status}),Sn("Failed to fetch encryption keys"),Ne<5){const tt=2e3*Math.pow(2,Ne-1);console.log(`Retrying in ${tt}ms...`),await new Promise(Ft=>setTimeout(Ft,tt))}else console.error("All retries failed to fetch encryption keys."),Sn("Unable to fetch encryption keys. Notifications may display incomplete information.")}Ke&&await gt(),await Rr(),z(!1)})();const ve=setInterval(async()=>{Ke&&await gt()},K?3e4:6e4);return()=>{Te.current&&(Te.current.stop(),Te.current=null),clearInterval(ve)}},[at,re==null?void 0:re.id,Ke,K]),S.useEffect(()=>{Ke&&H.length>0&&(async()=>{const ve=jh(new Date,60),De=await Promise.all(H.filter($e=>new Date($e.sentAt)>=ve).map(async $e=>({...$e,managerName:await En($e.managerId),isRead:$e.isRead||!1,sentAt:new Date($e.sentAt).toISOString()})));B($e=>[...De,...$e.filter(Ee=>!De.some(Ne=>Ne.id===Ee.id))].sort((Ee,Ne)=>new Date(Ne.sentAt)-new Date(Ee.sentAt)).filter(Ee=>!Ee.isRead)),L($e=>[...De,...$e.filter(Ee=>!De.some(Ne=>Ne.id===Ee.id))].sort((Ee,Ne)=>new Date(Ne.sentAt)-new Date(Ee.sentAt))),I($e=>$e+De.filter(je=>!je.isRead).length),ye($e=>[...De.filter(Ee=>!Ee.isRead).slice(0,3-$e.length),...$e].slice(0,3).filter(Ee=>!Ee.isRead)),vt(!0),setTimeout(()=>vt(!1),2e3),er(),X([])})()},[Ke,H]),S.useEffect(()=>{const pe=De=>{oe.current&&!oe.current.contains(De.target)&&!De.target.closest('[aria-label="Toggle notifications"]')&&!De.target.closest(".settings-modal")&&!De.target.closest(".notification-modal")&&!Nt.current.contains(De.target)&&(ie(!1),Q(!1),Se(!1),Je(!1),a(!1))},ve=De=>{De.key==="Escape"&&(ie(!1),Q(!1),Se(!1),Je(!1),a(!1))};return(se||le||Pe||o)&&(document.addEventListener("click",pe),document.addEventListener("keydown",ve)),()=>{document.removeEventListener("click",pe),document.removeEventListener("keydown",ve)}},[se,le,Pe,o]),S.useEffect(()=>{if(ce.length===0)return;const pe=ce.map((ve,De)=>ve.isRead||ve.paused?null:setTimeout(()=>{ye($e=>$e.filter(je=>je.id!==ve.id))},xt.toastDuration+De*500));return()=>pe.forEach(ve=>ve&&clearTimeout(ve))},[ce,xt]),S.useEffect(()=>{if(se&&!W&&O.length>0&&ee===0&&te.size===0){const pe=setTimeout(()=>ie(!1),1e3);return()=>clearTimeout(pe)}},[O,ee,se,te,W]);const Qr=pe=>{if(!pe)return null;try{const[ve,De,$e]=pe.split("-");return`${$e}-${De}-${ve}`}catch{return console.error("Invalid date format:",pe),null}};S.useEffect(()=>{if(!at||de||!(re!=null&&re.id)){console.warn("Skipping fetchTasksAndSubtasks: not authenticated, loading, or missing user ID",{isAuthenticated:at,isLoading:de,userId:re==null?void 0:re.id});return}(async()=>{try{const ve={pageNumber:_,pageSize:F,priority:w.priority||null,status:w.status||null,startDate:Qr(w.startDate)||null,dueDate:Qr(w.dueDate)||null,searchTerm:p.trim()||w.searchTerm.trim()||null,assignedTo:w.assignedTo||null,hasSubtasks:w.hasSubtasks||null};console.log("Fetching tasks with params:",ve);const De=await Kt(`${He}/GetAllTasks`,"GET",null,ve);if(!De||!De.data||!Array.isArray(De.data))throw new Error("Invalid response format: data is missing or not an array");De.pagination||(console.warn("Pagination data missing in response, using default pagination"),De.pagination={totalCount:De.data.length,pageNumber:_,pageSize:F,totalPages:Math.ceil(De.data.length/F),hasPreviousPage:_>1,hasNextPage:De.data.length===F});let $e=De.data.map((Ee,Ne)=>Ee?{...Ee,id:Ee.id||Ee.Id||Ee.taskId||Ee.TaskId||`temp-${Math.random()}`,taskName:Ee.taskName||Ee.TaskName||"",steps:[],subTasksCount:Ee.subTasksCount||0}:(console.warn(`Task at index ${Ne} is null or undefined`),null)).filter(Ee=>Ee!==null),je=[];try{const Ee=await Kt(We);Array.isArray(Ee)?je=Ee.map((Ne,Pt)=>{var tt,Ft;return!Ne||typeof Ne!="object"?(console.warn(`Subtask at index ${Pt} is invalid:`,Ne),null):{id:(Ne.Id||Ne.id||Ne.subtaskId||Ne.subTaskId||`temp-${Math.random()}`).toString(),name:Ne.SubTaskName||Ne.subTaskName||Ne.subtaskName||Ne.sub_task_name||"",description:Ne.Description||Ne.description||Ne.subTaskDescription||"",startDate:((tt=Ne.StartDate||Ne.startDate||Ne.start_date)==null?void 0:tt.split("T")[0])||"",dueDate:((Ft=Ne.DueDate||Ne.dueDate||Ne.due_date)==null?void 0:Ft.split("T")[0])||"",status:Ne.Status||Ne.status||Ne.subTaskStatus||"Not Started",estimatedHours:parseFloat(Ne.EstimatedHours||Ne.estimatedHours||Ne.estimated_hours||0),completedHours:parseFloat(Ne.CompletedHours||Ne.completedHours||Ne.completed_hours||0),completed:(Ne.Status||Ne.status||Ne.subTaskStatus)==="Completed",priority:Ne.Priority||Ne.priority||"Medium",taskId:Ne.TaskItemId||Ne.taskItemId||Ne.taskId||Ne.task_item_id||null}}).filter(Ne=>Ne!==null):console.warn("Subtask data is not an array:",Ee)}catch(Ee){console.warn("Subtask endpoint failed, continuing with tasks only:",Ee.message)}$e=$e.map((Ee,Ne)=>{if(!Ee)return console.warn(`Processed task at index ${Ne} is null`),null;const Pt=je.filter(tt=>(tt==null?void 0:tt.taskId)&&tt.taskId.toString()===Ee.id.toString());return{...Ee,steps:Pt,subTasksCount:Pt.length,estimatedHours:Pt.reduce((tt,Ft)=>tt+(parseFloat(Ft.estimatedHours)||0),0)||Ee.estimatedHours||0,completedHours:Pt.reduce((tt,Ft)=>tt+(parseFloat(Ft.completedHours)||0),0)||Ee.completedHours||0,status:Pt.length>0&&Pt.every(tt=>tt.status==="Completed")?"Completed":Ee.status||"Not Started"}}).filter(Ee=>Ee!==null),$e.length===0&&console.warn("No valid tasks after processing"),n($e),i($e),R(De.pagination)}catch(ve){console.error("Error fetching tasks:",ve,{currentPage:_,filterParams:{pageNumber:_,pageSize:F,priority:w.priority,status:w.status,startDate:w.startDate,dueDate:w.dueDate,searchTerm:p||w.searchTerm,assignedTo:w.assignedTo,hasSubtasks:w.hasSubtasks}}),alert(`Failed to load tasks for page ${_}: ${ve.message||"Please try again."}`),n([]),i([]),R({totalCount:0,pageNumber:1,pageSize:F,totalPages:1,hasPreviousPage:!1,hasNextPage:!1})}})()},[k,at,de,re==null?void 0:re.id,_,p]);const so=()=>{f(null),u(!0)},da=()=>{u(!1),f(null)},ml=async pe=>{try{n(ve=>[pe,...ve]),i(ve=>[pe,...ve]),P(1),N(ve=>ve+1)}catch(ve){console.error("Error handling new task:",ve),alert("Failed to add task: "+(ve.message||"Please try again."))}},Kc=pe=>{const ve=pe.trim();g(ve),b(De=>({...De,searchTerm:ve})),P(1),N(De=>De+1)},Fg=({tasks:pe,filters:ve})=>{const De={...w,...ve};b(De),i(pe||[]),P(1);const $e=Object.values(De).filter(je=>je!==null&&je!==""&&!(Array.isArray(je)&&je.length===0)).length;C($e)},hf=()=>{b({priority:"",status:"",startDate:"",dueDate:"",assignedTo:"",hasSubtasks:null,searchTerm:""}),C(0),g(""),P(1),N(ve=>ve+1),a(!1)},Lg=()=>{a(pe=>!pe)},Xr=pe=>{v(pe)},pf=()=>{t("/admin/dependency")},mf=pe=>{f(pe),u(!0)},$g=pe=>{P(pe),window.scrollTo({top:0,behavior:"smooth"})},gf=(pe=>pe.filter(ve=>ve&&ve.id).map(ve=>{if(!ve.startDate||!ve.dueDate){const De=new Date,$e=new Date;return $e.setDate(De.getDate()+7),{...ve,startDate:ve.startDate||De.toISOString().split("T")[0],dueDate:ve.dueDate||$e.toISOString().split("T")[0]}}return ve}))(r);return de?h.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:h.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:h.jsx("div",{className:"text-gray-500",children:"Loading..."})})}):at?h.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[h.jsx("style",{children:`
          @keyframes fade-in {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }
          .animate-fade-in {
            animation: fade-in 0.3s ease-out;
          }
          @keyframes slide-in-right {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
          }
          .animate-slide-in-right {
            animation: slide-in-right 0.3s ease-out;
          }
        `}),mn&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-lg mb-4",children:mn}),K&&h.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-lg mb-4",children:[K,h.jsx("button",{onClick:async()=>{J(null),await Rr(),Ke&&await gt()},className:"ml-4 text-sm text-purple-600 hover:text-purple-800 font-medium",children:"Retry Now"})]}),le&&et&&h.jsx("div",{className:"notification-modal fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-50",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-6 w-full max-w-md animate-fade-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Notification Details"}),h.jsx("button",{onClick:()=>{Yr(et.id),Se(!1)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(Yn,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx(Go,{className:"w-4 h-4 text-purple-600"}),h.jsxs("span",{className:"font-medium",children:["From: ",et.managerName]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx(Nr,{className:"w-4 h-4 text-purple-600"}),h.jsxs("span",{children:["Sent: ",rn(et.sentAt)]})]}),h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:et.message})})]}),et.taskId&&h.jsx("div",{className:"flex justify-end mt-6",children:h.jsx("button",{onClick:()=>{ao(et.taskId),Yr(et.id),Se(!1),ie(!1),Q(!1),v("list")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105","aria-label":"Go to task",children:"Go to Task"})})]})}),Pe&&h.jsx("div",{className:"settings-modal fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[60] w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notification Settings"}),h.jsx("button",{onClick:()=>Je(!1),className:"text-gray-500 hover:text-gray-700",children:h.jsx(Yn,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx("input",{type:"checkbox",checked:xt.soundEnabled,onChange:pe=>At({...xt,soundEnabled:pe.target.checked}),className:"h-4 w-4 text-purple-600"}),"Enable Notification Sound"]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-sm text-gray-600",children:"Toast Duration"}),h.jsxs("select",{value:xt.toastDuration,onChange:pe=>At({...xt,toastDuration:parseInt(pe.target.value)}),className:"mt-1 w-full border border-gray-300 rounded-lg p-1.5 text-sm",children:[h.jsx("option",{value:3e3,children:"3 seconds"}),h.jsx("option",{value:5e3,children:"5 seconds"}),h.jsx("option",{value:1e4,children:"10 seconds"})]})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsx("button",{onClick:()=>Je(!1),className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Save"})})]})}),h.jsx("div",{className:"fixed bottom-6 right-6 z-50 space-y-3",children:ce.map((pe,ve)=>h.jsx("div",{className:`relative bg-white border border-gray-200 rounded-xl shadow-lg p-4 max-w-sm transform transition-all duration-300 ease-in-out ${te.has(pe.id)?"opacity-0 translate-x-full":"opacity-100 translate-x-0"} hover:shadow-xl group animate-slide-in-right`,style:{marginBottom:`${ve*.75}rem`},onMouseEnter:()=>{ye(De=>De.map($e=>$e.id===pe.id?{...$e,paused:!0}:$e))},onMouseLeave:()=>{ye(De=>De.map($e=>$e.id===pe.id?{...$e,paused:!1}:$e))},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${pe.isRead?"bg-gray-100":"bg-purple-100"}`,children:h.jsx(F2,{className:`w-5 h-5 ${pe.isRead?"text-gray-600":"text-purple-600"}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx(Go,{className:"w-4 h-4"}),h.jsx("span",{className:"font-medium",children:pe.managerName})]}),h.jsx("span",{className:"text-xs text-gray-500",children:rn(pe.sentAt)})]}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:pe.message}),!pe.isRead&&h.jsxs("div",{className:"mt-2 flex gap-2",children:[h.jsx("button",{onClick:()=>{ht(pe),Se(!0)},className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"View"}),h.jsx("button",{onClick:()=>Yr(pe.id),className:"text-xs text-gray-500 hover:text-gray-700 font-medium",children:"Dismiss"})]})]}),h.jsx("button",{onClick:()=>Yr(pe.id),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Yn,{className:"w-4 h-4"})})]})},pe.id))}),se&&h.jsxs("div",{className:"fixed inset-0 z-[50]",children:[h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 backdrop-blur-sm transition-opacity duration-300",onClick:()=>{ie(!1),Q(!1)}}),h.jsx("div",{ref:oe,className:"fixed right-0 top-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300 ease-in-out translate-x-0",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"p-4 bg-purple-50 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Hu,{className:"h-5 w-5 text-purple-600"}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:W?"Notification History":"Notifications"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>Je(!0),className:"text-sm text-purple-600 hover:text-purple-800",children:"Settings"}),h.jsx("button",{onClick:()=>{ie(!1),Q(!1)},className:"p-1 text-gray-500 hover:text-gray-700 rounded-full","aria-label":"Close notifications",children:h.jsx(Yn,{className:"h-5 w-5"})})]})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:W?`${$.length} total`:`${O.length} total, ${ee} unread`})]}),h.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center gap-2",children:[h.jsx("button",{onClick:()=>Q(!W),className:"text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:W?h.jsxs(h.Fragment,{children:[h.jsx(Hu,{className:"h-4 w-4"}),"Back to Notifications"]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6h4m6 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"View History"]})}),!W&&ee>0&&h.jsxs("button",{onClick:gn,className:"text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:[h.jsx(hW,{className:"h-4 w-4"}),"Mark all as read"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:M?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent mb-4"}),h.jsx("p",{className:"text-sm font-medium",children:"Loading notifications..."})]}):K?h.jsxs("div",{className:"flex flex-col interesting-items-center justify-center h-full text-center p-4",children:[h.jsx(Yn,{className:"h-8 w-8 text-red-500 mb-2"}),h.jsx("p",{className:"text-sm text-red-600 mb-4",children:K}),h.jsx("button",{onClick:async()=>{J(null),await Rr(),Ke&&await gt()},className:"px-4 py-1.5 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Retry Now"})]}):(W?$:O).length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[h.jsx(Hu,{className:"h-8 w-8 text-gray-400 mb-2"}),h.jsx("p",{className:"text-sm text-gray-500",children:W?"No notification history":"No notifications to show"})]}):h.jsx("div",{className:"p-4 space-y-3",children:(W?$:O).map(pe=>h.jsxs("div",{className:`relative p-4 rounded-lg border transition-all duration-300 cursor-pointer ${pe.isRead?"border-gray-200 bg-white":"border-purple-200 bg-purple-50 hover:bg-purple-100"} ${te.has(pe.id)?"opacity-0 translate-y-4":""}`,onClick:()=>{ht(pe),Se(!0),pe.isRead||Yr(pe.id)},children:[!pe.isRead&&h.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 bg-purple-600 rounded-full animate-pulse"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${pe.isRead?"bg-gray-100":"bg-purple-100"}`,children:h.jsx(F2,{className:`w-4 h-4 ${pe.isRead?"text-gray-600":"text-purple-600"}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[h.jsx(Go,{className:"w-3 h-3"}),h.jsx("span",{children:pe.managerName})]}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:pe.message})]}),h.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:rn(pe.sentAt)})]}),!W&&!pe.isRead&&h.jsxs("div",{className:"mt-2 flex gap-2",children:[h.jsxs("button",{onClick:ve=>{ve.stopPropagation(),ht(pe),Se(!0)},className:"text-xs text-purple-600 hover:text-purple-800 font-medium flex items-center gap-1",children:[h.jsx(xW,{className:"w-3 h-3"}),"View"]}),h.jsx("button",{onClick:ve=>{ve.stopPropagation(),Yr(pe.id)},className:"text-xs text-gray-500 hover:text-gray-700 font-medium",children:"Dismiss"})]})]})]})]},pe.id))})}),h.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:h.jsxs("button",{onClick:gt,className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-purple-600 hover:text-purple-800 hover:bg-purple-100 rounded-lg",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]})})]}),y!=="focus"&&y!=="dependencies"&&h.jsx("div",{className:"flex flex-wrap md:flex-nowrap justify-between items-center mb-4",children:y==="gantt"?h.jsx("div",{}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3 flex-shrink-0 order-last md:order-first",children:[h.jsxs("button",{className:`px-3 py-1.5 text-sm rounded-md flex items-center gap-1.5 ${y==="list"?"bg-white shadow-sm":"text-gray-600"}`,onClick:()=>Xr("list"),children:[h.jsx(NW,{className:"w-4 h-4"}),"List"]}),h.jsxs("button",{className:`px-3 py-1.5 text-sm rounded-md flex items-center gap-1.5 ${y==="gantt"?"bg-white shadow-sm":"text-gray-600"}`,onClick:()=>Xr("gantt"),children:[h.jsx(rW,{className:"w-4 h-4"}),"Timeline"]})]}),h.jsx("div",{className:"flex-grow min-w-[200px] md:max-w-md",children:h.jsx(M4,{placeholder:"Search tasks by name or description...",onSearch:Kc,className:"w-full"})}),h.jsxs("div",{className:"flex gap-3 flex-shrink-0 items-center justify-end flex-wrap",children:[h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:pe=>{pe.stopPropagation(),ie(ve=>!ve),Q(!1)},className:`relative p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-100 rounded-full transition-colors ${Et?"animate-pulse":""}`,"aria-label":"Toggle notifications",children:[h.jsx(Hu,{className:"h-6 w-6"}),ee>0&&h.jsx("span",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ee>9?"9+":ee})]})}),h.jsxs(li,{onClick:()=>Xr("focus"),className:"flex items-center gap-1.5 whitespace-nowrap",children:[h.jsx(kW,{className:"w-4 h-4"}),"Focus Board"]}),h.jsxs(li,{onClick:pf,className:"flex items-center gap-1.5 whitespace-nowrap",children:[h.jsx(SW,{className:"w-4 h-4"}),"Dependency Requests"]}),h.jsxs("div",{className:"relative",children:[h.jsx(li,{ref:Nt,onClick:()=>{E>0?hf():Lg()},className:"flex items-center gap-1.5 min-w-[110px] justify-center whitespace-nowrap",style:{transition:"width 0.2s ease"},children:E>0?h.jsxs(h.Fragment,{children:[h.jsx(gb,{className:"w-4 h-4"}),"Clear Filter",h.jsx("span",{className:"bg-white text-purple-600 text-xs px-1.5 py-0.5 rounded-full border border-current",children:E})]}):h.jsxs(h.Fragment,{children:[h.jsx(gb,{className:"w-4 h-4"}),"Filter"]})}),o&&h.jsx(pG,{onFilterChange:Fg,onClose:()=>a(!1)})]}),h.jsxs(li,{onClick:so,className:"flex items-center gap-1.5 whitespace-nowrap",children:[h.jsx(eW,{className:"w-4 h-4"}),"Add Task"]})]})]})}),y==="dependencies"&&h.jsx(H4,{}),y==="focus"&&h.jsx(gG,{tasks:r,onBack:()=>Xr("list")}),y==="gantt"&&h.jsx(mG,{tasks:gf,onBack:()=>Xr("list")}),h.jsx(U4,{isOpen:l,onClose:da,onAddTask:ml,taskToEdit:d,makeAuthenticatedRequest:Kt,dependencyTaskId:0}),y==="list"&&e.length>0&&r.length>0&&h.jsx(hG,{taskList:r,setTaskList:n,openEditTaskModal:mf,onTaskUpdate:()=>N(pe=>pe+1),makeAuthenticatedRequest:Kt,paginationData:D,onPageChange:$g}),y==="list"&&e.length===0&&h.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:h.jsx("div",{className:"text-gray-500",children:"No tasks available"})}),y==="list"&&e.length>0&&r.length===0&&h.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[h.jsx("div",{className:"text-gray-500 mb-2",children:"No tasks match your current filters or search query"}),(E>0||p)&&h.jsx(li,{onClick:hf,className:"mt-2",children:"Clear All Filters and Search"})]})]}):h.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:h.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:h.jsx("div",{className:"text-gray-500",children:"Please log in to view tasks"})})})}const BG=()=>{const{isAuthenticated:t}=Bn();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex items-center justify-center",children:h.jsx("div",{className:"h-16 w-16 bg-[#8929fe] opacity-20 rounded-full flex items-center justify-center",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-[#8929fe]",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"404"}),h.jsx("p",{className:"text-xl font-semibold text-gray-700 mt-2",children:"Page Not Found"}),h.jsx("p",{className:"mt-3 text-base text-gray-500",children:"The page you're looking for doesn't exist or has been moved."})]}),h.jsx("div",{className:"mt-8 flex justify-center",children:h.jsx(F1,{to:t?"/dashboard":"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-[#8929fe] hover:bg-[#7620e0] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#8929fe]",children:t?"Back to Dashboard":"Back to Login"})})]})})})},ll=({message:t="Loading...",size:e="medium"})=>{const n={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[h.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-[#8929fe] ${n[e]}`}),t&&h.jsx("p",{className:"mt-4 text-gray-600 text-center",children:t})]})},Hv=({requiredRole:t})=>{const{isAuthenticated:e,authState:n,isInitialized:r,hasRole:i,error:o,retry:a}=Bn();return console.log("ProtectedRoute Check:",{isAuthenticated:e,authState:n,isInitialized:r,requiredRole:t,error:o}),!r||n==="loading"?h.jsx(ll,{message:"Verifying access..."}):o&&n==="error"?h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md text-center",children:[h.jsx("div",{className:"text-red-600 text-xl font-semibold mb-4",children:"Authentication Error"}),h.jsx("p",{className:"text-gray-600 mb-6",children:o}),h.jsxs("div",{className:"space-x-3",children:[h.jsx("button",{onClick:a,className:"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"}),h.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Login Again"})]})]})}):e?t&&!i(t)?(console.log(`ProtectedRoute: Access denied for role ${t}`),h.jsx(t_,{to:"/unauthorized",replace:!0})):(console.log("ProtectedRoute: Access granted"),h.jsx(_$,{})):(console.log("ProtectedRoute: Redirecting to login - not authenticated"),h.jsx(t_,{to:"/login",replace:!0}))},FG=()=>{var E;const[t,e]=S.useState(!1),[n,r]=S.useState(!1);S.useState([]);const i=S.useRef(null),o=oa(),a=_o(),{user:l,logout:u,getPrimaryRole:d,hasRole:f,isLoading:p}=Bn();S.useEffect(()=>{const C=k=>{i.current&&!i.current.contains(k.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const g=()=>{const C=[];return f("admin")&&C.push({label:"User Management",path:"/admin",roles:["admin"]}),f("manager")&&C.push({label:"Manager Dashboard",path:"/manager",roles:["manager","admin"]}),C.filter(k=>k.roles.some(N=>f(N)))},y=async()=>{try{await u()}catch(C){console.error("Logout failed:",C),window.location.href="/login"}},v=C=>{o(C),r(!1),e(!1)},w=()=>{if(!(l!=null&&l.name))return"U";const C=l.name.split(" ");return C.length>=2?`${C[0][0]}${C[C.length-1][0]}`.toUpperCase():l.name.charAt(0).toUpperCase()},b=()=>{switch(d()){case"admin":return"bg-red-100 text-red-800";case"manager":return"bg-blue-100 text-blue-800";default:return"bg-green-100 text-green-800"}};return p?h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),h.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded animate-pulse hidden sm:block"})]}),h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})]})})}):h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:UC,alt:"Quadrant Technologies",className:"w-8 h-8 rounded-full object-cover"}),h.jsx("div",{className:"hidden sm:block",children:h.jsx("p",{className:"text-lg text-gray-900 font-bold",children:"Quadrant Technologies"})})]})}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 text-gray-400 hover:text-gray-600",children:n?h.jsx(Yn,{className:"w-5 h-5"}):h.jsx(O4,{className:"w-5 h-5"})}),h.jsxs("div",{className:"relative",ref:i,children:[h.jsxs("button",{onClick:()=>e(!t),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-[#8929fe] text-white rounded-full flex items-center justify-center text-sm font-medium",children:w()}),h.jsx("div",{className:"hidden sm:block text-left",children:h.jsx("p",{className:"text-sm font-medium text-gray-900",children:((E=l==null?void 0:l.name)==null?void 0:E.split(" (")[0])||"User"})}),h.jsx(Wd,{className:"w-4 h-4 text-gray-400"})]}),t&&h.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-[#8929fe] text-white rounded-full flex items-center justify-center font-medium",children:w()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(l==null?void 0:l.name)||"User"}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:l==null?void 0:l.email}),h.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full mt-1 ${b()}`,children:d()})]})]})}),h.jsx("div",{className:"py-2",children:g().slice(0,4).map(C=>h.jsxs("button",{onClick:()=>v(C.path),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[h.jsx(Go,{className:"w-4 h-4"}),h.jsx("span",{children:C.label})]},C.path))}),h.jsx("div",{className:"border-t border-gray-100 py-2",children:h.jsxs("button",{onClick:y,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[h.jsx(OW,{className:"w-4 h-4"}),h.jsx("span",{children:"Sign Out"})]})})]})]})]})]}),n&&h.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:h.jsxs("div",{className:"space-y-2",children:[g().map(C=>h.jsx("button",{onClick:()=>v(C.path),className:`block w-full text-left px-4 py-2 text-sm rounded-lg transition-colors ${a.pathname===C.path?"bg-[#8929fe] text-white":"text-gray-700 hover:bg-gray-50"}`,children:C.label},C.path)),h.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:h.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:"Sign Out"})})]})})]})})},GC=S.createContext({});function YC(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const QC=typeof window<"u",q4=QC?S.useLayoutEffect:S.useEffect,tg=S.createContext(null);function XC(t,e){t.indexOf(e)===-1&&t.push(e)}function JC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zo=(t,e,n)=>n>e?e:n<t?t:n;let Up=()=>{};const ea={},V4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function W4(t){return typeof t=="object"&&t!==null}const G4=t=>/^0[^.\s]+$/u.test(t);function ZC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ii=t=>t,LG=(t,e)=>n=>e(t(n)),Yd=(...t)=>t.reduce(LG),Cd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class eS{constructor(){this.subscriptions=[]}add(e){return XC(this.subscriptions,e),()=>JC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Co=t=>t*1e3,So=t=>t/1e3;function Y4(t,e){return e?t*(1e3/e):0}const Q4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$G=1e-7,UG=12;function HG(t,e,n,r,i){let o,a,l=0;do a=e+(n-e)/2,o=Q4(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>$G&&++l<UG);return a}function Qd(t,e,n,r){if(t===e&&n===r)return Ii;const i=o=>HG(o,0,1,t,n);return o=>o===0||o===1?o:Q4(i(o),e,r)}const X4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,J4=t=>e=>1-t(1-e),Z4=Qd(.33,1.53,.69,.99),tS=J4(Z4),eM=X4(tS),tM=t=>(t*=2)<1?.5*tS(t):.5*(2-Math.pow(2,-10*(t-1))),nS=t=>1-Math.sin(Math.acos(t)),nM=J4(nS),rM=X4(nS),zG=Qd(.42,0,1,1),KG=Qd(0,0,.58,1),iM=Qd(.42,0,.58,1),qG=t=>Array.isArray(t)&&typeof t[0]!="number",oM=t=>Array.isArray(t)&&typeof t[0]=="number",z2={linear:Ii,easeIn:zG,easeInOut:iM,easeOut:KG,circIn:nS,circInOut:rM,circOut:nM,backIn:tS,backInOut:eM,backOut:Z4,anticipate:tM},VG=t=>typeof t=="string",K2=t=>{if(oM(t)){Up(t.length===4);const[e,n,r,i]=t;return Qd(e,n,r,i)}else if(VG(t))return Up(z2[t]!==void 0),z2[t];return t},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WG(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const v=g&&i?n:r;return p&&a.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,o&&(o=!1,d.process(f))}};return d}const GG=40;function aM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Mh.reduce((k,N)=>(k[N]=WG(o),k),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:y,postRender:v}=a,w=()=>{const k=ea.useManualTiming?i.timestamp:performance.now();n=!1,ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,GG),1)),i.timestamp=k,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},b=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:Mh.reduce((k,N)=>{const _=a[N];return k[N]=(P,D=!1,R=!1)=>(n||b(),_.schedule(P,D,R)),k},{}),cancel:k=>{for(let N=0;N<Mh.length;N++)a[Mh[N]].cancel(k)},state:i,steps:a}}const{schedule:cn,cancel:Ga,state:or,steps:zv}=aM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ii,!0);let q0;function YG(){q0=void 0}const Kr={now:()=>(q0===void 0&&Kr.set(or.isProcessing||ea.useManualTiming?or.timestamp:performance.now()),q0),set:t=>{q0=t,queueMicrotask(YG)}},sM=t=>e=>typeof e=="string"&&e.startsWith(t),rS=sM("--"),QG=sM("var(--"),iS=t=>QG(t)?XG.test(t.split("/*")[0].trim()):!1,XG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sd={...Dc,transform:t=>Zo(0,1,t)},Bh={...Dc,default:1},Xu=t=>Math.round(t*1e5)/1e5,oS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JG(t){return t==null}const ZG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aS=(t,e)=>n=>!!(typeof n=="string"&&ZG.test(n)&&n.startsWith(t)||e&&!JG(n)&&Object.prototype.hasOwnProperty.call(n,e)),lM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,l]=r.match(oS);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},eY=t=>Zo(0,255,t),Kv={...Dc,transform:t=>Math.round(eY(t))},As={test:aS("rgb","red"),parse:lM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kv.transform(t)+", "+Kv.transform(e)+", "+Kv.transform(n)+", "+Xu(Sd.transform(r))+")"};function tY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xb={test:aS("#"),parse:tY,transform:As.transform},Xd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=Xd("deg"),Eo=Xd("%"),rt=Xd("px"),nY=Xd("vh"),rY=Xd("vw"),q2={...Eo,parse:t=>Eo.parse(t)/100,transform:t=>Eo.transform(t*100)},Kl={test:aS("hsl","hue"),parse:lM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Eo.transform(Xu(e))+", "+Eo.transform(Xu(n))+", "+Xu(Sd.transform(r))+")"},Dn={test:t=>As.test(t)||xb.test(t)||Kl.test(t),parse:t=>As.test(t)?As.parse(t):Kl.test(t)?Kl.parse(t):xb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?As.transform(t):Kl.transform(t),getAnimatableNone:t=>{const e=Dn.parse(t);return e.alpha=0,Dn.transform(e)}},iY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oS))==null?void 0:e.length)||0)+(((n=t.match(iY))==null?void 0:n.length)||0)>0}const cM="number",uM="color",aY="var",sY="var(",V2="${}",lY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ed(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(lY,u=>(Dn.test(u)?(r.color.push(o),i.push(uM),n.push(Dn.parse(u))):u.startsWith(sY)?(r.var.push(o),i.push(aY),n.push(u)):(r.number.push(o),i.push(cM),n.push(parseFloat(u))),++o,V2)).split(V2);return{values:n,split:l,indexes:r,types:i}}function dM(t){return Ed(t).values}function fM(t){const{split:e,types:n}=Ed(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const l=n[a];l===cM?o+=Xu(i[a]):l===uM?o+=Dn.transform(i[a]):o+=i[a]}return o}}const cY=t=>typeof t=="number"?0:Dn.test(t)?Dn.getAnimatableNone(t):t;function uY(t){const e=dM(t);return fM(t)(e.map(cY))}const Ya={test:oY,parse:dM,createTransformer:fM,getAnimatableNone:uY};function qv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=qv(u,l,t+1/3),o=qv(u,l,t),a=qv(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Hp(t,e){return n=>n>0?e:t}const ln=(t,e,n)=>t+(e-t)*n,Vv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fY=[xb,As,Kl],hY=t=>fY.find(e=>e.test(t));function W2(t){const e=hY(t);if(!e)return!1;let n=e.parse(t);return e===Kl&&(n=dY(n)),n}const G2=(t,e)=>{const n=W2(t),r=W2(e);if(!n||!r)return Hp(t,e);const i={...n};return o=>(i.red=Vv(n.red,r.red,o),i.green=Vv(n.green,r.green,o),i.blue=Vv(n.blue,r.blue,o),i.alpha=ln(n.alpha,r.alpha,o),As.transform(i))},wb=new Set(["none","hidden"]);function pY(t,e){return wb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mY(t,e){return n=>ln(t,e,n)}function sS(t){return typeof t=="number"?mY:typeof t=="string"?iS(t)?Hp:Dn.test(t)?G2:vY:Array.isArray(t)?hM:typeof t=="object"?Dn.test(t)?G2:gY:Hp}function hM(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>sS(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function gY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=sS(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function yY(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],l=t.values[a]??0;n[i]=l,r[o]++}return n}const vY=(t,e)=>{const n=Ya.createTransformer(e),r=Ed(t),i=Ed(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?wb.has(t)&&!i.values.length||wb.has(e)&&!r.values.length?pY(t,e):Yd(hM(yY(r,i),i.values),n):Hp(t,e)};function pM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ln(t,e,n):sS(t)(t,e)}const xY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>cn.update(e,n),stop:()=>Ga(e),now:()=>or.isProcessing?or.timestamp:Kr.now()}},mM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zp=2e4;function lS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zp;)e+=n,r=t.next(e);return e>=zp?1/0:e}function wY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(lS(r),zp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:So(i)}}const bY=5;function gM(t,e,n){const r=Math.max(e-bY,0);return Y4(n-t(r),e-r)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wv=.001;function CY({duration:t=dn.duration,bounce:e=dn.bounce,velocity:n=dn.velocity,mass:r=dn.mass}){let i,o,a=1-e;a=Zo(dn.minDamping,dn.maxDamping,a),t=Zo(dn.minDuration,dn.maxDuration,So(t)),a<1?(i=d=>{const f=d*a,p=f*t,g=f-n,y=bb(d,a),v=Math.exp(-p);return Wv-g/y*v},o=d=>{const p=d*a*t,g=p*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,v=Math.exp(-p),w=bb(Math.pow(d,2),a);return(-i(d)+Wv>0?-1:1)*((g-y)*v)/w}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-Wv+f*p},o=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,u=EY(i,o,l);if(t=Co(t),isNaN(u))return{stiffness:dn.stiffness,damping:dn.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const SY=12;function EY(t,e,n){let r=n;for(let i=1;i<SY;i++)r=r-t(r)/e(r);return r}function bb(t,e){return t*Math.sqrt(1-e*e)}const AY=["duration","bounce"],kY=["stiffness","damping","mass"];function Y2(t,e){return e.some(n=>t[n]!==void 0)}function TY(t){let e={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...t};if(!Y2(t,kY)&&Y2(t,AY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Zo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dn.mass,stiffness:i,damping:o}}else{const n=CY(t);e={...e,...n,mass:dn.mass},e.isResolvedFromDuration=!0}return e}function Kp(t=dn.visualDuration,e=dn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:y}=TY({...n,velocity:-So(n.velocity||0)}),v=g||0,w=d/(2*Math.sqrt(u*f)),b=a-o,E=So(Math.sqrt(u/f)),C=Math.abs(b)<5;r||(r=C?dn.restSpeed.granular:dn.restSpeed.default),i||(i=C?dn.restDelta.granular:dn.restDelta.default);let k;if(w<1){const _=bb(E,w);k=P=>{const D=Math.exp(-w*E*P);return a-D*((v+w*E*b)/_*Math.sin(_*P)+b*Math.cos(_*P))}}else if(w===1)k=_=>a-Math.exp(-E*_)*(b+(v+E*b)*_);else{const _=E*Math.sqrt(w*w-1);k=P=>{const D=Math.exp(-w*E*P),R=Math.min(_*P,300);return a-D*((v+w*E*b)*Math.sinh(R)+_*b*Math.cosh(R))/_}}const N={calculatedDuration:y&&p||null,next:_=>{const P=k(_);if(y)l.done=_>=p;else{let D=_===0?v:0;w<1&&(D=_===0?Co(v):gM(k,_,P));const R=Math.abs(D)<=r,F=Math.abs(a-P)<=i;l.done=R&&F}return l.value=l.done?a:P,l},toString:()=>{const _=Math.min(lS(N),zp),P=mM(D=>N.next(_*D).value,_,30);return _+"ms "+P},toTransition:()=>{}};return N}Kp.applyToOptions=t=>{const e=wY(t,100,Kp);return t.ease=e.ease,t.duration=Co(e.duration),t.type="keyframes",t};function Cb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},y=R=>l!==void 0&&R<l||u!==void 0&&R>u,v=R=>l===void 0?u:u===void 0||Math.abs(l-R)<Math.abs(u-R)?l:u;let w=n*e;const b=p+w,E=a===void 0?b:a(b);E!==b&&(w=E-p);const C=R=>-w*Math.exp(-R/r),k=R=>E+C(R),N=R=>{const F=C(R),O=k(R);g.done=Math.abs(F)<=d,g.value=g.done?E:O};let _,P;const D=R=>{y(g.value)&&(_=R,P=Kp({keyframes:[g.value,v(g.value)],velocity:gM(k,R,g.value),damping:i,stiffness:o,restDelta:d,restSpeed:f}))};return D(0),{calculatedDuration:null,next:R=>{let F=!1;return!P&&_===void 0&&(F=!0,N(R),D(R)),_!==void 0&&R>=_?P.next(R-_):(!F&&N(R),g)}}}function _Y(t,e,n){const r=[],i=n||ea.mix||pM,o=t.length-1;for(let a=0;a<o;a++){let l=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Ii:e;l=Yd(u,l)}r.push(l)}return r}function NY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Up(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=_Y(e,r,i),u=l.length,d=f=>{if(a&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Cd(t[p],t[p+1],f);return l[p](g)};return n?f=>d(Zo(t[0],t[o-1],f)):d}function PY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Cd(0,e,r);t.push(ln(n,1,i))}}function IY(t){const e=[0];return PY(e,t.length-1),e}function DY(t,e){return t.map(n=>n*e)}function OY(t,e){return t.map(()=>e||iM).splice(0,t.length-1)}function Ju({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=qG(r)?r.map(K2):K2(r),o={done:!1,value:e[0]},a=DY(n&&n.length===e.length?n:IY(e),t),l=NY(a,e,{ease:Array.isArray(i)?i:OY(e,i)});return{calculatedDuration:t,next:u=>(o.value=l(u),o.done=u>=t,o)}}const jY=t=>t!==null;function cS(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(jY),l=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const RY={decay:Cb,inertia:Cb,tween:Ju,keyframes:Ju,spring:Kp};function yM(t){typeof t.type=="string"&&(t.type=RY[t.type])}class uS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MY=t=>t/100;class dS extends uS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Kr.now()&&this.tick(Kr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yM(e);const{type:n=Ju,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:l}=e;const u=n||Ju;u!==Ju&&typeof l[0]!="number"&&(this.mixKeyframes=Yd(MY,pM(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=lS(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,N=r;if(p){const R=Math.min(this.currentTime,i)/l;let F=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&F--,F=Math.min(F,p+1),!!(F%2)&&(g==="reverse"?(O=1-O,y&&(O-=y/l)):g==="mirror"&&(N=a)),k=Zo(0,1,O)*l}const _=C?{done:!1,value:f[0]}:N.next(k);o&&(_.value=o(_.value));let{done:P}=_;!C&&u!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return D&&v!==Cb&&(_.value=cS(f,this.options,b,this.speed)),w&&w(_.value),D&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return So(this.calculatedDuration)}get time(){return So(this.currentTime)}set time(e){var n;e=Co(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Kr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=So(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=xY,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function BY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,Sb=t=>{const e=ks(Math.atan2(t[1],t[0]));return Eb(e)},FY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Sb,rotateZ:Sb,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Eb=t=>(t=t%360,t<0&&(t+=360),t),Q2=Sb,X2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),LY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X2,scaleY:J2,scale:t=>(X2(t)+J2(t))/2,rotateX:t=>Eb(ks(Math.atan2(t[6],t[5]))),rotateY:t=>Eb(ks(Math.atan2(-t[2],t[0]))),rotateZ:Q2,rotate:Q2,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ab(t){return t.includes("scale")?1:0}function kb(t,e){if(!t||t==="none")return Ab(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=LY,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FY,i=l}if(!i)return Ab(e);const o=r[e],a=i[1].split(",").map(UY);return typeof o=="function"?o(a):a[o]}const $Y=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return kb(n,e)};function UY(t){return parseFloat(t.trim())}const Oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(Oc),Z2=t=>t===Dc||t===rt,HY=new Set(["x","y","z"]),zY=Oc.filter(t=>!HY.has(t));function KY(t){const e=[];return zY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kb(e,"x"),y:(t,{transform:e})=>kb(e,"y")};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const Fs=new Set;let Tb=!1,_b=!1,Nb=!1;function vM(){if(_b){const t=Array.from(Fs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=KY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var l;(l=r.getValue(o))==null||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_b=!1,Tb=!1,Fs.forEach(t=>t.complete(Nb)),Fs.clear()}function xM(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_b=!0)})}function qY(){Nb=!0,xM(),vM(),Nb=!1}class fS{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Fs.add(this),Tb||(Tb=!0,cn.read(xM),cn.resolveKeyframes(vM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}BY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fs.delete(this)}cancel(){this.state==="scheduled"&&(Fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VY=t=>t.startsWith("--");function WY(t,e,n){VY(e)?t.style.setProperty(e,n):t.style[e]=n}const GY=ZC(()=>window.ScrollTimeline!==void 0),YY={};function QY(t,e){const n=ZC(t);return()=>YY[e]??n()}const wM=QY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function bM(t,e){if(t)return typeof t=="function"?wM()?mM(t,e):"ease-out":oM(t)?zu(t):Array.isArray(t)?t.map(n=>bM(n,e)||eN.easeOut):eN[t]}function XY(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const p=bM(l,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function CM(t){return typeof t=="function"&&"applyToOptions"in t}function JY({type:t,...e}){return CM(t)&&wM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZY extends uS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Up(typeof e.type!="string");const d=JY(e);this.animation=XY(n,r,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=cS(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):WY(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return So(Number(e))}get time(){return So(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Co(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&GY()?(this.animation.timeline=e,Ii):n(this)}}const SM={anticipate:tM,backInOut:eM,circInOut:rM};function eQ(t){return t in SM}function tQ(t){typeof t.ease=="string"&&eQ(t.ease)&&(t.ease=SM[t.ease])}const tN=10;class nQ extends ZY{constructor(e){tQ(e),yM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new dS({...a,autoplay:!1}),u=Co(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-tN).value,l.sample(u).value,tN),l.stop()}}const nN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ya.test(t)||t==="0")&&!t.startsWith("url("));function rQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iQ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=nN(i,e),l=nN(o,e);return!a||!l?!1:rQ(t)||(n==="spring"||CM(n))&&r}function hS(t){return W4(t)&&"offsetHeight"in t}const oQ=new Set(["opacity","clipPath","filter","transform"]),aQ=ZC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sQ(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!hS((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return aQ()&&n&&oQ.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const lQ=40;class cQ extends uS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:u,motionValue:d,element:f,...p}){var v;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Kr.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:u,motionValue:d,element:f,...p},y=(f==null?void 0:f.KeyframeResolver)||fS;this.keyframeResolver=new y(l,(w,b,E)=>this.onKeyframesResolved(w,b,g,!E),u,d,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Kr.now(),iQ(e,o,a,l)||((ea.instantAnimations||!u)&&(f==null||f(cS(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>lQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&sQ(g)?new nQ({...g,element:g.motionValue.owner.current}):new dS(g);y.finished.then(()=>this.notifyFinished()).catch(Ii),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dQ(t){const e=uQ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function EM(t,e,n=1){const[r,i]=dQ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return V4(a)?parseFloat(a):a}return iS(i)?EM(i,e,n+1):i}function pS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const AM=new Set(["width","height","top","left","right","bottom",...Oc]),fQ={test:t=>t==="auto",parse:t=>t},kM=t=>e=>e.test(t),TM=[Dc,rt,Eo,Oa,rY,nY,fQ],rN=t=>TM.find(kM(t));function hQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||G4(t):!0}const pQ=new Set(["brightness","contrast","saturate","opacity"]);function mQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oS)||[];if(!r)return t;const i=n.replace(r,"");let o=pQ.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const gQ=/\b([a-z-]*)\(.*?\)/gu,Pb={...Ya,getAnimatableNone:t=>{const e=t.match(gQ);return e?e.map(mQ).join(" "):t}},iN={...Dc,transform:Math.round},yQ={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Bh,scaleX:Bh,scaleY:Bh,scaleZ:Bh,skew:Oa,skewX:Oa,skewY:Oa,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Sd,originX:q2,originY:q2,originZ:rt},mS={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt,...yQ,zIndex:iN,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:iN},vQ={...mS,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:Pb,WebkitFilter:Pb},_M=t=>vQ[t];function NM(t,e){let n=_M(t);return n!==Pb&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xQ=new Set(["auto","none","0"]);function wQ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!xQ.has(o)&&Ed(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=NM(n,i)}class bQ extends fS{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),iS(d))){const f=EM(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!AM.has(r)||e.length!==2)return;const[i,o]=e,a=rN(i),l=rN(o);if(a!==l)if(Z2(a)&&Z2(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Bs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||hQ(e[i]))&&r.push(i);r.length&&wQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Bs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function CQ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const PM=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oN=30,SQ=t=>!isNaN(parseFloat(t));class EQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var a,l;const o=Kr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Kr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new eS);const r=this.events[e].add(n);return e==="change"?()=>{r(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oN);return Y4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(t,e){return new EQ(t,e)}const{schedule:gS,cancel:Gpe}=aM(queueMicrotask,!1),zi={x:!1,y:!1};function IM(){return zi.x||zi.y}function AQ(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function DM(t,e){const n=CQ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function aN(t){return!(t.pointerType==="touch"||IM())}function kQ(t,e,n={}){const[r,i,o]=DM(t,n),a=l=>{if(!aN(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const f=p=>{aN(p)&&(d(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const OM=(t,e)=>e?t===e?!0:OM(t,e.parentElement):!1,yS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _Q(t){return TQ.has(t.tagName)||t.tabIndex!==-1}const V0=new WeakSet;function sN(t){return e=>{e.key==="Enter"&&t(e)}}function Gv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sN(()=>{if(V0.has(n))return;Gv(n,"down");const i=sN(()=>{Gv(n,"up")}),o=()=>Gv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lN(t){return yS(t)&&!IM()}function PQ(t,e,n={}){const[r,i,o]=DM(t,n),a=l=>{const u=l.currentTarget;if(!lN(l))return;V0.add(u);const d=e(u,l),f=(y,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),V0.has(u)&&V0.delete(u),lN(y)&&typeof d=="function"&&d(y,{success:v})},p=y=>{f(y,u===window||u===document||n.useGlobalTarget||OM(u,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),hS(l)&&(l.addEventListener("focus",d=>NQ(d,i)),!_Q(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function jM(t){return W4(t)&&"ownerSVGElement"in t}function IQ(t){return jM(t)&&t.tagName==="svg"}const br=t=>!!(t&&t.getVelocity),DQ=[...TM,Dn,Ya],OQ=t=>DQ.find(kM(t)),vS=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class jQ extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=hS(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RQ({children:t,isPresent:e,anchorX:n}){const r=S.useId(),i=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(vS);return S.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:p}=o.current;if(e||!i.current||!l||!u)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),h.jsx(jQ,{isPresent:e,childRef:i,sizeRef:o,children:S.cloneElement(t,{ref:i})})}const MQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:l})=>{const u=YC(BQ),d=S.useId();let f=!0,p=S.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return o&&f&&(p={...p}),S.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=h.jsx(RQ,{isPresent:n,anchorX:l,children:t})),h.jsx(tg.Provider,{value:p,children:t})};function BQ(){return new Map}function RM(t=!0){const e=S.useContext(tg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=S.useId();S.useEffect(()=>{if(t)return i(o)},[t]);const a=S.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const Fh=t=>t.key||"";function cN(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const xo=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:l="left"})=>{const[u,d]=RM(a),f=S.useMemo(()=>cN(t),[t]),p=a&&!u?[]:f.map(Fh),g=S.useRef(!0),y=S.useRef(f),v=YC(()=>new Map),[w,b]=S.useState(f),[E,C]=S.useState(f);q4(()=>{g.current=!1,y.current=f;for(let _=0;_<E.length;_++){const P=Fh(E[_]);p.includes(P)?v.delete(P):v.get(P)!==!0&&v.set(P,!1)}},[E,p.length,p.join("-")]);const k=[];if(f!==w){let _=[...f];for(let P=0;P<E.length;P++){const D=E[P],R=Fh(D);p.includes(R)||(_.splice(P,0,D),k.push(D))}return o==="wait"&&k.length&&(_=k),C(cN(_)),b(f),null}const{forceRender:N}=S.useContext(GC);return h.jsx(h.Fragment,{children:E.map(_=>{const P=Fh(_),D=a&&!u?!1:f===E||p.includes(P),R=()=>{if(v.has(P))v.set(P,!0);else return;let F=!0;v.forEach(O=>{O||(F=!1)}),F&&(N==null||N(),C(y.current),a&&(d==null||d()),r&&r())};return h.jsx(MQ,{isPresent:D,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:D?void 0:R,anchorX:l,children:_},P)})})},MM=S.createContext({strict:!1}),uN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dc={};for(const t in uN)dc[t]={isEnabled:e=>uN[t].some(n=>!!e[n])};function FQ(t){for(const e in t)dc[e]={...dc[e],...t[e]}}const LQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LQ.has(t)}let BM=t=>!qp(t);function $Q(t){typeof t=="function"&&(BM=e=>e.startsWith("on")?!qp(e):t(e))}try{$Q(require("@emotion/is-prop-valid").default)}catch{}function UQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(BM(i)||n===!0&&qp(i)||!e&&!qp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function HQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ng=S.createContext({});function rg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ad(t){return typeof t=="string"||Array.isArray(t)}const xS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wS=["initial",...xS];function ig(t){return rg(t.animate)||wS.some(e=>Ad(t[e]))}function FM(t){return!!(ig(t)||t.variants)}function zQ(t,e){if(ig(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ad(n)?n:void 0,animate:Ad(r)?r:void 0}}return t.inherit!==!1?e:{}}function KQ(t){const{initial:e,animate:n}=zQ(t,S.useContext(ng));return S.useMemo(()=>({initial:e,animate:n}),[dN(e),dN(n)])}function dN(t){return Array.isArray(t)?t.join(" "):t}const qQ=Symbol.for("motionComponentSymbol");function ql(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VQ(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ql(n)&&(n.current=r))},[e])}const bS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WQ="framerAppearId",LM="data-"+bS(WQ),$M=S.createContext({});function GQ(t,e,n,r,i){var w,b;const{visualElement:o}=S.useContext(ng),a=S.useContext(MM),l=S.useContext(tg),u=S.useContext(vS).reducedMotion,d=S.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=S.useContext($M);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&YQ(d.current,n,i,p);const g=S.useRef(!1);S.useInsertionEffect(()=>{f&&g.current&&f.update(n,l)});const y=n[LM],v=S.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return q4(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),gS.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,y)}),v.current=!1))}),f}function YQ(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UM(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&ql(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function UM(t){if(t)return t.options.allowProjection!==!1?t.projection:UM(t.parent)}function QQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&FQ(t);function o(l,u){let d;const f={...S.useContext(vS),...l,layoutId:XQ(l)},{isStatic:p}=f,g=KQ(l),y=r(l,p);if(!p&&QC){JQ();const v=ZQ(f);d=v.MeasureLayout,g.visualElement=GQ(i,y,f,e,v.ProjectionNode)}return h.jsxs(ng.Provider,{value:g,children:[d&&g.visualElement?h.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,l,VQ(y,g.visualElement,u),y,p,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=S.forwardRef(o);return a[qQ]=i,a}function XQ({layoutId:t}){const e=S.useContext(GC).id;return e&&t!==void 0?e+"-"+t:t}function JQ(t,e){S.useContext(MM).strict}function ZQ(t){const{drag:e,layout:n}=dc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const kd={};function eX(t){for(const e in t)kd[e]=t[e],rS(e)&&(kd[e].isCSSVariable=!0)}function HM(t,{layout:e,layoutId:n}){return jc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kd[t]||t==="opacity")}const tX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nX=Oc.length;function rX(t,e,n){let r="",i=!0;for(let o=0;o<nX;o++){const a=Oc[o],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=PM(l,mS[a]);if(!u){i=!1;const f=tX[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function CS(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,l=!1;for(const u in e){const d=e[u];if(jc.has(u)){a=!0;continue}else if(rS(u)){i[u]=d;continue}else{const f=PM(d,mS[u]);u.startsWith("origin")?(l=!0,o[u]=f):r[u]=f}}if(e.transform||(a||n?r.transform=rX(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;r.transformOrigin=`${u} ${d} ${f}`}}const SS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zM(t,e,n){for(const r in e)!br(e[r])&&!HM(r,n)&&(t[r]=e[r])}function iX({transformTemplate:t},e){return S.useMemo(()=>{const n=SS();return CS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oX(t,e){const n=t.style||{},r={};return zM(r,n,t),Object.assign(r,iX(t,e)),r}function aX(t,e){const n={},r=oX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sX={offset:"stroke-dashoffset",array:"stroke-dasharray"},lX={offset:"strokeDashoffset",array:"strokeDasharray"};function cX(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?sX:lX;t[o.offset]=rt.transform(-r);const a=rt.transform(e),l=rt.transform(n);t[o.array]=`${a} ${l}`}function KM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...l},u,d,f){if(CS(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&cX(p,i,o,a,!1)}const qM=()=>({...SS(),attrs:{}}),VM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uX(t,e,n,r){const i=S.useMemo(()=>{const o=qM();return KM(o,e,VM(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zM(o,t.style,t),i.style={...o,...i.style}}return i}const dX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ES(t){return typeof t!="string"||t.includes("-")?!1:!!(dX.indexOf(t)>-1||/[A-Z]/u.test(t))}function fX(t=!1){return(n,r,i,{latestValues:o},a)=>{const u=(ES(n)?uX:aX)(r,o,a,n),d=UQ(r,typeof n=="string",t),f=n!==S.Fragment?{...d,...u,ref:i}:{},{children:p}=r,g=S.useMemo(()=>br(p)?p.get():p,[p]);return S.createElement(n,{...f,children:g})}}function fN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function AS(t,e,n,r){if(typeof e=="function"){const[i,o]=fN(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=fN(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function W0(t){return br(t)?t.get():t}function hX({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:pX(n,r,i,t),renderState:e()}}const WM=t=>(e,n)=>{const r=S.useContext(ng),i=S.useContext(tg),o=()=>hX(t,e,r,i);return n?o():YC(o)};function pX(t,e,n,r){const i={},o=r(t,{});for(const g in o)i[g]=W0(o[g]);let{initial:a,animate:l}=t;const u=ig(t),d=FM(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!rg(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const v=AS(t,g[y]);if(v){const{transitionEnd:w,transition:b,...E}=v;for(const C in E){let k=E[C];if(Array.isArray(k)){const N=f?k.length-1:0;k=k[N]}k!==null&&(i[C]=k)}for(const C in w)i[C]=w[C]}}}return i}function kS(t,e,n){var o;const{style:r}=t,i={};for(const a in r)(br(r[a])||e.style&&br(e.style[a])||HM(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const mX={useVisualState:WM({scrapeMotionValuesFromProps:kS,createRenderState:SS})};function GM(t,e,n){const r=kS(t,e,n);for(const i in t)if(br(t[i])||br(e[i])){const o=Oc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const gX={useVisualState:WM({scrapeMotionValuesFromProps:GM,createRenderState:qM})};function yX(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...ES(r)?gX:mX,preloadedFeatures:t,useRender:fX(i),createVisualElement:e,Component:r};return QQ(a)}}function Td(t,e,n){const r=t.getProps();return AS(r,e,n!==void 0?n:r.custom,t)}const Ib=t=>Array.isArray(t);function vX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uc(n))}function xX(t){return Ib(t)?t[t.length-1]||0:t}function wX(t,e){const n=Td(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const l=xX(o[a]);vX(t,a,l)}}function bX(t){return!!(br(t)&&t.add)}function Db(t,e){const n=t.getValue("willChange");if(bX(n))return n.add(e);if(!n&&ea.WillChange){const r=new ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function YM(t){return t.props[LM]}const CX=t=>t!==null;function SX(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(CX),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const EX={type:"spring",stiffness:500,damping:25,restSpeed:10},AX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kX={type:"keyframes",duration:.8},TX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_X=(t,{keyframes:e})=>e.length>2?kX:jc.has(t)?t.startsWith("scale")?AX(e[1]):EX:TX;function NX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const TS=(t,e,n,r={},i,o)=>a=>{const l=pS(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Co(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};NX(l)||Object.assign(f,_X(t,f)),f.duration&&(f.duration=Co(f.duration)),f.repeatDelay&&(f.repeatDelay=Co(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(ea.instantAnimations||ea.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!o&&e.get()!==void 0){const g=SX(f.keyframes,l);if(g!==void 0){cn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new dS(f):new cQ(f)};function PX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function QM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&PX(d,f))continue;const y={delay:n,...pS(o||{},f)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const E=YM(t);if(E){const C=window.MotionHandoffAnimation(E,f,cn);C!==null&&(y.startTime=C,w=!0)}}Db(t,f),p.start(TS(f,p,g,t.shouldReduceMotion&&AM.has(f)?{type:!1}:y,t,w));const b=p.animation;b&&u.push(b)}return a&&Promise.all(u).then(()=>{cn.update(()=>{a&&wX(t,a)})}),u}function Ob(t,e,n={}){var u;const r=Td(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(QM(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return IX(t,e,f+d,p,g,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function IX(t,e,n=0,r=0,i=1,o){const a=[],l=(t.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(DX).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(Ob(d,e,{...o,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function DX(t,e){return t.sortNodePosition(e)}function OX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ob(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ob(t,e,n);else{const i=typeof e=="function"?Td(t,e,n.custom):e;r=Promise.all(QM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function XM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const jX=wS.length;function JM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jX;n++){const r=wS[n],i=t.props[r];(Ad(i)||i===!1)&&(e[r]=i)}return e}const RX=[...xS].reverse(),MX=xS.length;function BX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OX(t,n,r)))}function FX(t){let e=BX(t),n=hN(),r=!0;const i=u=>(d,f)=>{var g;const p=Td(t,f,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:y,transitionEnd:v,...w}=p;d={...d,...w,...v}}return d};function o(u){e=u(t)}function a(u){const{props:d}=t,f=JM(t.parent)||{},p=[],g=new Set;let y={},v=1/0;for(let b=0;b<MX;b++){const E=RX[b],C=n[E],k=d[E]!==void 0?d[E]:f[E],N=Ad(k),_=E===u?C.isActive:null;_===!1&&(v=b);let P=k===f[E]&&k!==d[E]&&N;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),C.protectedKeys={...y},!C.isActive&&_===null||!k&&!C.prevProp||rg(k)||typeof k=="boolean")continue;const D=LX(C.prevProp,k);let R=D||E===u&&C.isActive&&!P&&N||b>v&&N,F=!1;const O=Array.isArray(k)?k:[k];let B=O.reduce(i(E),{});_===!1&&(B={});const{prevResolvedValues:$={}}=C,L={...$,...B},H=ie=>{R=!0,g.has(ie)&&(F=!0,g.delete(ie)),C.needsAnimating[ie]=!0;const W=t.getValue(ie);W&&(W.liveStyle=!1)};for(const ie in L){const W=B[ie],Q=$[ie];if(y.hasOwnProperty(ie))continue;let ee=!1;Ib(W)&&Ib(Q)?ee=!XM(W,Q):ee=W!==Q,ee?W!=null?H(ie):g.add(ie):W!==void 0&&g.has(ie)?H(ie):C.protectedKeys[ie]=!0}C.prevProp=k,C.prevResolvedValues=B,C.isActive&&(y={...y,...B}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(P&&D)||F)&&p.push(...O.map(ie=>({animation:ie,options:{type:E}})))}if(g.size){const b={};if(typeof d.initial!="boolean"){const E=Td(t,Array.isArray(d.initial)?d.initial[0]:d.initial);E&&E.transition&&(b.transition=E.transition)}g.forEach(E=>{const C=t.getBaseTarget(E),k=t.getValue(E);k&&(k.liveStyle=!0),b[E]=C??null}),p.push({animation:b})}let w=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(p):Promise.resolve()}function l(u,d){var p;if(n[u].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(u,d)}),n[u].isActive=d;const f=a(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=hN(),r=!0}}}function LX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XM(e,t):!1}function gs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hN(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class Za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $X extends Za{constructor(e){super(e),e.animationState||(e.animationState=FX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UX=0;class HX extends Za{constructor(){super(...arguments),this.id=UX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zX={animation:{Feature:$X},exit:{Feature:HX}};function _d(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jd(t){return{point:{x:t.pageX,y:t.pageY}}}const KX=t=>e=>yS(e)&&t(e,Jd(e));function Zu(t,e,n,r){return _d(t,e,KX(n),r)}function ZM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const e3=1e-4,WX=1-e3,GX=1+e3,t3=.01,YX=0-t3,QX=0+t3;function Pr(t){return t.max-t.min}function XX(t,e,n){return Math.abs(t-e)<=n}function pN(t,e,n,r=.5){t.origin=r,t.originPoint=ln(e.min,e.max,t.origin),t.scale=Pr(n)/Pr(e),t.translate=ln(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WX&&t.scale<=GX||isNaN(t.scale))&&(t.scale=1),(t.translate>=YX&&t.translate<=QX||isNaN(t.translate))&&(t.translate=0)}function ed(t,e,n,r){pN(t.x,e.x,n.x,r?r.originX:void 0),pN(t.y,e.y,n.y,r?r.originY:void 0)}function mN(t,e,n){t.min=n.min+e.min,t.max=t.min+Pr(e)}function JX(t,e,n){mN(t.x,e.x,n.x),mN(t.y,e.y,n.y)}function gN(t,e,n){t.min=e.min-n.min,t.max=t.min+Pr(e)}function td(t,e,n){gN(t.x,e.x,n.x),gN(t.y,e.y,n.y)}const yN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vl=()=>({x:yN(),y:yN()}),vN=()=>({min:0,max:0}),vn=()=>({x:vN(),y:vN()});function _i(t){return[t("x"),t("y")]}function Yv(t){return t===void 0||t===1}function jb({scale:t,scaleX:e,scaleY:n}){return!Yv(t)||!Yv(e)||!Yv(n)}function xs(t){return jb(t)||n3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function n3(t){return xN(t.x)||xN(t.y)}function xN(t){return t&&t!=="0%"}function Vp(t,e,n){const r=t-n,i=e*r;return n+i}function wN(t,e,n,r,i){return i!==void 0&&(t=Vp(t,i,r)),Vp(t,n,r)+e}function Rb(t,e=0,n=1,r,i){t.min=wN(t.min,e,n,r,i),t.max=wN(t.max,e,n,r,i)}function r3(t,{x:e,y:n}){Rb(t.x,e.translate,e.scale,e.originPoint),Rb(t.y,n.translate,n.scale,n.originPoint)}const bN=.999999999999,CN=1.0000000000001;function ZX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let l=0;l<i;l++){o=n[l],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Gl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,r3(t,a)),r&&xs(o.latestValues)&&Gl(t,o.latestValues))}e.x<CN&&e.x>bN&&(e.x=1),e.y<CN&&e.y>bN&&(e.y=1)}function Wl(t,e){t.min=t.min+e,t.max=t.max+e}function SN(t,e,n,r,i=.5){const o=ln(t.min,t.max,i);Rb(t,e,n,o,r)}function Gl(t,e){SN(t.x,e.x,e.scaleX,e.scale,e.originX),SN(t.y,e.y,e.scaleY,e.scale,e.originY)}function i3(t,e){return ZM(VX(t.getBoundingClientRect(),e))}function eJ(t,e,n){const r=i3(t,n),{scroll:i}=e;return i&&(Wl(r.x,i.offset.x),Wl(r.y,i.offset.y)),r}const o3=({current:t})=>t?t.ownerDocument.defaultView:null,EN=(t,e)=>Math.abs(t-e);function tJ(t,e){const n=EN(t.x,e.x),r=EN(t.y,e.y);return Math.sqrt(n**2+r**2)}class a3{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Xv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=tJ(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:v}=p,{timestamp:w}=or;this.history.push({...v,timestamp:w});const{onStart:b,onMove:E}=this.handlers;g||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Qv(g,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xv(p.type==="pointercancel"?this.lastMoveEventInfo:Qv(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,b),v&&v(p,b)},!yS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Jd(e),l=Qv(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=or;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Xv(l,this.history)),this.removeListeners=Yd(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ga(this.updatePoint)}}function Qv(t,e){return e?{point:e(t.point)}:t}function AN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xv({point:t},e){return{point:t,delta:AN(t,s3(e)),offset:AN(t,nJ(e)),velocity:rJ(e,.1)}}function nJ(t){return t[0]}function s3(t){return t[t.length-1]}function rJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=s3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Co(e)));)n--;if(!r)return{x:0,y:0};const o=So(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function iJ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ln(n,t,r.max):Math.min(t,n)),t}function kN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oJ(t,{top:e,left:n,bottom:r,right:i}){return{x:kN(t.x,n,i),y:kN(t.y,e,r)}}function TN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aJ(t,e){return{x:TN(t.x,e.x),y:TN(t.y,e.y)}}function sJ(t,e){let n=.5;const r=Pr(t),i=Pr(e);return i>r?n=Cd(e.min,e.max-r,t.min):r>i&&(n=Cd(t.min,t.max-i,e.min)),Zo(0,1,n)}function lJ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mb=.35;function cJ(t=Mb){return t===!1?t=0:t===!0&&(t=Mb),{x:_N(t,"left","right"),y:_N(t,"top","bottom")}}function _N(t,e,n){return{min:NN(t,e),max:NN(t,n)}}function NN(t,e){return typeof t=="number"?t:t[e]||0}const uJ=new WeakMap;class dJ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jd(f).point)},o=(f,p)=>{const{drag:g,dragPropagation:y,onDragStart:v}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AQ(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(b=>{let E=this.getAxisMotionValue(b).get()||0;if(Eo.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[b];k&&(E=Pr(k)*(parseFloat(E)/100))}}this.originPoint[b]=E}),v&&cn.postRender(()=>v(f,p)),Db(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(f,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=p;if(y&&this.currentDirection===null){this.currentDirection=fJ(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>_i(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new a3(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:o3(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&cn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Lh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=iJ(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&ql(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=oJ(r.layoutBox,e):this.constraints=!1,this.elastic=cJ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_i(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=lJ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ql(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=eJ(r,i.root,this.visualElement.getTransformPagePoint());let a=aJ(i.layout.layoutBox,o);if(n){const l=n(qX(a));this.hasMutatedConstraints=!!l,l&&(a=ZM(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=_i(f=>{if(!Lh(f,n,this.currentDirection))return;let p=u[f]||{};a&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Db(this.visualElement,e),r.start(TS(e,r,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:r}=this.getProps();if(!Lh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];o.set(e[n]-ln(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ql(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_i(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=sJ({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_i(a=>{if(!Lh(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(ln(u,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;uJ.set(this.visualElement,this);const e=this.visualElement.current,n=Zu(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();ql(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),cn.read(r);const a=_d(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=Mb,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Lh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fJ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hJ extends Za{constructor(e){super(e),this.removeGroupControls=Ii,this.removeListeners=Ii,this.controls=new dJ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const PN=t=>(e,n)=>{t&&cn.postRender(()=>t(e,n))};class pJ extends Za{constructor(){super(...arguments),this.removePointerDownListener=Ii}onPointerDown(e){this.session=new a3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PN(e),onStart:PN(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&cn.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const G0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(rt.test(t))t=parseFloat(t);else return t;const n=IN(t,e.target.x),r=IN(t,e.target.y);return`${n}% ${r}%`}},mJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ya.parse(t);if(i.length>5)return r;const o=Ya.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=u;const d=ln(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class gJ extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;eX(yJ),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),G0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||cn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l3(t){const[e,n]=RM(),r=S.useContext(GC);return h.jsx(gJ,{...t,layoutGroup:r,switchLayoutGroup:S.useContext($M),isPresent:e,safeToRemove:n})}const yJ={borderRadius:{...Nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nu,borderTopRightRadius:Nu,borderBottomLeftRadius:Nu,borderBottomRightRadius:Nu,boxShadow:mJ};function vJ(t,e,n){const r=br(t)?t:uc(t);return r.start(TS("",r,e,n)),r.animation}const xJ=(t,e)=>t.depth-e.depth;class wJ{constructor(){this.children=[],this.isDirty=!1}add(e){XC(this.children,e),this.isDirty=!0}remove(e){JC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xJ),this.isDirty=!1,this.children.forEach(e)}}function bJ(t,e){const n=Kr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ga(r),t(o-e))};return cn.setup(r,!0),()=>Ga(r)}const c3=["TopLeft","TopRight","BottomLeft","BottomRight"],CJ=c3.length,DN=t=>typeof t=="string"?parseFloat(t):t,ON=t=>typeof t=="number"||rt.test(t);function SJ(t,e,n,r,i,o){i?(t.opacity=ln(0,n.opacity??1,EJ(r)),t.opacityExit=ln(e.opacity??1,0,AJ(r))):o&&(t.opacity=ln(e.opacity??1,n.opacity??1,r));for(let a=0;a<CJ;a++){const l=`border${c3[a]}Radius`;let u=jN(e,l),d=jN(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||ON(u)===ON(d)?(t[l]=Math.max(ln(DN(u),DN(d),r),0),(Eo.test(d)||Eo.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=ln(e.rotate||0,n.rotate||0,r))}function jN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EJ=u3(0,.5,nM),AJ=u3(.5,.95,Ii);function u3(t,e,n){return r=>r<t?0:r>e?1:n(Cd(t,e,r))}function RN(t,e){t.min=e.min,t.max=e.max}function Ei(t,e){RN(t.x,e.x),RN(t.y,e.y)}function MN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function BN(t,e,n,r,i){return t-=e,t=Vp(t,1/n,r),i!==void 0&&(t=Vp(t,1/i,r)),t}function kJ(t,e=0,n=1,r=.5,i,o=t,a=t){if(Eo.test(e)&&(e=parseFloat(e),e=ln(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=ln(o.min,o.max,r);t===o&&(l-=e),t.min=BN(t.min,e,n,l,i),t.max=BN(t.max,e,n,l,i)}function FN(t,e,[n,r,i],o,a){kJ(t,e[n],e[r],e[i],e.scale,o,a)}const TJ=["x","scaleX","originX"],_J=["y","scaleY","originY"];function LN(t,e,n,r){FN(t.x,e,TJ,n?n.x:void 0,r?r.x:void 0),FN(t.y,e,_J,n?n.y:void 0,r?r.y:void 0)}function $N(t){return t.translate===0&&t.scale===1}function d3(t){return $N(t.x)&&$N(t.y)}function UN(t,e){return t.min===e.min&&t.max===e.max}function NJ(t,e){return UN(t.x,e.x)&&UN(t.y,e.y)}function HN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function f3(t,e){return HN(t.x,e.x)&&HN(t.y,e.y)}function zN(t){return Pr(t.x)/Pr(t.y)}function KN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PJ{constructor(){this.members=[]}add(e){XC(this.members,e),e.scheduleRender()}remove(e){if(JC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IJ(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Jv=["","X","Y","Z"],DJ={visibility:"hidden"},OJ=1e3;let jJ=0;function Zv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function h3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",cn,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&h3(r)}function p3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=jJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BJ),this.nodes.forEach(HJ),this.nodes.forEach(zJ),this.nodes.forEach(FJ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new wJ)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new eS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=jM(a)&&!IQ(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=bJ(p,250),G0.hasAnimatedSinceResize&&(G0.hasAnimatedSinceResize=!1,this.nodes.forEach(VN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||GJ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=d.getProps(),E=!this.targetLayout||!f3(this.targetLayout,y),C=!p&&g;if(this.options.layoutRoot||this.resumeFrom||C||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...pS(v,"layout"),onPlay:w,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,C)}else p||VN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KJ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qN);return}this.isUpdating||this.nodes.forEach($J),this.isUpdating=!1,this.nodes.forEach(UJ),this.nodes.forEach(RJ),this.nodes.forEach(MJ),this.clearAllSnapshots();const l=Kr.now();or.delta=Zo(0,1e3/60,l-or.timestamp),or.timestamp=l,or.isProcessing=!0,zv.update.process(or),zv.preRender.process(or),zv.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LJ),this.sharedNodes.forEach(qJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pr(this.snapshot.measuredBox.x)&&!Pr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!d3(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||xs(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),YJ(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return vn();const l=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(QJ))){const{scroll:f}=this.root;f&&(Wl(l.x,f.offset.x),Wl(l.y,f.offset.y))}return l}removeElementScroll(a){var u;const l=vn();if(Ei(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ei(l,a),Wl(l.x,p.offset.x),Wl(l.y,p.offset.y))}return l}applyTransform(a,l=!1){const u=vn();Ei(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Gl(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xs(f.latestValues)&&Gl(u,f.latestValues)}return xs(this.latestValues)&&Gl(u,this.latestValues),u}removeTransform(a){const l=vn();Ei(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!xs(d.latestValues))continue;jb(d.latestValues)&&d.updateSnapshot();const f=vn(),p=d.measurePageBox();Ei(f,p),LN(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return xs(this.latestValues)&&LN(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),td(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),r3(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),td(this.relativeTargetOrigin,this.target,y.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jb(this.parent.latestValues)||n3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===or.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ei(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;ZX(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=vn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MN(this.prevProjectionDelta.x,this.projectionDelta.x),MN(this.prevProjectionDelta.y,this.projectionDelta.y)),ed(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!KN(this.projectionDelta.x,this.prevProjectionDelta.x)||!KN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vl(),this.projectionDelta=Vl(),this.projectionDeltaWithTransform=Vl()}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=Vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=vn(),y=u?u.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,b=this.getStack(),E=!b||b.members.length<=1,C=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(WJ));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const _=N/1e3;WN(p.x,a.x,_),WN(p.y,a.y,_),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(td(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VJ(this.relativeTarget,this.relativeTargetOrigin,g,_),k&&NJ(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=vn()),Ei(k,this.relativeTarget)),w&&(this.animationValues=f,SJ(f,d,this.latestValues,_,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{G0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uc(0)),this.currentAnimation=vJ(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&m3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||vn();const p=Pr(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=Pr(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Ei(l,u),Gl(l,f),ed(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new PJ),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Zv("z",a,d,this.animationValues);for(let f=0;f<Jv.length;f++)Zv(`rotate${Jv[f]}`,a,d,this.animationValues),Zv(`skew${Jv[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return DJ;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=W0(a==null?void 0:a.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=W0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=IJ(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?l.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in kd){if(f[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:b}=kd[y],E=l.transform==="none"?f[y]:v(f[y],d);if(w){const C=w.length;for(let k=0;k<C;k++)l[w[k]]=E}else b?this.options.visualElement.renderState.vars[y]=E:l[y]=E}return this.options.layoutId&&(l.pointerEvents=d===this?W0(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(qN),this.root.sharedNodes.clear()}}}function RJ(t){t.updateLayout()}function MJ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?_i(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=Pr(g);g.min=r[p].min,g.max=g.min+y}):m3(o,e.layoutBox,r)&&_i(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=Pr(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=Vl();ed(l,r,e.layoutBox);const u=Vl();a?ed(u,t.applyTransform(i,!0),e.measuredBox):ed(u,r,e.layoutBox);const d=!d3(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=vn();td(v,e.layoutBox,g.layoutBox);const w=vn();td(w,r,y.layoutBox),f3(v,w)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function BJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LJ(t){t.clearSnapshot()}function qN(t){t.clearMeasurements()}function $J(t){t.isLayoutDirty=!1}function UJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HJ(t){t.resolveTargetDelta()}function zJ(t){t.calcProjection()}function KJ(t){t.resetSkewAndRotation()}function qJ(t){t.removeLeadSnapshot()}function WN(t,e,n){t.translate=ln(e.translate,0,n),t.scale=ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GN(t,e,n,r){t.min=ln(e.min,n.min,r),t.max=ln(e.max,n.max,r)}function VJ(t,e,n,r){GN(t.x,e.x,n.x,r),GN(t.y,e.y,n.y,r)}function WJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GJ={duration:.45,ease:[.4,0,.1,1]},YN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QN=YN("applewebkit/")&&!YN("chrome/")?Math.round:Ii;function XN(t){t.min=QN(t.min),t.max=QN(t.max)}function YJ(t){XN(t.x),XN(t.y)}function m3(t,e,n){return t==="position"||t==="preserve-aspect"&&!XX(zN(e),zN(n),.2)}function QJ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const XJ=p3({attachResizeListener:(t,e)=>_d(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ex={current:void 0},g3=p3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ex.current){const t=new XJ({});t.mount(window),t.setOptions({layoutScroll:!0}),ex.current=t}return ex.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JJ={pan:{Feature:pJ},drag:{Feature:hJ,ProjectionNode:g3,MeasureLayout:l3}};function JN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&cn.postRender(()=>o(e,Jd(e)))}class ZJ extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=kQ(e,(n,r)=>(JN(this.node,r,"Start"),i=>JN(this.node,i,"End"))))}unmount(){}}class eZ extends Za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yd(_d(this.node.current,"focus",()=>this.onFocus()),_d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&cn.postRender(()=>o(e,Jd(e)))}class tZ extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=PQ(e,(n,r)=>(ZN(this.node,r,"Start"),(i,{success:o})=>ZN(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bb=new WeakMap,tx=new WeakMap,nZ=t=>{const e=Bb.get(t.target);e&&e(t)},rZ=t=>{t.forEach(nZ)};function iZ({root:t,...e}){const n=t||document;tx.has(n)||tx.set(n,{});const r=tx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rZ,{root:t,...e})),r[i]}function oZ(t,e,n){const r=iZ(e);return Bb.set(t,n),r.observe(t),()=>{Bb.delete(t),r.unobserve(t)}}const aZ={some:0,all:1};class sZ extends Za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:aZ[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(u)};return oZ(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lZ(e,n))&&this.startObserver()}unmount(){}}function lZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cZ={inView:{Feature:sZ},tap:{Feature:tZ},focus:{Feature:eZ},hover:{Feature:ZJ}},uZ={layout:{ProjectionNode:g3,MeasureLayout:l3}},Fb={current:null},y3={current:!1};function dZ(){if(y3.current=!0,!!QC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fb.current=t.matches;t.addListener(e),e()}else Fb.current=!1}const fZ=new WeakMap;function hZ(t,e,n){for(const r in e){const i=e[r],o=n[r];if(br(i))t.addValue(r,i);else if(br(o))t.addValue(r,uc(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,uc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Kr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,cn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=ig(n),this.isVariantNode=FM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];u[g]!==void 0&&br(y)&&y.set(u[g],!1)}}mount(e){this.current=e,fZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),y3.current||dZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&cn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dc){const n=dc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eP.length;r++){const i=eP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=hZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(V4(r)||G4(r))?r=parseFloat(r):!OQ(r)&&Ya.test(n)&&(r=NM(e,n)),this.setBaseTarget(e,br(r)?r.get():r)),br(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=AS(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!br(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new eS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class v3 extends pZ{constructor(){super(...arguments),this.KeyframeResolver=bQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;br(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x3(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function mZ(t){return window.getComputedStyle(t)}class gZ extends v3{constructor(){super(...arguments),this.type="html",this.renderInstance=x3}readValueFromInstance(e,n){var r;if(jc.has(n))return(r=this.projection)!=null&&r.isProjecting?Ab(n):$Y(e,n);{const i=mZ(e),o=(rS(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return i3(e,n)}build(e,n,r){CS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kS(e,n,r)}}const w3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yZ(t,e,n,r){x3(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(w3.has(i)?i:bS(i),e.attrs[i])}class vZ extends v3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jc.has(n)){const r=_M(n);return r&&r.default||0}return n=w3.has(n)?n:bS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return GM(e,n,r)}build(e,n,r){KM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){yZ(e,n,r,i)}mount(e){this.isSVGTag=VM(e.tagName),super.mount(e)}}const xZ=(t,e)=>ES(t)?new vZ(e):new gZ(e,{allowProjection:t!==S.Fragment}),wZ=yX({...zX,...cZ,...JJ,...uZ},xZ),Ie=HQ(wZ),bZ=S.createContext({openDropdown:null,setOpenDropdown:()=>{}}),ys=({value:t,options:e,onChange:n,icon:r,className:i})=>{const{openDropdown:o,setOpenDropdown:a}=S.useContext(bZ),[l,u]=S.useState(!1),d=S.useRef(null),f=S.useRef(`dropdown-${Math.random().toString(36).substr(2,9)}`).current,p=()=>{l?(u(!1),a(null)):(u(!0),a(f))};return S.useEffect(()=>{const g=y=>{d.current&&!d.current.contains(y.target)&&(u(!1),a(null))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),S.useEffect(()=>{u(o===f)},[o,f]),h.jsxs(Ie.div,{className:`relative ${i||"min-w-[150px]"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},ref:d,children:[h.jsxs("button",{onClick:p,className:"flex items-center justify-between gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500 w-full h-10",type:"button",title:t,children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r&&h.jsx(r,{size:16,className:"text-gray-500 shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:t})]}),h.jsx(Wd,{size:16,className:`text-gray-500 transition-transform shrink-0 ${l?"rotate-180":""}`})]}),h.jsx(xo,{children:l&&h.jsx(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-1 w-full max-h-60 overflow-auto bg-white border border-gray-300 rounded-lg shadow-lg z-20",children:e.map(g=>h.jsx(Ie.button,{onClick:()=>{n(g),u(!1),a(null)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 text-sm text-gray-700 first:rounded-t-lg last:rounded-b-lg",type:"button",whileHover:{backgroundColor:"#f3f4f6"},title:g,children:g},g))})})]})},Qs=({message:t})=>h.jsxs(Ie.div,{className:"flex items-center justify-center py-8 text-red-600 bg-red-50 rounded-lg border border-red-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(sl,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:t})]}),mo=async(t,e="GET",n=null,r)=>{var i,o,a,l;try{const u=await r("api");if(!u)throw new Error("Failed to acquire authentication token");const d={method:e,url:t,headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json",Accept:"application/json"},...n&&(e==="POST"||e==="PUT"||e==="PATCH")&&{data:n}},f=await ot(d);if(!((i=f.headers["content-type"])!=null&&i.includes("application/json")))throw new Error("Received non-JSON response from server");return f.data}catch(u){throw((o=u.response)==null?void 0:o.status)===401?new Error("Authentication failed. Please try logging in again."):((l=(a=u.response)==null?void 0:a.data)==null?void 0:l.message)||u.message||"An unexpected error occurred"}},CZ=(t,e)=>new Date(t,e+1,0).getDate();function b3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $t(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b3(t))&&(r&&(r+=" "),r+=e);return r}var nx={},rx={},tP;function SZ(){return tP||(tP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(rx)),rx}var ix={},nP;function C3(){return nP||(nP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(ix)),ix}var ox={},rP;function S3(){return rP||(rP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e}(ox)),ox}var ax={},iP;function _S(){return iP||(iP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",l="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const d=n[o];l?d==="\\"&&o+1<i?(o++,a+=n[o]):d===l?l="":a+=d:u?d==='"'||d==="'"?l=d:d==="]"?(u=!1,r.push(a),a=""):a+=d:d==="["?(u=!0,a&&(r.push(a),a="")):d==="."?a&&(r.push(a),a=""):a+=d,o++}return a&&r.push(a),r}t.toPath=e}(ax)),ax}var oP;function NS(){return oP||(oP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SZ(),n=C3(),r=S3(),i=_S();function o(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?o(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function a(l,u,d){if(u.length===0)return d;let f=l;for(let p=0;p<u.length;p++){if(f==null||e.isUnsafeProperty(u[p]))return d;f=f[u[p]]}return f===void 0?d:f}t.get=o}(nx)),nx}var sx,aP;function EZ(){return aP||(aP=1,sx=NS().get),sx}var AZ=EZ();const Qa=eo(AZ);var lx={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function kZ(){if(sP)return It;sP=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function k(_){if(typeof _=="object"&&_!==null){var P=_.$$typeof;switch(P){case e:switch(_=_.type,_){case u:case d:case r:case o:case i:case p:return _;default:switch(_=_&&_.$$typeof,_){case l:case f:case v:case y:case a:return _;default:return P}}case n:return P}}}function N(_){return k(_)===d}return It.AsyncMode=u,It.ConcurrentMode=d,It.ContextConsumer=l,It.ContextProvider=a,It.Element=e,It.ForwardRef=f,It.Fragment=r,It.Lazy=v,It.Memo=y,It.Portal=n,It.Profiler=o,It.StrictMode=i,It.Suspense=p,It.isAsyncMode=function(_){return N(_)||k(_)===u},It.isConcurrentMode=N,It.isContextConsumer=function(_){return k(_)===l},It.isContextProvider=function(_){return k(_)===a},It.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},It.isForwardRef=function(_){return k(_)===f},It.isFragment=function(_){return k(_)===r},It.isLazy=function(_){return k(_)===v},It.isMemo=function(_){return k(_)===y},It.isPortal=function(_){return k(_)===n},It.isProfiler=function(_){return k(_)===o},It.isStrictMode=function(_){return k(_)===i},It.isSuspense=function(_){return k(_)===p},It.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===d||_===o||_===i||_===p||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===y||_.$$typeof===a||_.$$typeof===l||_.$$typeof===f||_.$$typeof===b||_.$$typeof===E||_.$$typeof===C||_.$$typeof===w)},It.typeOf=k,It}var lP;function TZ(){return lP||(lP=1,lx.exports=kZ()),lx.exports}var _Z=TZ(),Qn=t=>t===0?0:t>0?1:-1,pi=t=>typeof t=="number"&&t!=+t,Ts=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Le=t=>(typeof t=="number"||t instanceof Number)&&!pi(t),ko=t=>Le(t)||typeof t=="string",NZ=0,fc=t=>{var e=++NZ;return"".concat(t||"").concat(e)},Or=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&typeof e!="string")return r;var o;if(Ts(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return pi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},E3=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},ja=(t,e)=>Le(t)&&Le(e)?n=>t+n*(e-t):()=>e;function PZ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Qa(r,e))===n)}var Rn=t=>t===null||typeof t>"u",Zd=t=>Rn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),IZ=["viewBox","children"],DZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cP=["points","pathLength"],cx={svg:IZ,polygon:cP,polyline:cP},PS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],OZ=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{PS.includes(i)&&(r[i]=o=>n[i](n,o))}),r},jZ=(t,e,n)=>r=>(t(e,n,r),null),og=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];PS.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=jZ(o,e,n))}),r},uP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",dP=null,ux=null,A3=t=>{if(t===dP&&Array.isArray(ux))return ux;var e=[];return S.Children.forEach(t,n=>{Rn(n)||(_Z.isFragment(n)?e=e.concat(A3(n.props.children)):e.push(n))}),ux=e,dP=t,e};function ef(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>uP(i)):r=[uP(e)],A3(t).forEach(i=>{var o=Qa(i,"type.displayName")||Qa(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var RZ=(t,e,n,r)=>{var i,o=(i=r&&(cx==null?void 0:cx[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||DZ.includes(e))||n&&PS.includes(e)},Rt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;RZ((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},MZ=["children","width","height","viewBox","className","style","title","desc"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(null,arguments)}function BZ(t,e){if(t==null)return{};var n,r,i=FZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k3=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:l,title:u,desc:d}=t,f=BZ(t,MZ),p=o||{width:r,height:i,x:0,y:0},g=$t("recharts-surface",a);return S.createElement("svg",Lb({},Rt(f,!0,"svg"),{className:g,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),S.createElement("title",null,u),S.createElement("desc",null,d),n)}),LZ=["children","className"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(null,arguments)}function $Z(t,e){if(t==null)return{};var n,r,i=UZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jr=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=$Z(t,LZ),o=$t("recharts-layer",r);return S.createElement("g",$b({className:o},Rt(i,!0),{ref:e}),n)}),HZ=S.createContext(null);function Wt(t){return function(){return t}}const T3=Math.cos,Wp=Math.sin,io=Math.sqrt,Gp=Math.PI,ag=2*Gp,Ub=Math.PI,Hb=2*Ub,ws=1e-6,zZ=Hb-ws;function _3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function KZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _3;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_3:KZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,u=r-e,d=i-n,f=a-e,p=l-n,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ws)if(!(Math.abs(p*u-d*f)>ws)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,v=i-l,w=u*u+d*d,b=y*y+v*v,E=Math.sqrt(w),C=Math.sqrt(g),k=o*Math.tan((Ub-Math.acos((w+g-b)/(2*E*C)))/2),N=k/C,_=k/E;Math.abs(N-1)>ws&&this._append`L${e+N*f},${n+N*p}`,this._append`A${o},${o},0,0,${+(p*y>f*v)},${this._x1=e+_*u},${this._y1=n+_*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,p=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ws||Math.abs(this._y1-f)>ws)&&this._append`L${d},${f}`,r&&(g<0&&(g=g%Hb+Hb),g>zZ?this._append`A${r},${r},0,1,${p},${e-l},${n-u}A${r},${r},0,1,${p},${this._x1=d},${this._y1=f}`:g>ws&&this._append`A${r},${r},0,${+(g>=Ub)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function IS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qZ(e)}function DS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N3(t){this._context=t}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sg(t){return new N3(t)}function P3(t){return t[0]}function I3(t){return t[1]}function D3(t,e){var n=Wt(!0),r=null,i=sg,o=null,a=IS(l);t=typeof t=="function"?t:t===void 0?P3:Wt(t),e=typeof e=="function"?e:e===void 0?I3:Wt(e);function l(u){var d,f=(u=DS(u)).length,p,g=!1,y;for(r==null&&(o=i(y=a())),d=0;d<=f;++d)!(d<f&&n(p=u[d],d,u))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,d,u),+e(p,d,u));if(y)return o=null,y+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Wt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Wt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Wt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function $h(t,e,n){var r=null,i=Wt(!0),o=null,a=sg,l=null,u=IS(d);t=typeof t=="function"?t:t===void 0?P3:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?I3:Wt(+n);function d(p){var g,y,v,w=(p=DS(p)).length,b,E=!1,C,k=new Array(w),N=new Array(w);for(o==null&&(l=a(C=u())),g=0;g<=w;++g){if(!(g<w&&i(b=p[g],g,p))===E)if(E=!E)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=g-1;v>=y;--v)l.point(k[v],N[v]);l.lineEnd(),l.areaEnd()}E&&(k[g]=+t(b,g,p),N[g]=+e(b,g,p),l.point(r?+r(b,g,p):k[g],n?+n(b,g,p):N[g]))}if(C)return l=null,C+""||null}function f(){return D3().defined(i).curve(a).context(o)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Wt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Wt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Wt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Wt(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Wt(!!p),d):i},d.curve=function(p){return arguments.length?(a=p,o!=null&&(l=a(o)),d):a},d.context=function(p){return arguments.length?(p==null?o=l=null:l=a(o=p),d):o},d}class O3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VZ(t){return new O3(t,!0)}function WZ(t){return new O3(t,!1)}const OS={draw(t,e){const n=io(e/Gp);t.moveTo(n,0),t.arc(0,0,n,0,ag)}},GZ={draw(t,e){const n=io(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j3=io(1/3),YZ=j3*2,QZ={draw(t,e){const n=io(e/YZ),r=n*j3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},XZ={draw(t,e){const n=io(e),r=-n/2;t.rect(r,r,n,n)}},JZ=.8908130915292852,R3=Wp(Gp/10)/Wp(7*Gp/10),ZZ=Wp(ag/10)*R3,eee=-T3(ag/10)*R3,tee={draw(t,e){const n=io(e*JZ),r=ZZ*n,i=eee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ag*o/5,l=T3(a),u=Wp(a);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},dx=io(3),nee={draw(t,e){const n=-io(e/(dx*3));t.moveTo(0,n*2),t.lineTo(-dx*n,-n),t.lineTo(dx*n,-n),t.closePath()}},Ai=-.5,ki=io(3)/2,zb=1/io(12),ree=(zb/2+1)*3,iee={draw(t,e){const n=io(e/ree),r=n/2,i=n*zb,o=r,a=n*zb+n,l=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(l,u),t.lineTo(Ai*r-ki*i,ki*r+Ai*i),t.lineTo(Ai*o-ki*a,ki*o+Ai*a),t.lineTo(Ai*l-ki*u,ki*l+Ai*u),t.lineTo(Ai*r+ki*i,Ai*i-ki*r),t.lineTo(Ai*o+ki*a,Ai*a-ki*o),t.lineTo(Ai*l+ki*u,Ai*u-ki*l),t.closePath()}};function oee(t,e){let n=null,r=IS(i);t=typeof t=="function"?t:Wt(t||OS),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Wt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Yp(){}function Qp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function M3(t){this._context=t}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aee(t){return new M3(t)}function B3(t){this._context=t}B3.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function see(t){return new B3(t)}function F3(t){this._context=t}F3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lee(t){return new F3(t)}function L3(t){this._context=t}L3.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cee(t){return new L3(t)}function fP(t){return t<0?-1:1}function hP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(o*i+a*r)/(r+i);return(fP(o)+fP(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function pP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function fx(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,a-l*n,o,a)}function Xp(t){this._context=t}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fx(this,this._t0,pP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fx(this,pP(this,n=hP(this,t,e)),n);break;default:fx(this,this._t0,n=hP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $3(t){this._context=new U3(t)}($3.prototype=Object.create(Xp.prototype)).point=function(t,e){Xp.prototype.point.call(this,e,t)};function U3(t){this._context=t}U3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function uee(t){return new Xp(t)}function dee(t){return new $3(t)}function H3(t){this._context=t}H3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mP(t),i=mP(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function fee(t){return new H3(t)}function lg(t,e){this._context=t,this._t=e}lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hee(t){return new lg(t,.5)}function pee(t){return new lg(t,0)}function mee(t){return new lg(t,1)}function hc(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Kb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gee(t,e){return t[e]}function yee(t){const e=[];return e.key=t,e}function vee(){var t=Wt([]),e=Kb,n=hc,r=gee;function i(o){var a=Array.from(t.apply(this,arguments),yee),l,u=a.length,d=-1,f;for(const p of o)for(l=0,++d;l<u;++l)(a[l][d]=[0,+r(p,a[l].key,d,o)]).data=p;for(l=0,f=DS(e(a));l<u;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Wt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Kb:typeof o=="function"?o:Wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??hc,i):n},i}function xee(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}hc(t,e)}}function wee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}hc(t,e)}}function bee(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var l=0,u=0,d=0;l<a;++l){for(var f=t[e[l]],p=f[r][1]||0,g=f[r-1][1]||0,y=(p-g)/2,v=0;v<l;++v){var w=t[e[v]],b=w[r][1]||0,E=w[r-1][1]||0;y+=b-E}u+=p,d+=y*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,hc(t,e)}}var Cee=["type","size","sizeType"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(null,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Eee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kee(t,e){if(t==null)return{};var n,r,i=Tee(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z3={symbolCircle:OS,symbolCross:GZ,symbolDiamond:QZ,symbolSquare:XZ,symbolStar:tee,symbolTriangle:nee,symbolWye:iee},_ee=Math.PI/180,Nee=t=>{var e="symbol".concat(Zd(t));return z3[e]||OS},Pee=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*_ee;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Iee=(t,e)=>{z3["symbol".concat(Zd(t))]=e},K3=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=kee(t,Cee),o=yP(yP({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var p=Nee(e),g=oee().type(p).size(Pee(n,r,e));return g()},{className:l,cx:u,cy:d}=o,f=Rt(o,!0);return u===+u&&d===+d&&n===+n?S.createElement("path",qb({},f,{className:$t("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:a()})):null};K3.registerSymbol=Iee;var hx={},px={},vP;function Dee(){return vP||(vP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e}(px)),px}var mx={},xP;function q3(){return xP||(xP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(mx)),mx}var gx={},yx={},vx={},wP;function Oee(){return wP||(wP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(vx)),vx}var bP;function jS(){return bP||(bP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oee();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(yx)),yx}var xx={},CP;function jee(){return CP||(CP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(xx)),xx}var SP;function Ree(){return SP||(SP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jS(),n=jee();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(gx)),gx}var wx={},bx={},EP;function Mee(){return EP||(EP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NS();function n(r){return function(i){return e.get(i,r)}}t.property=n}(bx)),bx}var Cx={},Sx={},Ex={},Ax={},AP;function V3(){return AP||(AP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Ax)),Ax}var kx={},kP;function W3(){return kP||(kP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(kx)),kx}var Tx={},TP;function RS(){return TP||(TP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Tx)),Tx}var _P;function Bee(){return _P||(_P=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MS(),n=V3(),r=W3(),i=RS();function o(p,g,y){return typeof y!="function"?e.isMatch(p,g):a(p,g,function v(w,b,E,C,k,N){const _=y(w,b,E,C,k,N);return _!==void 0?!!_:a(w,b,v,N)},new Map)}function a(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?a(p,{...g},y,v):i.eq(p,g);default:return n.isObject(p)?typeof g=="string"?g==="":!0:i.eq(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return d(p,g,y,v);if(g instanceof Map)return u(p,g,y,v);if(g instanceof Set)return f(p,g,y,v);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(v&&v.has(g))return v.get(g)===p;v&&v.set(g,p);try{for(let b=0;b<w.length;b++){const E=w[b];if(!r.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!y(p[E],g[E],E,p,g,v))return!1}return!0}finally{v&&v.delete(g)}}function u(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,b]of g.entries()){const E=p.get(w);if(y(E,b,w,p,g,v)===!1)return!1}return!0}function d(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let b=0;b<g.length;b++){const E=g[b];let C=!1;for(let k=0;k<p.length;k++){if(w.has(k))continue;const N=p[k];let _=!1;if(y(N,E,b,p,g,v)&&(_=!0),_){w.add(k),C=!0;break}}if(!C)return!1}return!0}function f(p,g,y,v){return g.size===0?!0:p instanceof Set?d([...p],[...g],y,v):!1}t.isMatchWith=o,t.isSetMatch=f}(Ex)),Ex}var NP;function MS(){return NP||(NP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bee();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Sx)),Sx}var _x={},Nx={},Px={},PP;function G3(){return PP||(PP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Px)),Px}var Ix={},IP;function BS(){return IP||(IP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(Ix)),Ix}var Dx={},DP;function FS(){return DP||(DP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",v="[object Error]",w="[object DataView]",b="[object Uint8Array]",E="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]",N="[object BigUint64Array]",_="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",R="[object BigInt64Array]",F="[object Float32Array]",O="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=w,t.dateTag=l,t.errorTag=v,t.float32ArrayTag=F,t.float64ArrayTag=O,t.functionTag=p,t.int16ArrayTag=P,t.int32ArrayTag=D,t.int8ArrayTag=_,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=C,t.uint32ArrayTag=k,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=E}(Dx)),Dx}var Ox={},OP;function Fee(){return OP||(OP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Ox)),Ox}var jP;function Y3(){return jP||(jP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G3(),n=BS(),r=FS(),i=W3(),o=Fee();function a(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,g,y=new Map,v=void 0){const w=v==null?void 0:v(f,p,g,y);if(w!=null)return w;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const b=new Array(f.length);y.set(f,b);for(let E=0;E<f.length;E++)b[E]=l(f[E],E,g,y,v);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;y.set(f,b);for(const[E,C]of f)b.set(E,l(C,E,g,y,v));return b}if(f instanceof Set){const b=new Set;y.set(f,b);for(const E of f)b.add(l(E,void 0,g,y,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,b);for(let E=0;E<f.length;E++)b[E]=l(f[E],E,g,y,v);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,b),u(b,f,g,y,v),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return y.set(f,b),u(b,f,g,y,v),b}if(f instanceof Blob){const b=new Blob([f],{type:f.type});return y.set(f,b),u(b,f,g,y,v),b}if(f instanceof Error){const b=new f.constructor;return y.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,g,y,v),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return y.set(f,b),u(b,f,g,y,v),b}return f}function u(f,p,g=f,y,v){const w=[...Object.keys(p),...e.getSymbols(p)];for(let b=0;b<w.length;b++){const E=w[b],C=Object.getOwnPropertyDescriptor(f,E);(C==null||C.writable)&&(f[E]=l(p[E],E,g,y,v))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=u}(Nx)),Nx}var RP;function Lee(){return RP||(RP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(_x)),_x}var MP;function $ee(){return MP||(MP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MS(),n=Lee();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r}(Cx)),Cx}var jx={},Rx={},Mx={},BP;function Uee(){return BP||(BP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3(),n=FS();function r(i,o){return e.cloneDeepWith(i,(a,l,u,d)=>{const f=o==null?void 0:o(a,l,u,d);if(f!=null)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r}(Mx)),Mx}var FP;function Hee(){return FP||(FP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uee();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Rx)),Rx}var Bx={},Fx={},LP;function Q3(){return LP||(LP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(Fx)),Fx}var Lx={},$P;function zee(){return $P||($P=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BS();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Lx)),Lx}var UP;function Kee(){return UP||(UP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C3(),n=Q3(),r=zee(),i=_S();function o(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let f=0;f<u.length;f++){const p=u[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=o}(Bx)),Bx}var HP;function qee(){return HP||(HP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MS(),n=S3(),r=Hee(),i=NS(),o=Kee();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?o.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=a}(jx)),jx}var zP;function Vee(){return zP||(zP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q3(),n=Mee(),r=$ee(),i=qee();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o}(wx)),wx}var KP;function Wee(){return KP||(KP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dee(),n=q3(),r=Ree(),i=Vee();function o(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=o}(hx)),hx}var $x,qP;function Gee(){return qP||(qP=1,$x=Wee().uniqBy),$x}var Yee=Gee();const VP=eo(Yee);function Qee(t,e,n){return e===!0?VP(t,n):typeof e=="function"?VP(t,e):t}var Ux={exports:{}},Hx={},zx={exports:{}},Kx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function Xee(){if(WP)return Kx;WP=1;var t=Cc();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function l(p,g){var y=g(),v=r({inst:{value:y,getSnapshot:g}}),w=v[0].inst,b=v[1];return o(function(){w.value=y,w.getSnapshot=g,u(w)&&b({inst:w})},[p,y,g]),i(function(){return u(w)&&b({inst:w}),p(function(){u(w)&&b({inst:w})})},[p]),a(y),y}function u(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!n(p,y)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Kx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Kx}var GP;function Jee(){return GP||(GP=1,zx.exports=Xee()),zx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP;function Zee(){if(YP)return Hx;YP=1;var t=Cc(),e=Jee();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(d,f,p,g,y){var v=o(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function E(P){if(!C){if(C=!0,k=P,P=g(P),y!==void 0&&w.hasValue){var D=w.value;if(y(D,P))return N=D}return N=P}if(D=N,r(k,P))return D;var R=g(P);return y!==void 0&&y(D,R)?(k=P,D):(k=P,N=R)}var C=!1,k,N,_=p===void 0?null:p;return[function(){return E(f())},_===null?void 0:function(){return E(_())}]},[f,p,g,y]);var b=i(d,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},Hx}var QP;function ete(){return QP||(QP=1,Ux.exports=Zee()),Ux.exports}var tte=ete(),LS=S.createContext(null),nte=t=>t,pn=()=>{var t=S.useContext(LS);return t?t.store.dispatch:nte},Y0=()=>{},rte=()=>Y0,ite=(t,e)=>t===e;function Ve(t){var e=S.useContext(LS);return tte.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rte,e?e.store.getState:Y0,e?e.store.getState:Y0,e?t:Y0,ite)}function ote(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ate(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ste(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var XP=t=>Array.isArray(t)?t:[t];function lte(t){const e=Array.isArray(t[0])?t[0]:t;return ste(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cte(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ute=class{constructor(t){this.value=t}deref(){return this.value}},dte=typeof WeakRef<"u"?WeakRef:ute,fte=0,JP=1;function Uh(){return{s:fte,v:void 0,o:null,p:null}}function X3(t,e={}){let n=Uh();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var p;let l=n;const{length:u}=arguments;for(let g=0,y=u;g<y;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const b=w.get(v);b===void 0?(l=Uh(),w.set(v,l)):l=b}else{let w=l.p;w===null&&(l.p=w=new Map);const b=w.get(v);b===void 0?(l=Uh(),w.set(v,l)):l=b}}const d=l;let f;if(l.s===JP)f=l.v;else if(f=t.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,f)&&(f=g,o!==0&&o--),i=typeof f=="object"&&f!==null||typeof f=="function"?new dte(f):f}return d.s=JP,d.v=f,f}return a.clearCache=()=>{n=Uh(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function hte(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),ote(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:y=X3,argsMemoizeOptions:v=[],devModeChecks:w={}}=f,b=XP(g),E=XP(v),C=lte(i),k=p(function(){return o++,d.apply(null,arguments)},...b),N=y(function(){a++;const P=cte(C,arguments);return l=k.apply(null,P),l},...E);return Object.assign(N,{resultFunc:d,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ue=hte(X3),pte=Object.assign((t,e=ue)=>{ate(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>pte}),qx={},Vx={},Wx={},ZP;function mte(){return ZP||(ZP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?l-a:a-l}return 0};t.compareValues=n}(Wx)),Wx}var Gx={},Yx={},eI;function J3(){return eI||(eI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(Yx)),Yx}var tI;function gte(){return tI||(tI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i}(Gx)),Gx}var nI;function yte(){return nI||(nI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mte(),n=gte(),r=_S();function i(o,a,l,u){if(o==null)return[];l=u?void 0:l,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,v)=>{let w=y;for(let b=0;b<v.length&&w!=null;++b)w=w[v[b]];return w},f=(y,v)=>v==null||y==null?v:typeof y=="object"&&"key"in y?Object.hasOwn(v,y.key)?v[y.key]:d(v,y.path):typeof y=="function"?y(v):Array.isArray(y)?d(v,y):typeof v=="object"?v[y]:v,p=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return o.map(y=>({original:y,criteria:p.map(v=>f(v,y))})).slice().sort((y,v)=>{for(let w=0;w<p.length;w++){const b=e.compareValues(y.criteria[w],v.criteria[w],l[w]);if(b!==0)return b}return 0}).map(y=>y.original)}t.orderBy=i}(Vx)),Vx}var Qx={},rI;function vte(){return rI||(rI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<o?a(f,u+1):i.push(f)}};return a(n,0),i}t.flatten=e}(Qx)),Qx}var Xx={},iI;function Z3(){return iI||(iI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q3(),n=jS(),r=V3(),i=RS();function o(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}t.isIterateeCall=o}(Xx)),Xx}var oI;function xte(){return oI||(oI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yte(),n=vte(),r=Z3();function i(o,...a){const l=a.length;return l>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i}(qx)),qx}var Jx,aI;function wte(){return aI||(aI=1,Jx=xte().sortBy),Jx}var bte=wte();const cg=eo(bte);var e8=t=>t.legend.settings,Cte=t=>t.legend.size,Ste=t=>t.legend.payload;ue([Ste,e8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?cg(r,n):r});var Hh=1;function Ete(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Hh||Math.abs(a.left-e.left)>Hh||Math.abs(a.top-e.top)>Hh||Math.abs(a.width-e.width)>Hh)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ir(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ate=typeof Symbol=="function"&&Symbol.observable||"@@observable",sI=Ate,Zx=()=>Math.random().toString(36).substring(7).split("").join("."),kte={INIT:`@@redux/INIT${Zx()}`,REPLACE:`@@redux/REPLACE${Zx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zx()}`},Jp=kte;function $S(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function t8(t,e,n){if(typeof t!="function")throw new Error(ir(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ir(1));return n(t8)(t,e)}let r=t,i=e,o=new Map,a=o,l=0,u=!1;function d(){a===o&&(a=new Map,o.forEach((b,E)=>{a.set(E,b)}))}function f(){if(u)throw new Error(ir(3));return i}function p(b){if(typeof b!="function")throw new Error(ir(4));if(u)throw new Error(ir(5));let E=!0;d();const C=l++;return a.set(C,b),function(){if(E){if(u)throw new Error(ir(6));E=!1,d(),a.delete(C),o=null}}}function g(b){if(!$S(b))throw new Error(ir(7));if(typeof b.type>"u")throw new Error(ir(8));if(typeof b.type!="string")throw new Error(ir(17));if(u)throw new Error(ir(9));try{u=!0,i=r(i,b)}finally{u=!1}return(o=a).forEach(C=>{C()}),b}function y(b){if(typeof b!="function")throw new Error(ir(10));r=b,g({type:Jp.REPLACE})}function v(){const b=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ir(11));function C(){const N=E;N.next&&N.next(f())}return C(),{unsubscribe:b(C)}},[sI](){return this}}}return g({type:Jp.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:y,[sI]:v}}function Tte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Jp.INIT})>"u")throw new Error(ir(12));if(typeof n(void 0,{type:Jp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function n8(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Tte(n)}catch(o){i=o}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],g=n[p],y=a[p],v=g(y,l);if(typeof v>"u")throw l&&l.type,new Error(ir(14));d[p]=v,u=u||v!==y}return u=u||r.length!==Object.keys(a).length,u?d:a}}function Zp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _te(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(ir(15))};const a={getState:i.getState,dispatch:(u,...d)=>o(u,...d)},l=t.map(u=>u(a));return o=Zp(...l)(i.dispatch),{...i,dispatch:o}}}function r8(t){return $S(t)&&"type"in t&&typeof t.type=="string"}var i8=Symbol.for("immer-nothing"),lI=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pc=Object.getPrototypeOf;function Xs(t){return!!t&&!!t[mi]}function ta(t){var e;return t?o8(t)||Array.isArray(t)||!!t[lI]||!!((e=t.constructor)!=null&&e[lI])||dg(t)||fg(t):!1}var Nte=Object.prototype.constructor.toString();function o8(t){if(!t||typeof t!="object")return!1;const e=pc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Nte}function em(t,e){ug(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function ug(t){const e=t[mi];return e?e.type_:Array.isArray(t)?1:dg(t)?2:fg(t)?3:0}function Vb(t,e){return ug(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function a8(t,e,n){const r=ug(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Pte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dg(t){return t instanceof Map}function fg(t){return t instanceof Set}function bs(t){return t.copy_||t.base_}function Wb(t,e){if(dg(t))return new Map(t);if(fg(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=o8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(pc(t),r)}else{const r=pc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function US(t,e=!1){return hg(t)||Xs(t)||!ta(t)||(ug(t)>1&&(t.set=t.add=t.clear=t.delete=Ite),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>US(r,!0))),t}function Ite(){qi(2)}function hg(t){return Object.isFrozen(t)}var Dte={};function Js(t){const e=Dte[t];return e||qi(0,t),e}var Nd;function s8(){return Nd}function Ote(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cI(t,e){e&&(Js("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Gb(t){Yb(t),t.drafts_.forEach(jte),t.drafts_=null}function Yb(t){t===Nd&&(Nd=t.parent_)}function uI(t){return Nd=Ote(Nd,t)}function jte(t){const e=t[mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function dI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mi].modified_&&(Gb(e),qi(4)),ta(t)&&(t=tm(e,t),e.parent_||nm(e,t)),e.patches_&&Js("Patches").generateReplacementPatches_(n[mi].base_,t,e.patches_,e.inversePatches_)):t=tm(e,n,[]),Gb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==i8?t:void 0}function tm(t,e,n){if(hg(e))return e;const r=e[mi];if(!r)return em(e,(i,o)=>fI(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return nm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),em(o,(l,u)=>fI(t,r,i,l,u,n,a)),nm(t,i,!1),n&&t.patches_&&Js("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function fI(t,e,n,r,i,o,a){if(Xs(i)){const l=o&&e&&e.type_!==3&&!Vb(e.assigned_,r)?o.concat(r):void 0,u=tm(t,i,l);if(a8(n,r,u),Xs(u))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ta(i)&&!hg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;tm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&nm(t,i)}}function nm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&US(e,n)}function Rte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:s8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=HS;n&&(i=[r],o=Pd);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=a,l}var HS={get(t,e){if(e===mi)return t;const n=bs(t);if(!Vb(n,e))return Mte(t,n,e);const r=n[e];return t.finalized_||!ta(r)?r:r===ew(t.base_,e)?(tw(t),t.copy_[e]=Xb(r,t)):r},has(t,e){return e in bs(t)},ownKeys(t){return Reflect.ownKeys(bs(t))},set(t,e,n){const r=l8(bs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=ew(bs(t),e),o=i==null?void 0:i[mi];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Pte(n,i)&&(n!==void 0||Vb(t.base_,e)))return!0;tw(t),Qb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ew(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,tw(t),Qb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){qi(11)},getPrototypeOf(t){return pc(t.base_)},setPrototypeOf(){qi(12)}},Pd={};em(HS,(t,e)=>{Pd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Pd.deleteProperty=function(t,e){return Pd.set.call(this,t,e,void 0)};Pd.set=function(t,e,n){return HS.set.call(this,t[0],e,n,t[0])};function ew(t,e){const n=t[mi];return(n?bs(n):t)[e]}function Mte(t,e,n){var i;const r=l8(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function l8(t,e){if(!(e in t))return;let n=pc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=pc(n)}}function Qb(t){t.modified_||(t.modified_=!0,t.parent_&&Qb(t.parent_))}function tw(t){t.copy_||(t.copy_=Wb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(u=o,...d){return a.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&qi(6),r!==void 0&&typeof r!="function"&&qi(7);let i;if(ta(e)){const o=uI(this),a=Xb(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?Gb(o):Yb(o)}return cI(o,r),dI(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===i8&&(i=void 0),this.autoFreeze_&&US(i,!0),r){const o=[],a=[];Js("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ta(t)||qi(8),Xs(t)&&(t=Yo(t));const e=uI(this),n=Xb(t,void 0);return n[mi].isManual_=!0,Yb(e),n}finishDraft(t,e){const n=t&&t[mi];(!n||!n.isManual_)&&qi(9);const{scope_:r}=n;return cI(r,e),dI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Js("Patches").applyPatches_;return Xs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Xb(t,e){const n=dg(t)?Js("MapSet").proxyMap_(t,e):fg(t)?Js("MapSet").proxySet_(t,e):Rte(t,e);return(e?e.scope_:s8()).drafts_.push(n),n}function Yo(t){return Xs(t)||qi(10,t),c8(t)}function c8(t){if(!ta(t)||hg(t))return t;const e=t[mi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Wb(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Wb(t,!0);return em(n,(r,i)=>{a8(n,r,c8(i))}),e&&(e.finalized_=!1),n}var gi=new Bte,u8=gi.produce;gi.produceWithPatches.bind(gi);gi.setAutoFreeze.bind(gi);gi.setUseStrictShallowCopy.bind(gi);gi.applyPatches.bind(gi);gi.createDraft.bind(gi);gi.finishDraft.bind(gi);function d8(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Fte=d8(),Lte=d8,$te=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zp:Zp.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>r8(r)&&r.type===t,n}var f8=class Ku extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ku(...e[0].concat(this)):new Ku(...e.concat(this))}};function hI(t){return ta(t)?u8(t,()=>{}):t}function zh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Ute(t){return typeof t=="boolean"}var Hte=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new f8;return n&&(Ute(n)?a.push(Fte):a.push(Lte(n.extraArgument))),a},zte="RTK_autoBatch",pI=t=>e=>{setTimeout(e,t)},Kte=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pI(10):t.type==="callback"?t.queueNotification:pI(t.timeout),d=()=>{a=!1,o&&(o=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),g=r.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[zte]),o=!i,o&&(a||(a=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},qte=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new f8(t);return r&&i.push(Kte(typeof r=="object"?r:void 0)),i};function Vte(t){const e=Hte(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a=void 0,enhancers:l=void 0}=t;let u;if(typeof n=="function")u=n;else if($S(n))u=n8(n);else throw new Error(fi(1));let d;typeof r=="function"?d=r(e):d=e();let f=Zp;i&&(f=$te({trace:!1,...typeof i=="object"&&i}));const p=_te(...d),g=qte(p);let y=typeof l=="function"?l(g):g();const v=f(...y);return t8(u,a,v)}function h8(t){const e={},n=[];let r;const i={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(fi(28));if(l in e)throw new Error(fi(29));return e[l]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Wte(t){return typeof t=="function"}function Gte(t,e){let[n,r,i]=h8(e),o;if(Wte(t))o=()=>hI(t());else{const l=hI(t);o=()=>l}function a(l=o(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Xs(f)){const y=p(f,u);return y===void 0?f:y}else{if(ta(f))return u8(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return a.getInitialState=o,a}var Yte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Qte=(t=21)=>{let e="",n=t;for(;n--;)e+=Yte[Math.random()*64|0];return e},Xte=Symbol.for("rtk-slice-createasyncthunk");function Jte(t,e){return`${t}/${e}`}function Zte({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Xte];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(fi(11));const l=(typeof i.reducers=="function"?i.reducers(tne()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,_){const P=typeof N=="string"?N:N.type;if(!P)throw new Error(fi(12));if(P in d.sliceCaseReducersByType)throw new Error(fi(13));return d.sliceCaseReducersByType[P]=_,f},addMatcher(N,_){return d.sliceMatchers.push({matcher:N,reducer:_}),f},exposeAction(N,_){return d.actionCreators[N]=_,f},exposeCaseReducer(N,_){return d.sliceCaseReducersByName[N]=_,f}};u.forEach(N=>{const _=l[N],P={reducerName:N,type:Jte(o,N),createNotation:typeof i.reducers=="function"};rne(_)?one(P,_,f,e):nne(P,_,f)});function p(){const[N={},_=[],P=void 0]=typeof i.extraReducers=="function"?h8(i.extraReducers):[i.extraReducers],D={...N,...d.sliceCaseReducersByType};return Gte(i.initialState,R=>{for(let F in D)R.addCase(F,D[F]);for(let F of d.sliceMatchers)R.addMatcher(F.matcher,F.reducer);for(let F of _)R.addMatcher(F.matcher,F.reducer);P&&R.addDefaultCase(P)})}const g=N=>N,y=new Map,v=new WeakMap;let w;function b(N,_){return w||(w=p()),w(N,_)}function E(){return w||(w=p()),w.getInitialState()}function C(N,_=!1){function P(R){let F=R[N];return typeof F>"u"&&_&&(F=zh(v,P,E)),F}function D(R=g){const F=zh(y,_,()=>new WeakMap);return zh(F,R,()=>{const O={};for(const[B,$]of Object.entries(i.selectors??{}))O[B]=ene($,R,()=>zh(v,R,E),_);return O})}return{reducerPath:N,getSelectors:D,get selectors(){return D(P)},selectSlice:P}}const k={name:o,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...C(a),injectInto(N,{reducerPath:_,...P}={}){const D=_??a;return N.inject({reducerPath:D,reducer:b},P),{...k,...C(D,!0)}}};return k}}function ene(t,e,n,r){function i(o,...a){let l=e(o);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var ji=Zte();function tne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nne({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!ine(r))throw new Error(fi(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?Di(t,a):Di(t))}function rne(t){return t._reducerDefinitionType==="asyncThunk"}function ine(t){return t._reducerDefinitionType==="reducerWithPrepare"}function one({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fi(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:u,settled:d,options:f}=n,p=i(t,o,f);r.exposeAction(e,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Kh,pending:l||Kh,rejected:u||Kh,settled:d||Kh})}function Kh(){}var ane="task",p8="listener",m8="completed",zS="cancelled",sne=`task-${zS}`,lne=`task-${m8}`,Jb=`${p8}-${zS}`,cne=`${p8}-${m8}`,pg=class{constructor(t){wh(this,"name","TaskAbortError");wh(this,"message");this.code=t,this.message=`${ane} ${zS} (reason: ${t})`}},KS=(t,e)=>{if(typeof t!="function")throw new TypeError(fi(32))},rm=()=>{},g8=(t,e=rm)=>(t.catch(e),t),y8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ls=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},$s=t=>{if(t.aborted){const{reason:e}=t;throw new pg(e)}};function v8(t,e){let n=rm;return new Promise((r,i)=>{const o=()=>i(new pg(t.reason));if(t.aborted){o();return}n=y8(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rm})}var une=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof pg?"cancelled":"rejected",error:n}}finally{e==null||e()}},im=t=>e=>g8(v8(t,e).then(n=>($s(t),n))),x8=t=>{const e=im(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ec}=Object,mI={},mg="listenerMiddleware",dne=(t,e)=>{const n=r=>y8(t,()=>Ls(r,t.reason));return(r,i)=>{KS(r);const o=new AbortController;n(o);const a=une(async()=>{$s(t),$s(o.signal);const l=await r({pause:im(o.signal),delay:x8(o.signal),signal:o.signal});return $s(o.signal),l},()=>Ls(o,lne));return i!=null&&i.autoJoin&&e.push(a.catch(rm)),{result:im(t)(a),cancel(){Ls(o,sne)}}}},fne=(t,e)=>{const n=async(r,i)=>{$s(e);let o=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});o=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await v8(e,Promise.race(l));return $s(e),u}finally{o()}};return(r,i)=>g8(n(r,i))},w8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fi(21));return KS(o),{predicate:i,type:e,effect:o}},b8=ec(t=>{const{type:e,predicate:n,effect:r}=w8(t);return{id:Qte(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>b8}),gI=(t,e)=>{const{type:n,effect:r,predicate:i}=w8(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Zb=t=>{t.pending.forEach(e=>{Ls(e,Jb)})},hne=t=>()=>{t.forEach(Zb),t.clear()},yI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},C8=ec(Di(`${mg}/add`),{withTypes:()=>C8}),pne=Di(`${mg}/removeAll`),S8=ec(Di(`${mg}/remove`),{withTypes:()=>S8}),mne=(...t)=>{console.error(`${mg}/error`,...t)},tf=(t={})=>{const e=new Map,{extra:n,onError:r=mne}=t;KS(r);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p!=null&&p.cancelActive&&Zb(f)}),o=f=>{const p=gI(e,f)??b8(f);return i(p)};ec(o,{withTypes:()=>o});const a=f=>{const p=gI(e,f);return p&&(p.unsubscribe(),f.cancelActive&&Zb(p)),!!p};ec(a,{withTypes:()=>a});const l=async(f,p,g,y)=>{const v=new AbortController,w=fne(o,v.signal),b=[];try{f.pending.add(v),await Promise.resolve(f.effect(p,ec({},g,{getOriginalState:y,condition:(E,C)=>w(E,C).then(Boolean),take:w,delay:x8(v.signal),pause:im(v.signal),extra:n,signal:v.signal,fork:dne(v.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((E,C,k)=>{E!==v&&(Ls(E,Jb),k.delete(E))})},cancel:()=>{Ls(v,Jb),f.pending.delete(v)},throwIfCancelled:()=>{$s(v.signal)}})))}catch(E){E instanceof pg||yI(r,E,{raisedBy:"effect"})}finally{await Promise.all(b),Ls(v,cne),f.pending.delete(v)}},u=hne(e);return{middleware:f=>p=>g=>{if(!r8(g))return p(g);if(C8.match(g))return o(g.payload);if(pne.match(g)){u();return}if(S8.match(g))return a(g.payload);let y=f.getState();const v=()=>{if(y===mI)throw new Error(fi(23));return y};let w;try{if(w=p(g),e.size>0){const b=f.getState(),E=Array.from(e.values());for(const C of E){let k=!1;try{k=C.predicate(g,b,y)}catch(N){k=!1,yI(r,N,{raisedBy:"predicate"})}k&&l(C,g,f,v)}}}finally{y=mI}return w},startListening:o,stopListening:a,clearListeners:u}};function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var gne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E8=ji({name:"chartLayout",initialState:gne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:yne,setLayout:vne,setChartSize:xne,setScale:wne}=E8.actions,bne=E8.reducer;function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return(e=Sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var om=Math.PI/180,Ane=t=>t*180/Math.PI,jn=(t,e,n,r)=>({x:t+Math.cos(-om*r)*n,y:e+Math.sin(-om*r)*n}),A8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kne=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Tne=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=kne({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,u=Math.acos(l);return r>o&&(u=2*Math.PI-u),{radius:a,angle:Ane(u),angleInRadian:u}},_ne=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Nne=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},Pne=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=Tne({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=_ne(e),f=o,p;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=u}return p?xI(xI({},e),{},{radius:i,angle:Nne(f,e)}):null};function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return(e=Dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hn(t,e,n){return Rn(t)||Rn(e)?n:ko(e)?Qa(t,e,n):typeof e=="function"?e(t):n}var jne=(t,e,n,r,i)=>{var o,a=-1,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(Qn(f-d)!==Qn(p-f)){var y=[];if(Qn(p-f)===Qn(i[1]-i[0])){g=p;var v=f+i[1]-i[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{g=d;var w=p+i[1]-i[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){({index:a}=n[u]);break}}else{var E=Math.min(d,p),C=Math.max(d,p);if(t>(E+f)/2&&t<=(C+f)/2){({index:a}=n[u]);break}}}else if(e){for(var k=0;k<l;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===l-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:a}=e[k]);break}}return a},Rne=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&o!=="center"&&Le(t[o]))return Ni(Ni({},t),{},{[o]:t[o]+(r||0)});if((l==="horizontal"||l==="vertical"&&o==="center")&&a!=="middle"&&Le(t[a]))return Ni(Ni({},t),{},{[a]:t[a]+(i||0)})}return t},cl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",k8=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,o,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate));return i||a.push(e),o||a.push(n),a},T8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:y}=t;if(!a)return null;var v=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,w=i==="category"&&a.bandwidth?a.bandwidth()/v:0;if(w=y==="angleAxis"&&o&&o.length>=2?Qn(o[0]-o[1])*2*w:w,p||g){var b=(p||g||[]).map((E,C)=>{var k=r?r.indexOf(E):E;return{coordinate:a(k)+w,value:E,offset:w,index:C}});return b.filter(E=>!pi(E.coordinate))}return u&&d?d.map((E,C)=>({coordinate:a(E)+w,value:E,index:C,offset:w})):a.ticks&&!n&&f!=null?a.ticks(f).map((E,C)=>({coordinate:a(E)+w,value:E,offset:w,index:C})):a.domain().map((E,C)=>({coordinate:a(E)+w,value:r?r[E]:E,index:C,offset:w}))},bI=1e-4,Mne=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-bI,o=Math.max(r[0],r[1])+bI,a=t(e[0]),l=t(e[n-1]);(a<i||a>o||l<i||l>o)&&t.domain([e[0],e[n-1]])}},Bne=(t,e)=>{if(!e||e.length!==2||!Le(e[0])||!Le(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(i[0]=n),(!Le(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Fne=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var l=pi(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+l,o=t[a][n][1])}},Lne=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=pi(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},$ne={sign:Fne,expand:xee,none:hc,silhouette:wee,wiggle:bee,positive:Lne},Une=(t,e,n)=>{var r=$ne[n],i=vee().keys(e).value((o,a)=>+hn(o,a,0)).order(Kb).offset(r);return i(t)};function _8(t){return t==null?void 0:String(t)}var CI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=hn(o,e.dataKey,e.scale.domain()[a]);return Rn(l)?null:e.scale(l)-i/2+r},Hne=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},zne=t=>{var e=t.flat(2).filter(Le);return[Math.min(...e),Math.max(...e)]},Kne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qne=(t,e,n)=>{if(t!=null)return Kne(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,l=a.reduce((u,d)=>{var f=zne(d.slice(e,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},SI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qS=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=cg(e,f=>f.coordinate),o=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function AI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Ni(Ni({},e),{},{dataKey:n,payload:r,value:i,name:o})}function gg(t,e){if(t)return String(t);if(typeof e=="string")return e}function Vne(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?Pne({x:t,y:e},r):null}var Wne=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Ni(Ni(Ni({},r),jn(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var l=i.coordinate,{angle:u}=r;return Ni(Ni(Ni({},r),jn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},Gne=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,aa=t=>t.layout.width,sa=t=>t.layout.height,Yne=t=>t.layout.scale,N8=t=>t.layout.margin,VS=ue(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),WS=ue(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),P8="data-recharts-item-index",I8="data-recharts-item-data-key",yg=60;function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return(e=Xne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=t=>t.brush.height,Hn=ue([aa,sa,N8,Zne,VS,WS,e8,Cte],(t,e,n,r,i,o,a,l)=>{var u=o.reduce((v,w)=>{var{orientation:b}=w;if(!w.mirror&&!w.hide){var E=typeof w.width=="number"?w.width:yg;return Ia(Ia({},v),{},{[b]:v[b]+E})}return v},{left:n.left||0,right:n.right||0}),d=i.reduce((v,w)=>{var{orientation:b}=w;return!w.mirror&&!w.hide?Ia(Ia({},v),{},{[b]:Qa(v,"".concat(b))+w.height}):v},{top:n.top||0,bottom:n.bottom||0}),f=Ia(Ia({},d),u),p=f.bottom;f.bottom+=r,f=Rne(f,a,l);var g=t-f.left-f.right,y=e-f.top-f.bottom;return Ia(Ia({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(y,0)})}),ere=ue(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),D8=ue(aa,sa,(t,e)=>({x:0,y:0,width:t,height:e})),tre=S.createContext(null),Gr=()=>S.useContext(tre)!=null,vg=t=>t.brush,xg=ue([vg,Hn,N8],(t,e,n)=>({height:t.height,x:Le(t.x)?t.x:e.left,y:Le(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Le(t.width)?t.width:e.width})),GS=()=>{var t,e=Gr(),n=Ve(ere),r=Ve(xg),i=(t=Ve(vg))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},nre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},O8=()=>{var t;return(t=Ve(Hn))!==null&&t!==void 0?t:nre},j8=()=>Ve(aa),R8=()=>Ve(sa),Mt=t=>t.layout.layoutType,YS=()=>Ve(Mt),rre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},M8=ji({name:"legend",initialState:rre,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Yo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Qpe,setLegendSettings:Xpe,addLegendPayload:B8,removeLegendPayload:F8}=M8.actions,ire=M8.reducer;function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e1.apply(null,arguments)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return(e=are(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=sre(t,"string");return typeof e=="symbol"?e:e+""}function sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lre(t){return Array.isArray(t)&&ko(t[0])&&ko(t[1])?t.join(" ~ "):t}var cre=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=!1}=t,y=()=>{if(o&&o.length){var _={padding:0,margin:0},P=(l?cg(o,l):o).map((D,R)=>{if(D.type==="none")return null;var F=D.formatter||a||lre,{value:O,name:B}=D,$=O,L=B;{var H=F(O,B,D,R,o);if(Array.isArray(H))[$,L]=H;else if(H!=null)$=H;else return null}var X=nw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:X},ko(L)?S.createElement("span",{className:"recharts-tooltip-item-name"},L):null,ko(L)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},$),S.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:_},P)}return null},v=nw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=nw({margin:0},i),b=!Rn(f),E=b?f:"",C=$t("recharts-default-tooltip",u),k=$t("recharts-tooltip-label",d);b&&p&&o!==void 0&&o!==null&&(E=p(f,o));var N=g?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",e1({className:C,style:v},N),S.createElement("p",{className:k,style:w},S.isValidElement(E)?E:"".concat(E)),y())},Pu="recharts-tooltip-wrapper",ure={visibility:"hidden"};function dre(t){var{coordinate:e,translateX:n,translateY:r}=t;return $t(Pu,{["".concat(Pu,"-right")]:Le(n)&&e&&Le(e.x)&&n>=e.x,["".concat(Pu,"-left")]:Le(n)&&e&&Le(e.x)&&n<e.x,["".concat(Pu,"-bottom")]:Le(r)&&e&&Le(e.y)&&r>=e.y,["".concat(Pu,"-top")]:Le(r)&&e&&Le(e.y)&&r<e.y})}function _I(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(o&&Le(o[r]))return o[r];var f=n[r]-l-(i>0?i:0),p=n[r]+i;if(e[r])return a[r]?f:p;var g=u[r];if(g==null)return 0;if(a[r]){var y=f,v=g;return y<v?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var w=p+l,b=g+d;return w>b?Math.max(f,g):Math.max(p,g)}function fre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hre(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:l,viewBox:u}=t,d,f,p;return a.height>0&&a.width>0&&n?(f=_I({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=_I({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=fre({translateX:f,translateY:p,useTranslate3d:l})):d=ure,{cssProperties:d,cssClasses:dre({translateX:f,translateY:p,coordinate:n})}}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){t1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1(t,e,n){return(e=pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gre extends S.PureComponent{constructor(){super(...arguments),t1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),t1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:v,lastBoundingBox:w,innerRef:b,hasPortalFromProps:E}=this.props,{cssClasses:C,cssProperties:k}=hre({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:y}),N=E?{}:qh(qh({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=qh(qh({},N),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},v);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:_,ref:b},o)}}var yre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rc={isSsr:yre()},L8=()=>Ve(t=>t.rootProps.accessibilityLayer);function yi(t){return Number.isFinite(t)}function mc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(null,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return(e=xre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=wre(t,"string");return typeof e=="symbol"?e:e+""}function wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DI={curveBasisClosed:see,curveBasisOpen:lee,curveBasis:aee,curveBumpX:VZ,curveBumpY:WZ,curveLinearClosed:cee,curveLinear:sg,curveMonotoneX:uee,curveMonotoneY:dee,curveNatural:fee,curveStep:hee,curveStepAfter:mee,curveStepBefore:pee},Vh=t=>yi(t.x)&&yi(t.y),Iu=t=>t.x,Du=t=>t.y,bre=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Zd(t));return(n==="curveMonotone"||n==="curveBump")&&e?DI["".concat(n).concat(e==="vertical"?"Y":"X")]:DI[n]||sg},Cre=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=bre(e,i),l=o?n.filter(Vh):n,u;if(Array.isArray(r)){var d=o?r.filter(p=>Vh(p)):r,f=l.map((p,g)=>II(II({},p),{},{base:d[g]}));return i==="vertical"?u=$h().y(Du).x1(Iu).x0(p=>p.base.x):u=$h().x(Iu).y1(Du).y0(p=>p.base.y),u.defined(Vh).curve(a),u(f)}return i==="vertical"&&Le(r)?u=$h().y(Du).x1(Iu).x0(r):Le(r)?u=$h().x(Iu).y1(Du).y0(r):u=D3().x(Iu).y(Du),u.defined(Vh).curve(a),u(l)},$8=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Cre(t):r;return S.createElement("path",n1({},Rt(t,!1),OZ(t),{className:$t("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Sre=["x","y","top","left","width","height","className"];function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(null,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ere(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _re(t,e){if(t==null)return{};var n,r,i=Nre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pre=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Ire=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:l}=t,u=_re(t,Sre),d=Ere({x:e,y:n,top:r,left:i,width:o,height:a},u);return!Le(e)||!Le(n)||!Le(o)||!Le(a)||!Le(r)||!Le(i)?null:S.createElement("path",r1({},Rt(d,!0),{className:$t("recharts-cross",l),d:Pre(e,n,o,a,r,i)}))};function Dre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ore(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oo(t,e){var n=Ore({},t),r=e,i=Object.keys(e),o=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return o}var rw={},iw={},ow={},RI;function Bre(){return RI||(RI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(ow)),ow}var MI;function Fre(){return MI||(MI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bre(),n=G3(),r=BS(),i=FS(),o=RS();function a(d,f,p){return l(d,f,void 0,void 0,void 0,void 0,p)}function l(d,f,p,g,y,v,w){const b=w(d,f,p,g,y,v);if(b!==void 0)return b;if(typeof d==typeof f)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===f;case"number":return d===f||Object.is(d,f);case"function":return d===f;case"object":return u(d,f,v,w)}return u(d,f,v,w)}function u(d,f,p,g){if(Object.is(d,f))return!0;let y=r.getTag(d),v=r.getTag(f);if(y===i.argumentsTag&&(y=i.objectTag),v===i.argumentsTag&&(v=i.objectTag),y!==v)return!1;switch(y){case i.stringTag:return d.toString()===f.toString();case i.numberTag:{const E=d.valueOf(),C=f.valueOf();return o.eq(E,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),f.valueOf());case i.regexpTag:return d.source===f.source&&d.flags===f.flags;case i.functionTag:return d===f}p=p??new Map;const w=p.get(d),b=p.get(f);if(w!=null&&b!=null)return w===f;p.set(d,f),p.set(f,d);try{switch(y){case i.mapTag:{if(d.size!==f.size)return!1;for(const[E,C]of d.entries())if(!f.has(E)||!l(C,f.get(E),E,d,f,p,g))return!1;return!0}case i.setTag:{if(d.size!==f.size)return!1;const E=Array.from(d.values()),C=Array.from(f.values());for(let k=0;k<E.length;k++){const N=E[k],_=C.findIndex(P=>l(N,P,void 0,d,f,p,g));if(_===-1)return!1;C.splice(_,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(f)||d.length!==f.length)return!1;for(let E=0;E<d.length;E++)if(!l(d[E],f[E],E,d,f,p,g))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==f.byteLength?!1:u(new Uint8Array(d),new Uint8Array(f),p,g);case i.dataViewTag:return d.byteLength!==f.byteLength||d.byteOffset!==f.byteOffset?!1:u(new Uint8Array(d),new Uint8Array(f),p,g);case i.errorTag:return d.name===f.name&&d.message===f.message;case i.objectTag:{if(!(u(d.constructor,f.constructor,p,g)||e.isPlainObject(d)&&e.isPlainObject(f)))return!1;const C=[...Object.keys(d),...n.getSymbols(d)],k=[...Object.keys(f),...n.getSymbols(f)];if(C.length!==k.length)return!1;for(let N=0;N<C.length;N++){const _=C[N],P=d[_];if(!Object.hasOwn(f,_))return!1;const D=f[_];if(!l(P,D,_,d,f,p,g))return!1}return!0}default:return!1}}finally{p.delete(d),p.delete(f)}}t.isEqualWith=a}(iw)),iw}var aw={},BI;function Lre(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(aw)),aw}var FI;function $re(){return FI||(FI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fre(),n=Lre();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r}(rw)),rw}var sw,LI;function Ure(){return LI||(LI=1,sw=$re().isEqual),sw}var Hre=Ure();const zre=eo(Hre);function Kre(t){var e={},n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(o.bind(null,d),u);return}o(u),i=t.setTimeout(o.bind(null,d));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var am=1e-4,U8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],H8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),$I=(t,e)=>n=>{var r=U8(t,e);return H8(r,n)},qre=(t,e)=>n=>{var r=U8(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return H8(i,n)},UI=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,r,n,i]=u[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else a.length===4&&([e,r,n,i]=a);var d=$I(e,n),f=$I(r,i),p=qre(e,n),g=v=>v>1?1:v<0?0:v,y=v=>{for(var w=v>1?1:v,b=w,E=0;E<8;++E){var C=d(b)-w,k=p(b);if(Math.abs(C-w)<am||k<am)return f(b);b=g(b-C/k)}return f(b)};return y.isStepper=!1,y},Vre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,l,u)=>{var d=-(a-l)*n,f=u*r,p=u+(d-f)*i/1e3,g=u*i/1e3+a;return Math.abs(g-l)<am&&Math.abs(p)<am?[l,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},Wre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UI(t);case"spring":return Vre();default:if(t.split("(")[0]==="cubic-bezier")return UI(t)}return typeof t=="function"?t:null};function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xre=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Jre=(t,e,n)=>t.map(r=>"".concat(Xre(r)," ").concat(e,"ms ").concat(n)).join(","),Zre=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Id=(t,e)=>Object.keys(e).reduce((n,r)=>zI(zI({},n),{},{[r]:t(r,e[r])}),{});function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){eie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t,e,n){return(e=tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tie(t){var e=nie(t,"string");return typeof e=="symbol"?e:e+""}function nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sm=(t,e,n)=>t+(e-t)*n,i1=t=>{var{from:e,to:n}=t;return e!==n},z8=(t,e,n)=>{var r=Id((i,o)=>{if(i1(o)){var[a,l]=t(o.from,o.to,o.velocity);return ar(ar({},o),{},{from:a,velocity:l})}return o},e);return n<1?Id((i,o)=>i1(o)?ar(ar({},o),{},{velocity:sm(o.velocity,r[i].velocity,n),from:sm(o.from,r[i].from,n)}):o,e):z8(t,r,n-1)};function rie(t,e,n,r,i,o){var a,l=r.reduce((g,y)=>ar(ar({},g),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>Id((g,y)=>y.from,l),d=()=>!Object.values(l).filter(i1).length,f=null,p=g=>{a||(a=g);var y=g-a,v=y/n.dt;l=z8(n,l,v),i(ar(ar(ar({},t),e),u())),a=g,d()||(f=o.setTimeout(p))};return()=>(f=o.setTimeout(p),()=>{f()})}function iie(t,e,n,r,i,o,a){var l=null,u=i.reduce((p,g)=>ar(ar({},p),{},{[g]:[t[g],e[g]]}),{}),d,f=p=>{d||(d=p);var g=(p-d)/r,y=Id((w,b)=>sm(...b,n(g)),u);if(o(ar(ar(ar({},t),e),y)),g<1)l=a.setTimeout(f);else{var v=Id((w,b)=>sm(...b,n(1)),u);o(ar(ar(ar({},t),e),v))}};return()=>(l=a.setTimeout(f),()=>{l()})}const oie=(t,e,n,r,i,o)=>{var a=Zre(t,e);return n.isStepper===!0?rie(t,e,n,a,i,o):iie(t,e,n,r,a,i,o)};class aie{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var sie=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(null,arguments)}function lie(t,e){if(t==null)return{};var n,r,i=cie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){_s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _s(t,e,n){return(e=uie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fie(){return Kre(new aie)}class QS extends S.PureComponent{constructor(e,n){super(e,n),_s(this,"mounted",!1),_s(this,"manager",null),_s(this,"stopJSAnimation",null),_s(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:l,duration:u,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||u<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(o){if(typeof l=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:l}=this.props,{style:u}=this.state;if(r){if(!n){var d={style:i?{[i]:a}:a};this.state&&u&&(i&&u[i]!==a||!i&&u!==a)&&this.setState(d);return}if(!(zre(e.to,a)&&e.canBegin&&e.isActive)){var f=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=f||o?l:e.to;if(this.state&&u){var g={style:i?{[i]:p}:p};(i&&u[i]!==p||!i&&u!==p)&&this.setState(g)}this.runAnimation(Da(Da({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:l,onAnimationStart:u}=e,d=oie(n,r,Wre(o),i,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=d()};this.manager.start([u,a,f,i,l])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:l,onAnimationEnd:u,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof d=="function"||a==="spring"){this.runJSAnimation(e);return}var f=i?{[i]:o}:o,p=Jre(Object.keys(f),r,a);this.manager.start([l,n,Da(Da({},f),{},{transition:p}),r,u])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:l,from:u,to:d,canBegin:f,onAnimationEnd:p,shouldReAnimate:g,onAnimationReStart:y,animationManager:v}=e,w=lie(e,sie),b=S.Children.count(n),E=this.state.style;if(typeof n=="function")return n(E);if(!l||b===0||i<=0)return n;var C=k=>{var{style:N={},className:_}=k.props,P=S.cloneElement(k,Da(Da({},w),{},{style:Da(Da({},N),E),className:_}));return P};return b===1?C(S.Children.only(n)):S.createElement("div",null,S.Children.map(n,k=>C(k)))}}_s(QS,"displayName","Animate");_s(QS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var hie=S.createContext(null);function Zs(t){var e,n,r=S.useContext(hie);return S.createElement(QS,o1({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:fie()}))}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(null,arguments)}var VI=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(e+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+a*f[1])),d+="L ".concat(t+n,",").concat(e+r-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-a*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(t,",").concat(e+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(e,`
            L `).concat(t+n-l*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(e+a*y,`
            L `).concat(t+n,",").concat(e+r-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(e+r,`
            L `).concat(t+l*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(e+r-a*y," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},pie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K8=t=>{var e=oo(t,pie),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&i(E)}catch{}},[]);var{x:o,y:a,width:l,height:u,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:v,isUpdateAnimationActive:w}=e;if(o!==+o||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var b=$t("recharts-rectangle",f);return w?S.createElement(Zs,{canBegin:r>0,from:{width:l,height:u,x:o,y:a},to:{width:l,height:u,x:o,y:a},duration:g,animationEasing:p,isActive:w},E=>{var{width:C,height:k,x:N,y:_}=E;return S.createElement(Zs,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:p},S.createElement("path",lm({},Rt(e,!0),{className:b,d:VI(N,_,C,k,d),ref:n})))}):S.createElement("path",lm({},Rt(e,!0),{className:b,d:VI(o,a,l,u,d)}))};function q8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=jn(e,n,r,i),l=jn(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}var mie=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Wh=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:l,cornerIsExternal:u}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/om,p=u?i:i+o*f,g=jn(e,n,d,p),y=jn(e,n,r,p),v=u?i-o*f:i,w=jn(e,n,d*Math.cos(f*om),v);return{center:g,circleTangency:y,lineTangency:w,theta:f}},V8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,l=mie(o,a),u=o+l,d=jn(e,n,i,o),f=jn(e,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=jn(e,n,r,o),y=jn(e,n,r,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},gie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=Qn(d-u),{circleTangency:p,lineTangency:g,theta:y}=Wh({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),{circleTangency:v,lineTangency:w,theta:b}=Wh({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),E=l?Math.abs(u-d):Math.abs(u-d)-y-b;if(E<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):V8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:N,theta:_}=Wh({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),{circleTangency:P,lineTangency:D,theta:R}=Wh({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),F=l?Math.abs(u-d):Math.abs(u-d)-_-R;if(F<0&&o===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},yie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W8=t=>{var e=oo(t,yie),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:p}=e;if(o<i||d===f)return null;var g=$t("recharts-sector",p),y=o-i,v=Or(a,y,0,!0),w;return v>0&&Math.abs(d-f)<360?w=gie({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=V8({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),S.createElement("path",a1({},Rt(e,!0),{className:g,d:w}))};function vie(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:d,outerRadius:f,angle:p}=e,g=jn(l,u,d,p),y=jn(l,u,f,p);r=g.x,i=g.y,o=y.x,a=y.y}else return q8(e);return[{x:r,y:i},{x:o,y:a}]}var lw={},cw={},uw={},WI;function xie(){return WI||(WI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(uw)),uw}var GI;function wie(){return GI||(GI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(cw)),cw}var YI;function bie(){return YI||(YI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z3(),n=wie();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((o-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}t.range=r}(lw)),lw}var dw,QI;function Cie(){return QI||(QI=1,dw=bie().range),dw}var Sie=Cie();const G8=eo(Sie);function qa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XS(t){let e,n,r;t.length!==2?(e=qa,n=(l,u)=>qa(t(l),u),r=(l,u)=>t(l)-u):(e=t===qa||t===Eie?t:Aie,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<0?d=p+1:f=p}while(d<f)}return d}function o(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const p=d+f>>>1;n(l[p],u)<=0?d=p+1:f=p}while(d<f)}return d}function a(l,u,d=0,f=l.length){const p=i(l,u,d,f-1);return p>d&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:a,right:o}}function Aie(){return 0}function Y8(t){return t===null?NaN:+t}function*kie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Tie=XS(qa),nf=Tie.right;XS(Y8).center;class XI extends Map{constructor(e,n=Pie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JI(this,e))}has(e){return super.has(JI(this,e))}set(e,n){return super.set(_ie(this,e),n)}delete(e){return super.delete(Nie(this,e))}}function JI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _ie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Nie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Pie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Iie(t=qa){if(t===qa)return Q8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Q8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Die=Math.sqrt(50),Oie=Math.sqrt(10),jie=Math.sqrt(2);function cm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Die?10:o>=Oie?5:o>=jie?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?cm(t,e,n*2):[l,u,d]}function s1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?cm(e,t,n):cm(t,e,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)u[d]=(o-d)/-a;else for(let d=0;d<l;++d)u[d]=(o-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function l1(t,e,n){return e=+e,t=+t,n=+n,cm(t,e,n)[2]}function c1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?l1(e,t,n):l1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Q8:Iie(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(d-u/2<0?-1:1),y=Math.max(n,Math.floor(e-d*p/u+g)),v=Math.min(r,Math.floor(e+(u-d)*p/u+g));X8(t,e,y,v,i)}const o=t[e];let a=n,l=r;for(Ou(t,n,e),i(t[r],o)>0&&Ou(t,n,r);a<l;){for(Ou(t,a,l),++a,--l;i(t[a],o)<0;)++a;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?Ou(t,n,l):(++l,Ou(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Ou(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rie(t,e,n){if(t=Float64Array.from(kie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return eD(t);if(e>=1)return ZI(t);var r,i=(r-1)*e,o=Math.floor(i),a=ZI(X8(t,o).subarray(0,o+1)),l=eD(t.subarray(o+1));return a+(l-a)*(i-o)}}function Mie(t,e,n=Y8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(i-o)}}function Bie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ri(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function la(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u1=Symbol("implicit");function JS(){var t=new XI,e=[],n=[],r=u1;function i(o){let a=t.get(o);if(a===void 0){if(r!==u1)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new XI;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JS(e,n).unknown(r)},Ri.apply(i,arguments),i}function ZS(){var t=JS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,u=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,y=i<r,v=y?i:r,w=y?r:i;o=(w-v)/Math.max(1,g-u+d*2),l&&(o=Math.floor(o)),v+=(w-v-o*(g-u))*f,a=o*(1-u),l&&(v=Math.round(v),a=Math.round(a));var b=Bie(g).map(function(E){return v+o*E});return n(y?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),p()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return ZS(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},Ri.apply(p(),arguments)}function J8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return J8(e())},t}function Fie(){return J8(ZS.apply(null,arguments).paddingInner(1))}function eE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Z8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rf(){}var Dd=.7,um=1/Dd,tc="\\s*([+-]?\\d+)\\s*",Od="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lie=/^#([0-9a-f]{3,8})$/,$ie=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),Uie=new RegExp(`^rgb\\(${Ao},${Ao},${Ao}\\)$`),Hie=new RegExp(`^rgba\\(${tc},${tc},${tc},${Od}\\)$`),zie=new RegExp(`^rgba\\(${Ao},${Ao},${Ao},${Od}\\)$`),Kie=new RegExp(`^hsl\\(${Od},${Ao},${Ao}\\)$`),qie=new RegExp(`^hsla\\(${Od},${Ao},${Ao},${Od}\\)$`),tD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eE(rf,jd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nD,formatHex:nD,formatHex8:Vie,formatHsl:Wie,formatRgb:rD,toString:rD});function nD(){return this.rgb().formatHex()}function Vie(){return this.rgb().formatHex8()}function Wie(){return e6(this).formatHsl()}function rD(){return this.rgb().formatRgb()}function jd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iD(e):n===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$ie.exec(t))?new qr(e[1],e[2],e[3],1):(e=Uie.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hie.exec(t))?Gh(e[1],e[2],e[3],e[4]):(e=zie.exec(t))?Gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Kie.exec(t))?sD(e[1],e[2]/100,e[3]/100,1):(e=qie.exec(t))?sD(e[1],e[2]/100,e[3]/100,e[4]):tD.hasOwnProperty(t)?iD(tD[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function iD(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function Gh(t,e,n,r){return r<=0&&(t=e=n=NaN),new qr(t,e,n,r)}function Gie(t){return t instanceof rf||(t=jd(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function d1(t,e,n,r){return arguments.length===1?Gie(t):new qr(t,e,n,r??1)}function qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}eE(qr,d1,Z8(rf,{brighter(t){return t=t==null?um:Math.pow(um,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(Us(this.r),Us(this.g),Us(this.b),dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oD,formatHex:oD,formatHex8:Yie,formatRgb:aD,toString:aD}));function oD(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function Yie(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function aD(){const t=dm(this.opacity);return`${t===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${t===1?")":`, ${t})`}`}function dm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Us(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ns(t){return t=Us(t),(t<16?"0":"")+t.toString(16)}function sD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vi(t,e,n,r)}function e6(t){if(t instanceof Vi)return new Vi(t.h,t.s,t.l,t.opacity);if(t instanceof rf||(t=jd(t)),!t)return new Vi;if(t instanceof Vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new Vi(a,l,u,t.opacity)}function Qie(t,e,n,r){return arguments.length===1?e6(t):new Vi(t,e,n,r??1)}function Vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}eE(Vi,Qie,Z8(rf,{brighter(t){return t=t==null?um:Math.pow(um,t),new Vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new Vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qr(fw(t>=240?t-240:t+120,i,r),fw(t,i,r),fw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vi(lD(this.h),Yh(this.s),Yh(this.l),dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dm(this.opacity);return`${t===1?"hsl(":"hsla("}${lD(this.h)}, ${Yh(this.s)*100}%, ${Yh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lD(t){return t=(t||0)%360,t<0?t+360:t}function Yh(t){return Math.max(0,Math.min(1,t||0))}function fw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const tE=t=>()=>t;function Xie(t,e){return function(n){return t+n*e}}function Jie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zie(t){return(t=+t)==1?t6:function(e,n){return n-e?Jie(e,n,t):tE(isNaN(e)?n:e)}}function t6(t,e){var n=e-t;return n?Xie(t,n):tE(isNaN(t)?e:t)}const cD=function t(e){var n=Zie(e);function r(i,o){var a=n((i=d1(i)).r,(o=d1(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),d=t6(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function eoe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function toe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function noe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Mc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function roe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ioe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var f1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hw=new RegExp(f1.source,"g");function ooe(t){return function(){return t}}function aoe(t){return function(e){return t(e)+""}}function soe(t,e){var n=f1.lastIndex=hw.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=f1.exec(t))&&(i=hw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:fm(r,i)})),n=hw.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?aoe(u[0].x):ooe(e):(e=u.length,function(d){for(var f=0,p;f<e;++f)l[(p=u[f]).i]=p.x(d);return l.join("")})}function Mc(t,e){var n=typeof e,r;return e==null||n==="boolean"?tE(e):(n==="number"?fm:n==="string"?(r=jd(e))?(e=r,cD):soe:e instanceof jd?cD:e instanceof Date?roe:toe(e)?eoe:Array.isArray(e)?noe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ioe:fm)(t,e)}function nE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function loe(t,e){e===void 0&&(e=t,t=Mc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function coe(t){return function(){return t}}function hm(t){return+t}var uD=[0,1];function Ir(t){return t}function h1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:coe(isNaN(e)?NaN:.5)}function uoe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function doe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=h1(i,r),o=n(a,o)):(r=h1(r,i),o=n(o,a)),function(l){return o(r(l))}}function foe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=h1(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var u=nf(t,l,1,r)-1;return o[u](i[u](l))}}function of(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wg(){var t=uD,e=uD,n=Mc,r,i,o,a=Ir,l,u,d;function f(){var g=Math.min(t.length,e.length);return a!==Ir&&(a=uoe(t[0],t[g-1])),l=g>2?foe:doe,u=d=null,p}function p(g){return g==null||isNaN(g=+g)?o:(u||(u=l(t.map(r),e,n)))(r(a(g)))}return p.invert=function(g){return a(i((d||(d=l(e,t.map(r),fm)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,hm),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=nE,f()},p.clamp=function(g){return arguments.length?(a=g?!0:Ir,f()):a!==Ir},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,y){return r=g,i=y,f()}}function rE(){return wg()(Ir,Ir)}function hoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gc(t){return t=pm(Math.abs(t)),t?t[1]:NaN}function poe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function moe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var goe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rd(t){if(!(e=goe.exec(t)))throw new Error("invalid format: "+t);var e;return new iE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rd.prototype=iE.prototype;function iE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}iE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yoe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var n6;function voe(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(n6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pm(t,Math.max(0,e+o-1))[0]}function dD(t,e){var n=pm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dD(t*100,e),r:dD,s:voe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hD(t){return t}var pD=Array.prototype.map,mD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xoe(t){var e=t.grouping===void 0||t.thousands===void 0?hD:poe(pD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?hD:moe(pD.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Rd(p);var g=p.fill,y=p.align,v=p.sign,w=p.symbol,b=p.zero,E=p.width,C=p.comma,k=p.precision,N=p.trim,_=p.type;_==="n"?(C=!0,_="g"):fD[_]||(k===void 0&&(k=12),N=!0,_="g"),(b||g==="0"&&y==="=")&&(b=!0,g="0",y="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",D=w==="$"?r:/[%p]/.test(_)?a:"",R=fD[_],F=/[defgprs%]/.test(_);k=k===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function O(B){var $=P,L=D,H,X,se;if(_==="c")L=R(B)+L,B="";else{B=+B;var ie=B<0||1/B<0;if(B=isNaN(B)?u:R(Math.abs(B),k),N&&(B=yoe(B)),ie&&+B==0&&v!=="+"&&(ie=!1),$=(ie?v==="("?v:l:v==="-"||v==="("?"":v)+$,L=(_==="s"?mD[8+n6/3]:"")+L+(ie&&v==="("?")":""),F){for(H=-1,X=B.length;++H<X;)if(se=B.charCodeAt(H),48>se||se>57){L=(se===46?i+B.slice(H+1):B.slice(H))+L,B=B.slice(0,H);break}}}C&&!b&&(B=e(B,1/0));var W=$.length+B.length+L.length,Q=W<E?new Array(E-W+1).join(g):"";switch(C&&b&&(B=e(Q+B,Q.length?E-L.length:1/0),Q=""),y){case"<":B=$+B+L+Q;break;case"=":B=$+Q+B+L;break;case"^":B=Q.slice(0,W=Q.length>>1)+$+B+L+Q.slice(W);break;default:B=Q+$+B+L;break}return o(B)}return O.toString=function(){return p+""},O}function f(p,g){var y=d((p=Rd(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(gc(g)/3)))*3,w=Math.pow(10,-v),b=mD[8+v/3];return function(E){return y(w*E)+b}}return{format:d,formatPrefix:f}}var Qh,oE,r6;woe({thousands:",",grouping:[3],currency:["$",""]});function woe(t){return Qh=xoe(t),oE=Qh.format,r6=Qh.formatPrefix,Qh}function boe(t){return Math.max(0,-gc(Math.abs(t)))}function Coe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gc(e)/3)))*3-gc(Math.abs(t)))}function Soe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gc(e)-gc(t))+1}function i6(t,e,n,r){var i=c1(t,e,n),o;switch(r=Rd(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Coe(i,a))&&(r.precision=o),r6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Soe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=boe(i))&&(r.precision=o-(r.type==="%")*2);break}}return oE(r)}function es(t){var e=t.domain;return t.ticks=function(n){var r=e();return s1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return i6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],u,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=o,o=d);f-- >0;){if(d=l1(a,l,n),d===u)return r[i]=a,r[o]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function o6(){var t=rE();return t.copy=function(){return of(t,o6())},Ri.apply(t,arguments),es(t)}function a6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return a6(t).unknown(e)},t=arguments.length?Array.from(t,hm):[0,1],es(n)}function s6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function gD(t){return Math.log(t)}function yD(t){return Math.exp(t)}function Eoe(t){return-Math.log(-t)}function Aoe(t){return-Math.exp(-t)}function koe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Toe(t){return t===10?koe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _oe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vD(t){return(e,n)=>-t(-e,n)}function aE(t){const e=t(gD,yD),n=e.domain;let r=10,i,o;function a(){return i=_oe(r),o=Toe(r),n()[0]<0?(i=vD(i),o=vD(o),t(Eoe,Aoe)):t(gD,yD),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),y=i(f),v,w;const b=l==null?10:+l;let E=[];if(!(r%1)&&y-g<b){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(v=1;v<r;++v)if(w=g<0?v/o(-g):v*o(g),!(w<d)){if(w>f)break;E.push(w)}}else for(;g<=y;++g)for(v=r-1;v>=1;--v)if(w=g>0?v/o(-g):v*o(g),!(w<d)){if(w>f)break;E.push(w)}E.length*2<b&&(E=s1(d,f,b))}else E=s1(g,y,Math.min(y-g,b)).map(o);return p?E.reverse():E},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Rd(u)).precision==null&&(u.trim=!0),u=oE(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let p=f/o(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=d?u(f):""}},e.nice=()=>n(s6(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function l6(){const t=aE(wg()).domain([1,10]);return t.copy=()=>of(t,l6()).base(t.base()),Ri.apply(t,arguments),t}function xD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function wD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sE(t){var e=1,n=t(xD(e),wD(e));return n.constant=function(r){return arguments.length?t(xD(e=+r),wD(e)):e},es(n)}function c6(){var t=sE(wg());return t.copy=function(){return of(t,c6()).constant(t.constant())},Ri.apply(t,arguments)}function bD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Noe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Poe(t){return t<0?-t*t:t*t}function lE(t){var e=t(Ir,Ir),n=1;function r(){return n===1?t(Ir,Ir):n===.5?t(Noe,Poe):t(bD(n),bD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},es(e)}function cE(){var t=lE(wg());return t.copy=function(){return of(t,cE()).exponent(t.exponent())},Ri.apply(t,arguments),t}function Ioe(){return cE.apply(null,arguments).exponent(.5)}function CD(t){return Math.sign(t)*t*t}function Doe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function u6(){var t=rE(),e=[0,1],n=!1,r;function i(o){var a=Doe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(CD(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,hm)).map(CD)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return u6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ri.apply(i,arguments),es(i)}function d6(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=Mie(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[nf(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(qa),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return d6().domain(t).range(e).unknown(r)},Ri.apply(o,arguments)}function f6(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[nf(r,u,0,n)]:o}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return f6().domain([t,e]).range(i).unknown(o)},Ri.apply(es(a),arguments)}function h6(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[nf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return h6().domain(t).range(e).unknown(n)},Ri.apply(i,arguments)}const pw=new Date,mw=new Date;function zn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return u;let d;do u.push(d=new Date(+o)),e(o,l),t(o);while(d<o&&o<a);return u},i.filter=o=>zn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(pw.setTime(+o),mw.setTime(+a),t(pw),t(mw),Math.floor(n(pw,mw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const mm=zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mm);mm.range;const Ko=1e3,Pi=Ko*60,qo=Pi*60,na=qo*24,uE=na*7,SD=na*30,gw=na*365,Ps=zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ko)},(t,e)=>(e-t)/Ko,t=>t.getUTCSeconds());Ps.range;const dE=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ko)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getMinutes());dE.range;const fE=zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCMinutes());fE.range;const hE=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ko-t.getMinutes()*Pi)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getHours());hE.range;const pE=zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getUTCHours());pE.range;const af=zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/na,t=>t.getDate()-1);af.range;const bg=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>t.getUTCDate()-1);bg.range;const p6=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>Math.floor(t/na));p6.range;function ul(t){return zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/uE)}const Cg=ul(0),gm=ul(1),Ooe=ul(2),joe=ul(3),yc=ul(4),Roe=ul(5),Moe=ul(6);Cg.range;gm.range;Ooe.range;joe.range;yc.range;Roe.range;Moe.range;function dl(t){return zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uE)}const Sg=dl(0),ym=dl(1),Boe=dl(2),Foe=dl(3),vc=dl(4),Loe=dl(5),$oe=dl(6);Sg.range;ym.range;Boe.range;Foe.range;vc.range;Loe.range;$oe.range;const mE=zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mE.range;const gE=zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gE.range;const ra=zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ra.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ra.range;const ia=zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ia.range;function m6(t,e,n,r,i,o){const a=[[Ps,1,Ko],[Ps,5,5*Ko],[Ps,15,15*Ko],[Ps,30,30*Ko],[o,1,Pi],[o,5,5*Pi],[o,15,15*Pi],[o,30,30*Pi],[i,1,qo],[i,3,3*qo],[i,6,6*qo],[i,12,12*qo],[r,1,na],[r,2,2*na],[n,1,uE],[e,1,SD],[e,3,3*SD],[t,1,gw]];function l(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const y=p&&typeof p.range=="function"?p:u(d,f,p),v=y?y.range(d,+f+1):[];return g?v.reverse():v}function u(d,f,p){const g=Math.abs(f-d)/p,y=XS(([,,b])=>b).right(a,g);if(y===a.length)return t.every(c1(d/gw,f/gw,p));if(y===0)return mm.every(Math.max(c1(d,f,p),1));const[v,w]=a[g/a[y-1][2]<a[y][2]/g?y-1:y];return v.every(w)}return[l,u]}const[Uoe,Hoe]=m6(ia,gE,Sg,p6,pE,fE),[zoe,Koe]=m6(ra,mE,Cg,af,hE,dE);function yw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ju(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,d=Ru(i),f=Mu(i),p=Ru(o),g=Mu(o),y=Ru(a),v=Mu(a),w=Ru(l),b=Mu(l),E=Ru(u),C=Mu(u),k={a:ie,A:W,b:Q,B:ee,c:null,d:ND,e:ND,f:pae,g:Eae,G:kae,H:dae,I:fae,j:hae,L:g6,m:mae,M:gae,p:I,q:M,Q:DD,s:OD,S:yae,u:vae,U:xae,V:wae,w:bae,W:Cae,x:null,X:null,y:Sae,Y:Aae,Z:Tae,"%":ID},N={a:z,A:K,b:J,B:he,c:null,d:PD,e:PD,f:Iae,g:Uae,G:zae,H:_ae,I:Nae,j:Pae,L:v6,m:Dae,M:Oae,p:we,q:te,Q:DD,s:OD,S:jae,u:Rae,U:Mae,V:Bae,w:Fae,W:Lae,x:null,X:null,y:$ae,Y:Hae,Z:Kae,"%":ID},_={a:O,A:B,b:$,B:L,c:H,d:TD,e:TD,f:sae,g:kD,G:AD,H:_D,I:_D,j:rae,L:aae,m:nae,M:iae,p:F,q:tae,Q:cae,s:uae,S:oae,u:Qoe,U:Xoe,V:Joe,w:Yoe,W:Zoe,x:X,X:se,y:kD,Y:AD,Z:eae,"%":lae};k.x=P(n,k),k.X=P(r,k),k.c=P(e,k),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(V,ce){return function(ye){var le=[],Se=-1,Pe=0,Je=V.length,et,ht,Et;for(ye instanceof Date||(ye=new Date(+ye));++Se<Je;)V.charCodeAt(Se)===37&&(le.push(V.slice(Pe,Se)),(ht=ED[et=V.charAt(++Se)])!=null?et=V.charAt(++Se):ht=et==="e"?" ":"0",(Et=ce[et])&&(et=Et(ye,ht)),le.push(et),Pe=Se+1);return le.push(V.slice(Pe,Se)),le.join("")}}function D(V,ce){return function(ye){var le=ju(1900,void 0,1),Se=R(le,V,ye+="",0),Pe,Je;if(Se!=ye.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ce&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Pe=vw(ju(le.y,0,1)),Je=Pe.getUTCDay(),Pe=Je>4||Je===0?ym.ceil(Pe):ym(Pe),Pe=bg.offset(Pe,(le.V-1)*7),le.y=Pe.getUTCFullYear(),le.m=Pe.getUTCMonth(),le.d=Pe.getUTCDate()+(le.w+6)%7):(Pe=yw(ju(le.y,0,1)),Je=Pe.getDay(),Pe=Je>4||Je===0?gm.ceil(Pe):gm(Pe),Pe=af.offset(Pe,(le.V-1)*7),le.y=Pe.getFullYear(),le.m=Pe.getMonth(),le.d=Pe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Je="Z"in le?vw(ju(le.y,0,1)).getUTCDay():yw(ju(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Je+5)%7:le.w+le.U*7-(Je+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,vw(le)):yw(le)}}function R(V,ce,ye,le){for(var Se=0,Pe=ce.length,Je=ye.length,et,ht;Se<Pe;){if(le>=Je)return-1;if(et=ce.charCodeAt(Se++),et===37){if(et=ce.charAt(Se++),ht=_[et in ED?ce.charAt(Se++):et],!ht||(le=ht(V,ye,le))<0)return-1}else if(et!=ye.charCodeAt(le++))return-1}return le}function F(V,ce,ye){var le=d.exec(ce.slice(ye));return le?(V.p=f.get(le[0].toLowerCase()),ye+le[0].length):-1}function O(V,ce,ye){var le=y.exec(ce.slice(ye));return le?(V.w=v.get(le[0].toLowerCase()),ye+le[0].length):-1}function B(V,ce,ye){var le=p.exec(ce.slice(ye));return le?(V.w=g.get(le[0].toLowerCase()),ye+le[0].length):-1}function $(V,ce,ye){var le=E.exec(ce.slice(ye));return le?(V.m=C.get(le[0].toLowerCase()),ye+le[0].length):-1}function L(V,ce,ye){var le=w.exec(ce.slice(ye));return le?(V.m=b.get(le[0].toLowerCase()),ye+le[0].length):-1}function H(V,ce,ye){return R(V,e,ce,ye)}function X(V,ce,ye){return R(V,n,ce,ye)}function se(V,ce,ye){return R(V,r,ce,ye)}function ie(V){return a[V.getDay()]}function W(V){return o[V.getDay()]}function Q(V){return u[V.getMonth()]}function ee(V){return l[V.getMonth()]}function I(V){return i[+(V.getHours()>=12)]}function M(V){return 1+~~(V.getMonth()/3)}function z(V){return a[V.getUTCDay()]}function K(V){return o[V.getUTCDay()]}function J(V){return u[V.getUTCMonth()]}function he(V){return l[V.getUTCMonth()]}function we(V){return i[+(V.getUTCHours()>=12)]}function te(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ce=P(V+="",k);return ce.toString=function(){return V},ce},parse:function(V){var ce=D(V+="",!1);return ce.toString=function(){return V},ce},utcFormat:function(V){var ce=P(V+="",N);return ce.toString=function(){return V},ce},utcParse:function(V){var ce=D(V+="",!0);return ce.toString=function(){return V},ce}}}var ED={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,Voe=/^%/,Woe=/[\\^$*+?|[\]().{}]/g;function Tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Goe(t){return t.replace(Woe,"\\$&")}function Ru(t){return new RegExp("^(?:"+t.map(Goe).join("|")+")","i")}function Mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Yoe(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qoe(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xoe(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Joe(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zoe(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AD(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kD(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tae(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TD(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rae(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _D(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function aae(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sae(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lae(t,e,n){var r=Voe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cae(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uae(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ND(t,e){return Tt(t.getDate(),e,2)}function dae(t,e){return Tt(t.getHours(),e,2)}function fae(t,e){return Tt(t.getHours()%12||12,e,2)}function hae(t,e){return Tt(1+af.count(ra(t),t),e,3)}function g6(t,e){return Tt(t.getMilliseconds(),e,3)}function pae(t,e){return g6(t,e)+"000"}function mae(t,e){return Tt(t.getMonth()+1,e,2)}function gae(t,e){return Tt(t.getMinutes(),e,2)}function yae(t,e){return Tt(t.getSeconds(),e,2)}function vae(t){var e=t.getDay();return e===0?7:e}function xae(t,e){return Tt(Cg.count(ra(t)-1,t),e,2)}function y6(t){var e=t.getDay();return e>=4||e===0?yc(t):yc.ceil(t)}function wae(t,e){return t=y6(t),Tt(yc.count(ra(t),t)+(ra(t).getDay()===4),e,2)}function bae(t){return t.getDay()}function Cae(t,e){return Tt(gm.count(ra(t)-1,t),e,2)}function Sae(t,e){return Tt(t.getFullYear()%100,e,2)}function Eae(t,e){return t=y6(t),Tt(t.getFullYear()%100,e,2)}function Aae(t,e){return Tt(t.getFullYear()%1e4,e,4)}function kae(t,e){var n=t.getDay();return t=n>=4||n===0?yc(t):yc.ceil(t),Tt(t.getFullYear()%1e4,e,4)}function Tae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tt(e/60|0,"0",2)+Tt(e%60,"0",2)}function PD(t,e){return Tt(t.getUTCDate(),e,2)}function _ae(t,e){return Tt(t.getUTCHours(),e,2)}function Nae(t,e){return Tt(t.getUTCHours()%12||12,e,2)}function Pae(t,e){return Tt(1+bg.count(ia(t),t),e,3)}function v6(t,e){return Tt(t.getUTCMilliseconds(),e,3)}function Iae(t,e){return v6(t,e)+"000"}function Dae(t,e){return Tt(t.getUTCMonth()+1,e,2)}function Oae(t,e){return Tt(t.getUTCMinutes(),e,2)}function jae(t,e){return Tt(t.getUTCSeconds(),e,2)}function Rae(t){var e=t.getUTCDay();return e===0?7:e}function Mae(t,e){return Tt(Sg.count(ia(t)-1,t),e,2)}function x6(t){var e=t.getUTCDay();return e>=4||e===0?vc(t):vc.ceil(t)}function Bae(t,e){return t=x6(t),Tt(vc.count(ia(t),t)+(ia(t).getUTCDay()===4),e,2)}function Fae(t){return t.getUTCDay()}function Lae(t,e){return Tt(ym.count(ia(t)-1,t),e,2)}function $ae(t,e){return Tt(t.getUTCFullYear()%100,e,2)}function Uae(t,e){return t=x6(t),Tt(t.getUTCFullYear()%100,e,2)}function Hae(t,e){return Tt(t.getUTCFullYear()%1e4,e,4)}function zae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vc(t):vc.ceil(t),Tt(t.getUTCFullYear()%1e4,e,4)}function Kae(){return"+0000"}function ID(){return"%"}function DD(t){return+t}function OD(t){return Math.floor(+t/1e3)}var $l,w6,b6;qae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qae(t){return $l=qoe(t),w6=$l.format,$l.parse,b6=$l.utcFormat,$l.utcParse,$l}function Vae(t){return new Date(t)}function Wae(t){return t instanceof Date?+t:+new Date(+t)}function yE(t,e,n,r,i,o,a,l,u,d){var f=rE(),p=f.invert,g=f.domain,y=d(".%L"),v=d(":%S"),w=d("%I:%M"),b=d("%I %p"),E=d("%a %d"),C=d("%b %d"),k=d("%B"),N=d("%Y");function _(P){return(u(P)<P?y:l(P)<P?v:a(P)<P?w:o(P)<P?b:r(P)<P?i(P)<P?E:C:n(P)<P?k:N)(P)}return f.invert=function(P){return new Date(p(P))},f.domain=function(P){return arguments.length?g(Array.from(P,Wae)):g().map(Vae)},f.ticks=function(P){var D=g();return t(D[0],D[D.length-1],P??10)},f.tickFormat=function(P,D){return D==null?_:d(D)},f.nice=function(P){var D=g();return(!P||typeof P.range!="function")&&(P=e(D[0],D[D.length-1],P??10)),P?g(s6(D,P)):f},f.copy=function(){return of(f,yE(t,e,n,r,i,o,a,l,u,d))},f}function Gae(){return Ri.apply(yE(zoe,Koe,ra,mE,Cg,af,hE,dE,Ps,w6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yae(){return Ri.apply(yE(Uoe,Hoe,ia,gE,Sg,bg,pE,fE,Ps,b6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eg(){var t=0,e=1,n,r,i,o,a=Ir,l=!1,u;function d(p){return p==null||isNaN(p=+p)?u:a(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(l=!!p,d):l},d.interpolator=function(p){return arguments.length?(a=p,d):a};function f(p){return function(g){var y,v;return arguments.length?([y,v]=g,a=p(y,v),d):[a(0),a(1)]}}return d.range=f(Mc),d.rangeRound=f(nE),d.unknown=function(p){return arguments.length?(u=p,d):u},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),d}}function ts(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function C6(){var t=es(Eg()(Ir));return t.copy=function(){return ts(t,C6())},la.apply(t,arguments)}function S6(){var t=aE(Eg()).domain([1,10]);return t.copy=function(){return ts(t,S6()).base(t.base())},la.apply(t,arguments)}function E6(){var t=sE(Eg());return t.copy=function(){return ts(t,E6()).constant(t.constant())},la.apply(t,arguments)}function vE(){var t=lE(Eg());return t.copy=function(){return ts(t,vE()).exponent(t.exponent())},la.apply(t,arguments)}function Qae(){return vE.apply(null,arguments).exponent(.5)}function A6(){var t=[],e=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((nf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Rie(t,o/r))},n.copy=function(){return A6(e).domain(t)},la.apply(n,arguments)}function Ag(){var t=0,e=.5,n=1,r=1,i,o,a,l,u,d=Ir,f,p=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-o)*(r*w<r*o?l:u),d(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=f(t=+t),o=f(e=+e),a=f(n=+n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(d=w,y):d};function v(w){return function(b){var E,C,k;return arguments.length?([E,C,k]=b,d=loe(w,[E,C,k]),y):[d(0),d(.5),d(1)]}}return y.range=v(Mc),y.rangeRound=v(nE),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return f=w,i=w(t),o=w(e),a=w(n),l=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,y}}function k6(){var t=es(Ag()(Ir));return t.copy=function(){return ts(t,k6())},la.apply(t,arguments)}function T6(){var t=aE(Ag()).domain([.1,1,10]);return t.copy=function(){return ts(t,T6()).base(t.base())},la.apply(t,arguments)}function _6(){var t=sE(Ag());return t.copy=function(){return ts(t,_6()).constant(t.constant())},la.apply(t,arguments)}function xE(){var t=lE(Ag());return t.copy=function(){return ts(t,xE()).exponent(t.exponent())},la.apply(t,arguments)}function Xae(){return xE.apply(null,arguments).exponent(.5)}const qu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZS,scaleDiverging:k6,scaleDivergingLog:T6,scaleDivergingPow:xE,scaleDivergingSqrt:Xae,scaleDivergingSymlog:_6,scaleIdentity:a6,scaleImplicit:u1,scaleLinear:o6,scaleLog:l6,scaleOrdinal:JS,scalePoint:Fie,scalePow:cE,scaleQuantile:d6,scaleQuantize:f6,scaleRadial:u6,scaleSequential:C6,scaleSequentialLog:S6,scaleSequentialPow:vE,scaleSequentialQuantile:A6,scaleSequentialSqrt:Qae,scaleSequentialSymlog:E6,scaleSqrt:Ioe,scaleSymlog:c6,scaleThreshold:h6,scaleTime:Gae,scaleUtc:Yae,tickFormat:i6},Symbol.toStringTag,{value:"Module"}));var fl=t=>t.chartData,wE=ue([fl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),N6=(t,e,n,r)=>r?wE(t):fl(t);function xc(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(yi(e)&&yi(n))return!0}return!1}function jD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Jae(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(yi(n))i=n;else if(typeof n=="function")return;if(yi(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(xc(a))return a}}function Zae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(xc(r))return jD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Le(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&SI.test(i)){var u=SI.exec(i);if(u==null||e==null)a=void 0;else{var d=+u[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(l=Math.max(...e));else if(Le(o))l=o;else if(typeof o=="function")try{e!=null&&(l=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&EI.test(o)){var f=EI.exec(o);if(f==null||e==null)l=void 0;else{var p=+f[1];l=e[1]+p}}else l=e==null?void 0:e[1];var g=[a,l];if(xc(g))return e==null?g:jD(g,e,n)}}}var Bc=1e9,ese={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CE,tn=!0,Oi="[DecimalError] ",Hs=Oi+"Invalid argument: ",bE=Oi+"Exponent out of range: ",Fc=Math.floor,Cs=Math.pow,tse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Wn=1e7,Jt=7,P6=9007199254740991,vm=Fc(P6/Jt),Fe={};Fe.absoluteValue=Fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Fe.comparedTo=Fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(t){return Qo(this,new this.constructor(t))};Fe.dividedToIntegerBy=Fe.idiv=function(t){var e=this,n=e.constructor;return zt(Qo(e,new n(t),0,1),n.precision)};Fe.equals=Fe.eq=function(t){return!this.cmp(t)};Fe.exponent=function(){return Mn(this)};Fe.greaterThan=Fe.gt=function(t){return this.cmp(t)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(t){return this.cmp(t)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(t){return this.cmp(t)<0};Fe.lessThanOrEqualTo=Fe.lte=function(t){return this.cmp(t)<1};Fe.logarithm=Fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error(Oi+"NaN");if(n.s<1)throw Error(Oi+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(tn=!1,e=Qo(Md(n,o),Md(t,o),o),tn=!0,zt(e,i))};Fe.minus=Fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O6(e,t):I6(e,(t.s=-t.s,t))};Fe.modulo=Fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oi+"NaN");return n.s?(tn=!1,e=Qo(n,t,0,1).times(t),tn=!0,n.minus(e)):zt(new r(n),i)};Fe.naturalExponential=Fe.exp=function(){return D6(this)};Fe.naturalLogarithm=Fe.ln=function(){return Md(this)};Fe.negated=Fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Fe.plus=Fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I6(e,t):O6(e,(t.s=-t.s,t))};Fe.precision=Fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hs+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Fe.squareRoot=Fe.sqrt=function(){var t,e,n,r,i,o,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Oi+"NaN")}for(t=Mn(l),tn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(Qo(l,o,a+2)).times(.5),wo(o.d).slice(0,a)===(e=wo(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(zt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return tn=!0,zt(r,n)};Fe.times=Fe.mul=function(t){var e,n,r,i,o,a,l,u,d,f=this,p=f.constructor,g=f.d,y=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,u=g.length,d=y.length,u<d&&(o=g,g=y,y=o,a=u,u=d,d=a),o=[],a=u+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=o[i]+y[r]*g[i-r-1]+e,o[i--]=l%Wn|0,e=l/Wn|0;o[i]=(o[i]+e)%Wn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,tn?zt(t,p.precision):t};Fe.toDecimalPlaces=Fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(To(t,0,Bc),e===void 0?e=r.rounding:To(e,0,8),zt(n,t+Mn(n)+1,e))};Fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=el(r,!0):(To(t,0,Bc),e===void 0?e=i.rounding:To(e,0,8),r=zt(new i(r),t+1,e),n=el(r,!0,t+1)),n};Fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?el(i):(To(t,0,Bc),e===void 0?e=o.rounding:To(e,0,8),r=zt(new o(i),t+Mn(i)+1,e),n=el(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Mn(t)+1,e.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(t){var e,n,r,i,o,a,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(ci);if(l=new u(l),!l.s){if(t.s<1)throw Error(Oi+"Infinity");return l}if(l.eq(ci))return l;if(r=u.precision,t.eq(ci))return zt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=f<0?-f:f)<=P6){for(i=new u(ci),e=Math.ceil(r/Jt+4),tn=!1;n%2&&(i=i.times(l),MD(i.d,e)),n=Fc(n/2),n!==0;)l=l.times(l),MD(l.d,e);return tn=!0,t.s<0?new u(ci).div(i):zt(i,r)}}else if(o<0)throw Error(Oi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,tn=!1,i=t.times(Md(l,r+d)),tn=!0,i=D6(i),i.s=o,i};Fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Mn(i),r=el(i,n<=o.toExpNeg||n>=o.toExpPos)):(To(t,1,Bc),e===void 0?e=o.rounding:To(e,0,8),i=zt(new o(i),t,e),n=Mn(i),r=el(i,t<=n||n<=o.toExpNeg,t)),r};Fe.toSignificantDigits=Fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(To(t,1,Bc),e===void 0?e=r.rounding:To(e,0,8)),zt(new r(n),t,e)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return el(t,e<=n.toExpNeg||e>=n.toExpPos)};function I6(t,e){var n,r,i,o,a,l,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),tn?zt(e,p):e;if(u=t.d,d=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,l=d.length):(r=d,i=a,l=u.length),a=Math.ceil(p/Jt),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=u.length,o=d.length,l-o<0&&(o=l,r=d,d=u,u=r),n=0;o;)n=(u[--o]=u[o]+d[o]+n)/Wn|0,u[o]%=Wn;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,tn?zt(e,p):e}function To(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Hs+t)}function wo(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Jt-r.length,n&&(o+=Ra(n)),o+=r;a=t[e],r=a+"",n=Jt-r.length,n&&(o+=Ra(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Qo=function(){function t(r,i){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+a,r[l]=o%Wn|0,a=o/Wn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var l,u;if(o!=a)u=o>a?1:-1;else for(l=u=0;l<o;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Wn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var l,u,d,f,p,g,y,v,w,b,E,C,k,N,_,P,D,R,F=r.constructor,O=r.s==i.s?1:-1,B=r.d,$=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Oi+"Division by zero");for(u=r.e-i.e,D=$.length,_=B.length,y=new F(O),v=y.d=[],d=0;$[d]==(B[d]||0);)++d;if($[d]>(B[d]||0)&&--u,o==null?C=o=F.precision:a?C=o+(Mn(r)-Mn(i))+1:C=o,C<0)return new F(0);if(C=C/Jt+2|0,d=0,D==1)for(f=0,$=$[0],C++;(d<_||f)&&C--;d++)k=f*Wn+(B[d]||0),v[d]=k/$|0,f=k%$|0;else{for(f=Wn/($[0]+1)|0,f>1&&($=t($,f),B=t(B,f),D=$.length,_=B.length),N=D,w=B.slice(0,D),b=w.length;b<D;)w[b++]=0;R=$.slice(),R.unshift(0),P=$[0],$[1]>=Wn/2&&++P;do f=0,l=e($,w,D,b),l<0?(E=w[0],D!=b&&(E=E*Wn+(w[1]||0)),f=E/P|0,f>1?(f>=Wn&&(f=Wn-1),p=t($,f),g=p.length,b=w.length,l=e(p,w,g,b),l==1&&(f--,n(p,D<g?R:$,g))):(f==0&&(l=f=1),p=$.slice()),g=p.length,g<b&&p.unshift(0),n(w,p,b),l==-1&&(b=w.length,l=e($,w,D,b),l<1&&(f++,n(w,D<b?R:$,b))),b=w.length):l===0&&(f++,w=[0]),v[d++]=f,l&&w[0]?w[b++]=B[N]||0:(w=[B[N]],b=1);while((N++<_||w[0]!==void 0)&&C--)}return v[0]||v.shift(),y.e=u,zt(y,a?o+Mn(y)+1:o)}}();function D6(t,e){var n,r,i,o,a,l,u=0,d=0,f=t.constructor,p=f.precision;if(Mn(t)>16)throw Error(bE+Mn(t));if(!t.s)return new f(ci);for(e==null?(tn=!1,l=p):l=e,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Cs(2,d))/Math.LN10*2+5|0,l+=r,n=i=o=new f(ci),f.precision=l;;){if(i=zt(i.times(t),l),n=n.times(++u),a=o.plus(Qo(i,n,l)),wo(a.d).slice(0,l)===wo(o.d).slice(0,l)){for(;d--;)o=zt(o.times(o),l);return f.precision=p,e==null?(tn=!0,zt(o,p)):o}o=a}}function Mn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function xw(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(Oi+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function Ra(t){for(var e="";t--;)e+="0";return e}function Md(t,e){var n,r,i,o,a,l,u,d,f,p=1,g=10,y=t,v=y.d,w=y.constructor,b=w.precision;if(y.s<1)throw Error(Oi+(y.s?"NaN":"-Infinity"));if(y.eq(ci))return new w(0);if(e==null?(tn=!1,d=b):d=e,y.eq(10))return e==null&&(tn=!0),xw(w,d);if(d+=g,w.precision=d,n=wo(v),r=n.charAt(0),o=Mn(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=wo(y.d),r=n.charAt(0),p++;o=Mn(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return u=xw(w,d+2,b).times(o+""),y=Md(new w(r+"."+n.slice(1)),d-g).plus(u),w.precision=b,e==null?(tn=!0,zt(y,b)):y;for(l=a=y=Qo(y.minus(ci),y.plus(ci),d),f=zt(y.times(y),d),i=3;;){if(a=zt(a.times(f),d),u=l.plus(Qo(a,new w(i),d)),wo(u.d).slice(0,d)===wo(l.d).slice(0,d))return l=l.times(2),o!==0&&(l=l.plus(xw(w,d+2,b).times(o+""))),l=Qo(l,new w(p),d),w.precision=b,e==null?(tn=!0,zt(l,b)):l;l=u,i+=2}}function RD(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Fc(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jt;r<i;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>vm||t.e<-vm))throw Error(bE+n)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,n){var r,i,o,a,l,u,d,f,p=t.d;for(a=1,o=p[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Jt,i=e,d=p[f=0];else{if(f=Math.ceil((r+1)/Jt),o=p.length,f>=o)return t;for(d=o=p[f],a=1;o>=10;o/=10)a++;r%=Jt,i=r-Jt+a}if(n!==void 0&&(o=Cs(10,a-i-1),l=d/o%10|0,u=e<0||p[f+1]!==void 0||d%o,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Cs(10,a-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(o=Mn(t),p.length=1,e=e-o-1,p[0]=Cs(10,(Jt-e%Jt)%Jt),t.e=Fc(-e/Jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,o=1,f--):(p.length=f+1,o=Cs(10,Jt-r),p[f]=i>0?(d/Cs(10,a-i)%Cs(10,i)|0)*o:0),u)for(;;)if(f==0){(p[0]+=o)==Wn&&(p[0]=1,++t.e);break}else{if(p[f]+=o,p[f]!=Wn)break;p[f--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(tn&&(t.e>vm||t.e<-vm))throw Error(bE+Mn(t));return t}function O6(t,e){var n,r,i,o,a,l,u,d,f,p,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),tn?zt(e,y):e;if(u=t.d,p=e.d,r=e.e,d=t.e,u=u.slice(),a=d-r,a){for(f=a<0,f?(n=u,a=-a,l=p.length):(n=p,r=d,l=u.length),i=Math.max(Math.ceil(y/Jt),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){f=u[i]<p[i];break}a=0}for(f&&(n=u,u=p,p=n,e.s=-e.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(o=i;o&&u[--o]===0;)u[o]=Wn-1;--u[o],u[i]+=Wn}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,tn?zt(e,y):e):new g(0)}function el(t,e,n){var r,i=Mn(t),o=wo(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ra(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ra(-i-1)+o,n&&(r=n-a)>0&&(o+=Ra(r))):i>=a?(o+=Ra(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ra(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ra(r))),t.s<0?"-"+o:o}function MD(t,e){if(t.length>e)return t.length=e,!0}function j6(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Hs+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return RD(a,o.toString())}else if(typeof o!="string")throw Error(Hs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,tse.test(o))RD(a,o);else throw Error(Hs+o)}if(i.prototype=Fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j6,i.config=i.set=nse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nse(t){if(!t||typeof t!="object")throw Error(Oi+"Object expected");var e,n,r,i=["precision",1,Bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Fc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Hs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hs+n+": "+r);return this}var CE=j6(ese);ci=new CE(1);const Ot=CE;var rse=t=>t,R6={"@@functional/placeholder":!0},M6=t=>t===R6,BD=t=>function e(){return arguments.length===0||arguments.length===1&&M6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},B6=(t,e)=>t===1?e:BD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==R6).length;return o>=t?e(...r):B6(t-o,BD(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=r.map(f=>M6(f)?l.shift():f);return e(...d,...l)}))}),kg=t=>B6(t.length,t),p1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},ise=kg((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),ose=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return rse;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),o(...arguments))}},m1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),F6=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,l)=>{var u;return a===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function L6(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function $6(t,e,n){for(var r=new Ot(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}kg((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});kg((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});kg((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var U6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},H6=(t,e,n)=>{if(t.lte(0))return new Ot(0);var r=L6(t.toNumber()),i=new Ot(10).pow(r),o=t.div(i),a=r!==1?.05:.1,l=new Ot(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=l.mul(i);return e?new Ot(u.toNumber()):new Ot(Math.ceil(u.toNumber()))},ase=(t,e,n)=>{var r=new Ot(1),i=new Ot(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ot(10).pow(L6(t)-1),i=new Ot(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ot(Math.floor(t)))}else t===0?i=new Ot(Math.floor((e-1)/2)):n||(i=new Ot(Math.floor(t)));var a=Math.floor((e-1)/2),l=ose(ise(u=>i.add(new Ot(u-a).mul(r)).toNumber()),p1);return l(0,e)},z6=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var a=H6(new Ot(n).sub(e).div(r-1),i,o),l;e<=0&&n>=0?l=new Ot(0):(l=new Ot(e).add(n).div(2),l=l.sub(new Ot(l).mod(a)));var u=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new Ot(n).sub(l).div(a).toNumber()),f=u+d+1;return f>r?z6(e,n,r,i,o+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:a,tickMin:l.sub(new Ot(u).mul(a)),tickMax:l.add(new Ot(d).mul(a))})};function sse(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,l]=U6([e,n]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...p1(0,r-1).map(()=>1/0)]:[...p1(0,r-1).map(()=>-1/0),l];return e>n?m1(u):u}if(a===l)return ase(a,r,i);var{step:d,tickMin:f,tickMax:p}=z6(a,l,o,i,0),g=$6(f,p.add(new Ot(.1).mul(d)),d);return e>n?m1(g):g}function lse(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=U6([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var l=Math.max(e,2),u=H6(new Ot(a).sub(o).div(l-1),i,0),d=[...$6(new Ot(o),new Ot(a),u),a];return i===!1&&(d=d.map(f=>Math.round(f))),n>r?m1(d):d}var cse=F6(sse),use=F6(lse),K6=t=>t.rootProps.maxBarSize,dse=t=>t.rootProps.barGap,q6=t=>t.rootProps.barCategoryGap,fse=t=>t.rootProps.barSize,sf=t=>t.rootProps.stackOffset,SE=t=>t.options.chartName,EE=t=>t.rootProps.syncId,V6=t=>t.rootProps.syncMethod,AE=t=>t.options.eventEmitter,Uo={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ai={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Tg=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},hse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:Uo.reversed,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:Uo.type,unit:void 0},pse={allowDataOverflow:ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:ai.type,unit:void 0},mse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Uo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Uo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Uo.scale,tick:Uo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gse={allowDataOverflow:ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:"category",unit:void 0},kE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?mse:hse,TE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gse:pse,_g=t=>t.polarOptions,_E=ue([aa,sa,Hn],A8),W6=ue([_g,_E],(t,e)=>{if(t!=null)return Or(t.innerRadius,e,0)}),G6=ue([_g,_E],(t,e)=>{if(t!=null)return Or(t.outerRadius,e,e*.8)}),yse=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Y6=ue([_g],yse);ue([kE,Y6],Tg);var Q6=ue([_E,W6,G6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ue([TE,Q6],Tg);var vse=ue([Mt,_g,W6,G6,aa,sa],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=e;return{cx:Or(a,i,i/2),cy:Or(l,o,o/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),wn=(t,e)=>e,lf=(t,e,n)=>n;function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xse(t,e,n){return(e=wse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=bse(t,"string");return typeof e=="symbol"?e:e+""}function bse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g1=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ca=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??ii},oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:g1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yg},ns=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??oi},Cse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Cse},bn=(t,e,n)=>{switch(e){case"xAxis":return ca(t,n);case"yAxis":return ns(t,n);case"zAxis":return NE(t,n);case"angleAxis":return kE(t,n);case"radiusAxis":return TE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Sse=(t,e,n)=>{switch(e){case"xAxis":return ca(t,n);case"yAxis":return ns(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},cf=(t,e,n)=>{switch(e){case"xAxis":return ca(t,n);case"yAxis":return ns(t,n);case"angleAxis":return kE(t,n);case"radiusAxis":return TE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},X6=t=>t.graphicalItems.countOfBars>0;function PE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var IE=t=>t.graphicalItems.cartesianItems,Ese=ue([wn,lf],PE),DE=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),uf=ue([IE,bn,Ese],DE),J6=t=>t.filter(e=>e.stackId===void 0),Ase=ue([uf],J6),OE=t=>t.map(e=>e.data).filter(Boolean).flat(1),kse=ue([uf],OE),jE=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Ng=ue([kse,N6],jE),RE=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:hn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:hn(i,r)}))):t.map(r=>({value:r})),Pg=ue([Ng,bn,uf],RE);function Z6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function hl(t){return t.filter(e=>ko(e)||e instanceof Date).map(Number).filter(e=>pi(e)===!1)}function Tse(t,e,n){return!n||typeof e!="number"||pi(e)?[]:n.length?hl(n.flatMap(r=>{var i=hn(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!yi(o)||!yi(a)))return[e-o,e+a]})):[]}var e5=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,l]=o,u=l.map(d=>d.dataKey);return[a,{stackedData:Une(t,u,n),graphicalItems:l}]}))},y1=ue([Ng,uf,sf],e5),t5=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=qne(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},_se=ue([y1,fl,wn],t5),n5=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var a,l,u=(a=o.errorBars)===null||a===void 0?void 0:a.filter(f=>Z6(r,f)),d=hn(i,(l=e.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:d,errorDomain:Tse(i,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:hn(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),Nse=ue(Ng,bn,Ase,wn,n5);function Pse(t){var{value:e}=t;if(ko(e)||e instanceof Date)return e}var Ise=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=hl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dse=(t,e,n)=>{var r=t.map(Pse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&E3(r))?G8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},ME=t=>{var e;if(t==null||!("domain"in t))return g1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=hl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:g1},BE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),l=Math.max(...o);return[a,l]}},r5=t=>t.referenceElements.dots,Lc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Ose=ue([r5,wn,lf],Lc),i5=t=>t.referenceElements.areas,jse=ue([i5,wn,lf],Lc),o5=t=>t.referenceElements.lines,Rse=ue([o5,wn,lf],Lc),a5=(t,e)=>{var n=hl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mse=ue(Ose,wn,a5),s5=(t,e)=>{var n=hl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bse=ue([jse,wn],s5),l5=(t,e)=>{var n=hl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Fse=ue(Rse,wn,l5),Lse=ue(Mse,Fse,Bse,(t,e,n)=>BE(t,n,e)),c5=ue([bn],ME),FE=(t,e,n,r,i)=>{var o=Jae(e,t.allowDataOverflow);return o??Zae(e,BE(n,i,Ise(r)),t.allowDataOverflow)},$se=ue([bn,c5,_se,Nse,Lse],FE),Use=[0,1],LE=(t,e,n,r,i,o,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:l,type:u}=t,d=cl(e,o);return d&&l==null?G8(0,n.length):u==="category"?Dse(r,t,d):i==="expand"?Use:a}},$E=ue([bn,Mt,Ng,Pg,sf,wn,$se],LE),u5=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var l="scale".concat(Zd(o));return l in qu?l:"point"}}},$c=ue([bn,Mt,X6,SE,wn],u5);function Hse(t){if(t!=null){if(t in qu)return qu[t]();var e="scale".concat(Zd(t));if(e in qu)return qu[e]()}}function UE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Hse(e);if(i!=null){var o=i.domain(n).range(r);return Mne(o),o}}}var HE=(t,e,n)=>{var r=ME(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xc(t))return cse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xc(t))return use(t,e.tickCount,e.allowDecimals)}},zE=ue([$E,cf,$c],HE),KE=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&xc(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,o),Math.max(a,l)]}return e},zse=ue([bn,$E,zE,wn],KE),Kse=ue(Pg,bn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(hl(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),d5=ue(Kse,Mt,q6,Hn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!yi(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Or(n,t*o),l=t*o/2;return l-a-(l-a)/o*a}return 0}),qse=(t,e)=>{var n=ca(t,e);return n==null||typeof n.padding!="string"?0:d5(t,"xAxis",e,n.padding)},Vse=(t,e)=>{var n=ns(t,e);return n==null||typeof n.padding!="string"?0:d5(t,"yAxis",e,n.padding)},Wse=ue(ca,qse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Gse=ue(ns,Vse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Yse=ue([Hn,Wse,xg,vg,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),Qse=ue([Hn,Mt,Gse,xg,vg,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),df=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Yse(t,n,r);case"yAxis":return Qse(t,n,r);case"zAxis":return(i=NE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Y6(t);case"radiusAxis":return Q6(t,n);default:return}},f5=ue([bn,df],Tg),Uc=ue([bn,$c,zse,f5],UE);ue(uf,wn,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>Z6(e,n)));function h5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ig=(t,e)=>e,Dg=(t,e,n)=>n,Xse=ue(VS,Ig,Dg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),Jse=ue(WS,Ig,Dg,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(h5)),p5=(t,e)=>({width:t.width,height:e.height}),Zse=(t,e)=>{var n=typeof e.width=="number"?e.width:yg;return{width:n,height:t.height}},m5=ue(Hn,ca,p5),ele=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},tle=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},nle=ue(sa,Hn,Xse,Ig,Dg,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=p5(e,l);a==null&&(a=ele(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),o}),rle=ue(aa,Hn,Jse,Ig,Dg,(t,e,n,r,i)=>{var o={},a;return n.forEach(l=>{var u=Zse(e,l);a==null&&(a=tle(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),o}),ile=(t,e)=>{var n=Hn(t),r=ca(t,e);if(r!=null){var i=nle(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},ole=(t,e)=>{var n=Hn(t),r=ns(t,e);if(r!=null){var i=rle(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},g5=ue(Hn,ns,(t,e)=>{var n=typeof e.width=="number"?e.width:yg;return{width:n,height:t.height}}),LD=(t,e,n)=>{switch(e){case"xAxis":return m5(t,n).width;case"yAxis":return g5(t,n).height;default:return}},y5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,l=cl(t,r),u=e.map(d=>d.value);if(a&&l&&o==="category"&&i&&E3(u))return u}},qE=ue([Mt,Pg,bn,wn],y5),v5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=cl(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(l=>l.value)}},VE=ue([Mt,Pg,cf,wn],v5),$D=ue([Mt,Sse,$c,Uc,qE,VE,df,zE,wn],(t,e,n,r,i,o,a,l,u)=>{if(e==null)return null;var d=cl(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}),ale=(t,e,n,r,i,o,a,l,u)=>{if(!(e==null||r==null)){var d=cl(t,u),{type:f,ticks:p,tickCount:g}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/y:0;v=u==="angleAxis"&&o!=null&&o.length>=2?Qn(o[0]-o[1])*2*v:v;var w=p||i;if(w){var b=w.map((E,C)=>{var k=a?a.indexOf(E):E;return{index:C,coordinate:r(k)+v,value:E,offset:v}});return b.filter(E=>!pi(E.coordinate))}return d&&l?l.map((E,C)=>({coordinate:r(E)+v,value:E,index:C,offset:v})):r.ticks?r.ticks(g).map(E=>({coordinate:r(E)+v,value:E,offset:v})):r.domain().map((E,C)=>({coordinate:r(E)+v,value:a?a[E]:E,index:C,offset:v}))}},x5=ue([Mt,cf,$c,Uc,zE,df,qE,VE,wn],ale),sle=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=cl(t,a),{tickCount:u}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Qn(r[0]-r[1])*2*d:d,l&&o?o.map((f,p)=>({coordinate:n(f)+d,value:f,index:p,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,p)=>({coordinate:n(f)+d,value:i?i[f]:f,index:p,offset:d}))}},wc=ue([Mt,cf,Uc,df,qE,VE,wn],sle),Xa=ue(bn,Uc,(t,e)=>{if(!(t==null||e==null))return xm(xm({},t),{},{scale:e})}),lle=ue([bn,$c,$E,f5],UE);ue((t,e,n)=>NE(t,n),lle,(t,e)=>{if(!(t==null||e==null))return xm(xm({},t),{},{scale:e})});var cle=ue([Mt,VS,WS],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),w5=t=>t.options.defaultTooltipEventType,b5=t=>t.options.validateTooltipEventTypes;function C5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function WE(t,e){var n=w5(t),r=b5(t);return C5(e,n,r)}function ule(t){return Ve(e=>WE(e,t))}var S5=(t,e)=>{var n,r=Number(e);if(!(pi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},dle=t=>t.tooltip.settings,La={active:!1,index:null,dataKey:void 0,coordinate:void 0},fle={itemInteraction:{click:La,hover:La},axisInteraction:{click:La,hover:La},keyboardInteraction:La,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},E5=ji({name:"tooltip",initialState:fle,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Yo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:hle,removeTooltipEntrySettings:ple,setTooltipSettingsState:mle,setActiveMouseOverItemIndex:A5,mouseLeaveItem:gle,mouseLeaveChart:k5,setActiveClickItemIndex:yle,setMouseOverAxisIndex:T5,setMouseClickAxisIndex:vle,setSyncInteraction:v1,setKeyboardInteraction:x1}=E5.actions,xle=E5.reducer;function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sle(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ele(t){return t.index!=null}var _5=(t,e,n,r)=>{if(e==null)return La;var i=Sle(t,e,n);if(i==null)return La;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Ele(i)){if(o)return Xh(Xh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Xh(Xh({},La),{},{coordinate:i.coordinate})},GE=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!yi(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},N5=(t,e,n,r,i,o,a,l)=>{if(!(o==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,o);if(d!=null)return d;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},P5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},ff=t=>t.options.tooltipPayloadSearcher,Hc=t=>t.tooltip;function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _le(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Nle(t,e){return t??e}var I5=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,p=[];return t.reduce((g,y)=>{var v,{dataDefinedOnItem:w,settings:b}=y,E=Nle(w,l),C=_le(E,d,f),k=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:r==null?void 0:r.dataKey,N=b==null?void 0:b.nameKey,_;if(r!=null&&r.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&a==="axis"?_=PZ(C,r.dataKey,i):_=o(C,e,u,N),Array.isArray(_))_.forEach(D=>{var R=zD(zD({},b),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});g.push(AI({tooltipEntrySettings:R,dataKey:D.dataKey,payload:D.payload,value:hn(D.payload,D.dataKey),name:D.name}))});else{var P;g.push(AI({tooltipEntrySettings:b,dataKey:k,payload:_,value:hn(_,k),name:(P=hn(_,N))!==null&&P!==void 0?P:b==null?void 0:b.name}))}return g},p)}},Zn=t=>{var e=Mt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},zc=t=>t.tooltip.settings.axisId,cr=t=>{var e=Zn(t),n=zc(t);return cf(t,e,n)},YE=ue([cr,Mt,X6,SE,Zn],u5),Ple=ue([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ile=ue([Zn,zc],PE),Og=ue([Ple,cr,Ile],DE),Dle=ue([Og],OE),pl=ue([Dle,fl],jE),QE=ue([pl,cr,Og],RE),Ole=ue([cr],ME),jle=ue([pl,Og,sf],e5),Rle=ue([jle,fl,Zn],t5),Mle=ue([Og],J6),Ble=ue([pl,cr,Mle,Zn],n5),Fle=ue([r5,Zn,zc],Lc),Lle=ue([Fle,Zn],a5),$le=ue([i5,Zn,zc],Lc),Ule=ue([$le,Zn],s5),Hle=ue([o5,Zn,zc],Lc),zle=ue([Hle,Zn],l5),Kle=ue([Lle,zle,Ule],BE),qle=ue([cr,Ole,Rle,Ble,Kle],FE),D5=ue([cr,Mt,pl,QE,sf,Zn,qle],LE),Vle=ue([D5,cr,YE],HE),Wle=ue([cr,D5,Vle,Zn],KE),O5=t=>{var e=Zn(t),n=zc(t),r=!1;return df(t,e,n,r)},j5=ue([cr,O5],Tg),R5=ue([cr,YE,Wle,j5],UE),Gle=ue([Mt,QE,cr,Zn],y5),Yle=ue([Mt,QE,cr,Zn],v5),Qle=(t,e,n,r,i,o,a,l)=>{if(e){var{type:u}=e,d=cl(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Qn(i[0]-i[1])*2*p:p,d&&a?a.map((g,y)=>({coordinate:r(g)+p,value:g,index:y,offset:p})):r.domain().map((g,y)=>({coordinate:r(g)+p,value:o?o[g]:g,index:y,offset:p}))}}},ua=ue([Mt,cr,YE,R5,O5,Gle,Yle,Zn],Qle),XE=ue([w5,b5,dle],(t,e,n)=>C5(n.shared,t,e)),M5=t=>t.tooltip.settings.trigger,JE=t=>t.tooltip.settings.defaultIndex,jg=ue([Hc,XE,M5,JE],_5),tl=ue([jg,pl],GE),B5=ue([ua,tl],S5),F5=ue([jg],t=>{if(t)return t.dataKey}),L5=ue([Hc,XE,M5,JE],P5),Xle=ue([aa,sa,Mt,Hn,ua,JE,L5,ff],N5),Jle=ue([jg,Xle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Zle=ue([jg],t=>t.active),ece=ue([L5,tl,fl,cr,B5,ff,XE],I5);ue([ece],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return(e=nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return typeof e=="symbol"?e:e+""}function rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ice=()=>Ve(cr),oce=()=>{var t=ice(),e=Ve(ua),n=Ve(R5);return qS(qD(qD({},t),{},{scale:n}),e)},ace=()=>Ve(SE),ZE=(t,e)=>e,$5=(t,e,n)=>n,eA=(t,e,n,r)=>r,sce=ue(ua,t=>cg(t,e=>e.coordinate)),tA=ue([Hc,ZE,$5,eA],_5),U5=ue([tA,pl],GE),lce=(t,e,n)=>{if(e!=null){var r=Hc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},H5=ue([Hc,ZE,$5,eA],P5),wm=ue([aa,sa,Mt,Hn,ua,eA,H5,ff],N5),cce=ue([tA,wm],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),z5=ue(ua,U5,S5),uce=ue([H5,U5,fl,cr,z5,ff,ZE],I5),dce=ue([tA],t=>({isActive:t.active,activeIndex:t.index})),fce=(t,e,n,r,i,o,a,l)=>{if(!(!t||!e||!r||!i||!o)){var u=Vne(t.chartX,t.chartY,e,n,l);if(u){var d=Gne(u,e),f=jne(d,a,o,r,i),p=Wne(e,o,f,u);return{activeIndex:String(f),activeCoordinate:p}}}};function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(null,arguments)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gce(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:l,tooltipEventType:u,chartName:d}=t,f=e,p=n,g=r;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var y,v;if(d==="ScatterChart")y=f,v=Ire;else if(d==="BarChart")y=Dre(a,f,i,o),v=K8;else if(a==="radial"){var{cx:w,cy:b,radius:E,startAngle:C,endAngle:k}=q8(f);y={cx:w,cy:b,startAngle:C,endAngle:k,innerRadius:E,outerRadius:E},v=W8}else y={points:vie(a,f,i)},v=$8;var N=typeof l=="object"&&"className"in l?l.className:void 0,_=Jh(Jh(Jh(Jh({stroke:"#ccc",pointerEvents:"none"},i),y),Rt(l,!1)),{},{payload:p,payloadIndex:g,className:$t("recharts-tooltip-cursor",N)});return S.isValidElement(l)?S.cloneElement(l,_):S.createElement(v,_)}function yce(t){var e=oce(),n=O8(),r=YS(),i=ace();return S.createElement(gce,w1({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var K5=S.createContext(null),vce=()=>S.useContext(K5),ww={exports:{}},WD;function xce(){return WD||(WD=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function o(u,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,p||u,g),v=n?n+d:d;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],y]:u._events[v].push(y):(u._events[v]=y,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,v=new Array(y);g<y;g++)v[g]=p[g].fn;return v},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,g,y,v){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],E=arguments.length,C,k;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,g),!0;case 5:return b.fn.call(b.context,f,p,g,y),!0;case 6:return b.fn.call(b.context,f,p,g,y,v),!0}for(k=1,C=new Array(E-1);k<E;k++)C[k-1]=arguments[k];b.fn.apply(b.context,C)}else{var N=b.length,_;for(k=0;k<N;k++)switch(b[k].once&&this.removeListener(d,b[k].fn,void 0,!0),E){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,f);break;case 3:b[k].fn.call(b[k].context,f,p);break;case 4:b[k].fn.call(b[k].context,f,p,g);break;default:if(!C)for(_=1,C=new Array(E-1);_<E;_++)C[_-1]=arguments[_];b[k].fn.apply(b[k].context,C)}}return!0},l.prototype.on=function(d,f,p){return o(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return o(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,g){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var v=this._events[y];if(v.fn)v.fn===f&&(!g||v.once)&&(!p||v.context===p)&&a(this,y);else{for(var w=0,b=[],E=v.length;w<E;w++)(v[w].fn!==f||g&&!v[w].once||p&&v[w].context!==p)&&b.push(v[w]);b.length?this._events[y]=b.length===1?b[0]:b:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(ww)),ww.exports}var wce=xce();const bce=eo(wce);var Bd=new bce,b1="recharts.syncEvent.tooltip",GD="recharts.syncEvent.brush";function q5(t,e){if(e){var n=Number.parseInt(e,10);if(!pi(n))return t==null?void 0:t[n]}}var Cce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},V5=ji({name:"options",initialState:Cce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sce=V5.reducer,{createEventEmitter:Ece}=V5.actions;function Ace(t){return t.tooltip.syncInteraction}var kce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W5=ji({name:"chartData",initialState:kce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:YD,setDataStartEndIndexes:Tce,setComputedData:Jpe}=W5.actions,_ce=W5.reducer,G5=()=>{};function Nce(){var t=Ve(EE),e=Ve(AE),n=pn(),r=Ve(V6),i=Ve(ua),o=YS(),a=GS(),l=Ve(u=>u.rootProps.className);S.useEffect(()=>{if(t==null)return G5;var u=(d,f,p)=>{if(e!==p&&t===d){if(r==="index"){n(f);return}if(i!=null){var g;if(typeof r=="function"){var y={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},v=r(i,y);g=i[v]}else r==="value"&&(g=i.find(P=>String(P.value)===f.payload.label));var{coordinate:w}=f.payload;if(g==null||f.payload.active===!1||w==null||a==null){n(v1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:E}=w,C=Math.min(b,a.x+a.width),k=Math.min(E,a.y+a.height),N={x:o==="horizontal"?g.coordinate:C,y:o==="horizontal"?k:g.coordinate},_=v1({active:f.payload.active,coordinate:N,dataKey:f.payload.dataKey,index:String(g.index),label:f.payload.label});n(_)}}};return Bd.on(b1,u),()=>{Bd.off(b1,u)}},[l,n,e,t,r,i,o,a])}function Pce(){var t=Ve(EE),e=Ve(AE),n=pn();S.useEffect(()=>{if(t==null)return G5;var r=(i,o,a)=>{e!==a&&t===i&&n(Tce(o))};return Bd.on(GD,r),()=>{Bd.off(GD,r)}},[n,e,t])}function Ice(){var t=pn();S.useEffect(()=>{t(Ece())},[t]),Nce(),Pce()}function Dce(t,e,n,r,i,o){var a=Ve(g=>lce(g,t,e)),l=Ve(AE),u=Ve(EE),d=Ve(V6),f=Ve(Ace),p=f==null?void 0:f.active;S.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=v1({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Bd.emit(b1,u,g,l)}},[p,n,a,i,r,l,u,d,o])}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oce(t,e,n){return(e=jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mce(t){return t.dataKey}function Bce(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(cre,e)}var JD=[],Fce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bu(t){var e=oo(t,Fce),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:l,isAnimationActive:u,offset:d,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:v,cursor:w,shared:b,trigger:E,defaultIndex:C,portal:k,axisId:N}=e,_=pn(),P=typeof C=="number"?String(C):C;S.useEffect(()=>{_(mle({shared:b,trigger:E,axisId:N,active:n,defaultIndex:P}))},[_,b,E,N,n,P]);var D=GS(),R=L8(),F=ule(b),{activeIndex:O,isActive:B}=Ve(J=>dce(J,F,E,P)),$=Ve(J=>uce(J,F,E,P)),L=Ve(J=>z5(J,F,E,P)),H=Ve(J=>cce(J,F,E,P)),X=$,se=vce(),ie=n??B,[W,Q]=Ete([X,ie]),ee=F==="axis"?L:void 0;Dce(F,E,H,ee,O,ie);var I=k??se;if(I==null)return null;var M=X??JD;ie||(M=JD),l&&M.length&&(M=Qee(X.filter(J=>J.value!=null&&(J.hide!==!0||e.includeHidden)),f,Mce));var z=M.length>0,K=S.createElement(gre,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:u,active:ie,coordinate:H,hasPayload:z,offset:d,position:p,reverseDirection:g,useTranslate3d:y,viewBox:D,wrapperStyle:v,lastBoundingBox:W,innerRef:Q,hasPortalFromProps:!!k},Bce(a,XD(XD({},e),{},{payload:M,label:ee,active:ie,coordinate:H,accessibilityLayer:R})));return S.createElement(S.Fragment,null,uU.createPortal(K,I),ie&&S.createElement(yce,{cursor:w,tooltipEventType:F,coordinate:H,payload:X,index:O}))}var bw={},Cw={},Sw={},ZD;function Lce(){return ZD||(ZD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,l=null;const u=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{d&&f(),w()};let g=null;const y=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},v=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{v(),a=void 0,l=null},b=()=>{f()},E=function(...C){if(i!=null&&i.aborted)return;a=this,l=C;const k=g==null;y(),u&&k&&f()};return E.schedule=y,E.cancel=w,E.flush=b,i==null||i.addEventListener("abort",w,{once:!0}),E}t.debounce=e}(Sw)),Sw}var eO;function $ce(){return eO||(eO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lce();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:l=!0,maxWait:u}=o,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(...w){f=r.apply(this,w),p=null},i,{edges:d}),y=function(...w){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=r.apply(this,w),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,w),f)},v=()=>(g.flush(),f);return y.cancel=g.cancel,y.flush=v,y}t.debounce=n}(Cw)),Cw}var tO;function Uce(){return tO||(tO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ce();function n(r,i=0,o={}){const{leading:a=!0,trailing:l=!0}=o;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n}(bw)),bw}var Ew,nO;function Hce(){return nO||(nO=1,Ew=Uce().throttle),Ew}var zce=Hce();const Kce=eo(zce);var nd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){qce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e,n){return(e=Vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=Wce(t,"string");return typeof e=="symbol"?e:e+""}function Wce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fu=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:p,className:g,onResize:y,style:v={}}=t,w=S.useRef(null),b=S.useRef();b.current=y,S.useImperativeHandle(e,()=>w.current);var[E,C]=S.useState({containerWidth:r.width,containerHeight:r.height}),k=S.useCallback((_,P)=>{C(D=>{var R=Math.round(_),F=Math.round(P);return D.containerWidth===R&&D.containerHeight===F?D:{containerWidth:R,containerHeight:F}})},[]);S.useEffect(()=>{var _=F=>{var O,{width:B,height:$}=F[0].contentRect;k(B,$),(O=b.current)===null||O===void 0||O.call(b,B,$)};f>0&&(_=Kce(_,f,{trailing:!0,leading:!1}));var P=new ResizeObserver(_),{width:D,height:R}=w.current.getBoundingClientRect();return k(D,R),P.observe(w.current),()=>{P.disconnect()}},[k,f]);var N=S.useMemo(()=>{var{containerWidth:_,containerHeight:P}=E;if(_<0||P<0)return null;nd(Ts(i)||Ts(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),nd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Ts(i)?_:i,R=Ts(o)?P:o;return n&&n>0&&(D?R=D/n:R&&(D=R*n),u&&R>u&&(R=u)),nd(D>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,i,o,a,l,n),S.Children.map(d,F=>S.cloneElement(F,{width:D,height:R,style:Aw({width:D,height:R},F.props.style)}))},[n,d,o,u,l,a,E,i]);return S.createElement("div",{id:p?"".concat(p):void 0,className:$t("recharts-responsive-container",g),style:Aw(Aw({},v),{},{width:i,height:o,minWidth:a,minHeight:l,maxHeight:u}),ref:w},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),bc=t=>null;bc.displayName="Cell";function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return(e=Yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t){var e=Qce(t,"string");return typeof e=="symbol"?e:e+""}function Qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul={widthCache:{},cacheCount:0},Xce=2e3,Jce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oO="recharts_measurement_span";function Zce(t){var e=C1({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var rd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rc.isSsr)return{width:0,height:0};var r=Zce(n),i=JSON.stringify({text:e,copyStyle:r});if(Ul.widthCache[i])return Ul.widthCache[i];try{var o=document.getElementById(oO);o||(o=document.createElement("span"),o.setAttribute("id",oO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=C1(C1({},Jce),r);Object.assign(o.style,a),o.textContent="".concat(e);var l=o.getBoundingClientRect(),u={width:l.width,height:l.height};return Ul.widthCache[i]=u,++Ul.cacheCount>Xce&&(Ul.cacheCount=0,Ul.widthCache={}),u}catch{return{width:0,height:0}}},aO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nue=Object.keys(Y5),Yl="NaN";function rue(t,e){return t*Y5[e]}class Hr{static parse(e){var n,[,r,i]=(n=tue.exec(e))!==null&&n!==void 0?n:[];return new Hr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,pi(e)&&(this.unit=""),n!==""&&!eue.test(n)&&(this.num=NaN,this.unit=""),nue.includes(n)&&(this.num=rue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return pi(this.num)}}function Q5(t){if(t.includes(Yl))return Yl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=aO.exec(e))!==null&&n!==void 0?n:[],a=Hr.parse(r??""),l=Hr.parse(o??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return Yl;e=e.replace(aO,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=sO.exec(e))!==null&&d!==void 0?d:[],y=Hr.parse(f??""),v=Hr.parse(g??""),w=p==="+"?y.add(v):y.subtract(v);if(w.isNaN())return Yl;e=e.replace(sO,w.toString())}return e}var lO=/\(([^()]*)\)/;function iue(t){for(var e=t,n;(n=lO.exec(e))!=null;){var[,r]=n;e=e.replace(lO,Q5(r))}return e}function oue(t){var e=t.replace(/\s+/g,"");return e=iue(e),e=Q5(e),e}function aue(t){try{return oue(t)}catch{return Yl}}function kw(t){var e=aue(t.slice(5,-1));return e===Yl?"":e}var sue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lue=["dx","dy","angle","className","breakAll"];function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S1.apply(null,arguments)}function cO(t,e){if(t==null)return{};var n,r,i=cue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X5=/[ \f\n\r\t\v\u2028\u2029]+/,J5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Rn(e)||(n?i=e.toString().split(""):i=e.toString().split(X5));var o=i.map(l=>({word:l,width:rd(l,r).width})),a=n?0:rd("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},uue=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:l,breakAll:u}=t,d=Le(o),f=a,p=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(($,L)=>{var{word:H,width:X}=L,se=$[$.length-1];if(se&&(r==null||i||se.width+X+n<Number(r)))se.words.push(H),se.width+=X+n;else{var ie={words:[H],width:X};$.push(ie)}return $},[])},g=p(e),y=O=>O.reduce((B,$)=>B.width>$.width?B:$);if(!d||i)return g;var v=g.length>o||y(g).width>Number(r);if(!v)return g;for(var w="",b=O=>{var B=f.slice(0,O),$=J5({breakAll:u,style:l,children:B+w}).wordsWithComputedWidth,L=p($),H=L.length>o||y(L).width>Number(r);return[H,L]},E=0,C=f.length-1,k=0,N;E<=C&&k<=f.length-1;){var _=Math.floor((E+C)/2),P=_-1,[D,R]=b(P),[F]=b(_);if(!D&&!F&&(E=_+1),D&&F&&(C=_-1),!D&&F){N=R;break}k++}return N||g},uO=t=>{var e=Rn(t)?[]:t.toString().split(X5);return[{words:e}]},due=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Rc.isSsr){var l,u,d=J5({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;l=f,u=p}else return uO(r);return uue({breakAll:o,children:r,maxLines:a,style:i},l,u,e,n)}return uO(r)},dO="#808080",Rg=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:u="end",fill:d=dO}=t,f=cO(t,sue),p=S.useMemo(()=>due({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:a,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,a,f.style,f.width]),{dx:g,dy:y,angle:v,className:w,breakAll:b}=f,E=cO(f,lue);if(!ko(n)||!ko(r))return null;var C=n+(Le(g)?g:0),k=r+(Le(y)?y:0),N;switch(u){case"start":N=kw("calc(".concat(o,")"));break;case"middle":N=kw("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:N=kw("calc(".concat(p.length-1," * -").concat(i,")"));break}var _=[];if(a){var P=p[0].width,{width:D}=f;_.push("scale(".concat(Le(D)?D/P:1,")"))}return v&&_.push("rotate(".concat(v,", ").concat(C,", ").concat(k,")")),_.length&&(E.transform=_.join(" ")),S.createElement("text",S1({},Rt(E,!0),{ref:e,x:C,y:k,className:$t("recharts-text",w),textAnchor:l,fill:d.includes("url")?dO:d}),p.map((R,F)=>{var O=R.words.join(b?"":" ");return S.createElement("tspan",{x:C,dy:F===0?N:i,key:"".concat(O,"-").concat(F)},O)}))});Rg.displayName="Text";var fue=["offset"],hue=["labelRef"];function fO(t,e){if(t==null)return{};var n,r,i=pue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return(e=gue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return typeof e=="symbol"?e:e+""}function yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(null,arguments)}var vue=t=>{var{value:e,formatter:n}=t,r=Rn(t.children)?e:t.children;return typeof n=="function"?n(r):r},nA=t=>t!=null&&typeof t=="function",xue=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wue=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:a}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:y}=i,v=(d+f)/2,w=xue(p,g),b=w>=0?1:-1,E,C;r==="insideStart"?(E=p+b*o,C=y):r==="insideEnd"?(E=g-b*o,C=!y):r==="end"&&(E=g+b*o,C=y),C=w<=0?C:!C;var k=jn(l,u,v,E),N=jn(l,u,v,E+(C?1:-1)*359),_="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),P=Rn(t.id)?fc("recharts-radial-line-"):t.id;return S.createElement("text",Ho({},n,{dominantBaseline:"central",className:$t("recharts-radial-bar-label",a)}),S.createElement("defs",null,S.createElement("path",{id:P,d:_})),S.createElement("textPath",{xlinkHref:"#".concat(P)},e))},bue=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:p,y:g}=jn(i,o,l+n,f);return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:v,y:w}=jn(i,o,y,f);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Cue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:l,height:u}=e,d=u>=0?1:-1,f=d*r,p=d>0?"end":"start",g=d>0?"start":"end",y=l>=0?1:-1,v=y*r,w=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var E={x:o+l/2,y:a-d*r,textAnchor:"middle",verticalAnchor:p};return Tn(Tn({},E),n?{height:Math.max(a-n.y,0),width:l}:{})}if(i==="bottom"){var C={x:o+l/2,y:a+u+f,textAnchor:"middle",verticalAnchor:g};return Tn(Tn({},C),n?{height:Math.max(n.y+n.height-(a+u),0),width:l}:{})}if(i==="left"){var k={x:o-v,y:a+u/2,textAnchor:w,verticalAnchor:"middle"};return Tn(Tn({},k),n?{width:Math.max(k.x-n.x,0),height:u}:{})}if(i==="right"){var N={x:o+l+v,y:a+u/2,textAnchor:b,verticalAnchor:"middle"};return Tn(Tn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:u}:{})}var _=n?{width:l,height:u}:{};return i==="insideLeft"?Tn({x:o+v,y:a+u/2,textAnchor:b,verticalAnchor:"middle"},_):i==="insideRight"?Tn({x:o+l-v,y:a+u/2,textAnchor:w,verticalAnchor:"middle"},_):i==="insideTop"?Tn({x:o+l/2,y:a+f,textAnchor:"middle",verticalAnchor:g},_):i==="insideBottom"?Tn({x:o+l/2,y:a+u-f,textAnchor:"middle",verticalAnchor:p},_):i==="insideTopLeft"?Tn({x:o+v,y:a+f,textAnchor:b,verticalAnchor:g},_):i==="insideTopRight"?Tn({x:o+l-v,y:a+f,textAnchor:w,verticalAnchor:g},_):i==="insideBottomLeft"?Tn({x:o+v,y:a+u-f,textAnchor:b,verticalAnchor:p},_):i==="insideBottomRight"?Tn({x:o+l-v,y:a+u-f,textAnchor:w,verticalAnchor:p},_):i&&typeof i=="object"&&(Le(i.x)||Ts(i.x))&&(Le(i.y)||Ts(i.y))?Tn({x:o+Or(i.x,l),y:a+Or(i.y,u),textAnchor:"end",verticalAnchor:"end"},_):Tn({x:o+l/2,y:a+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Sue=t=>"cx"in t&&Le(t.cx);function si(t){var{offset:e=5}=t,n=fO(t,fue),r=Tn({offset:e},n),{viewBox:i,position:o,value:a,children:l,content:u,className:d="",textBreakAll:f,labelRef:p}=r,g=GS(),y=i||g;if(!y||Rn(a)&&Rn(l)&&!S.isValidElement(u)&&typeof u!="function")return null;if(S.isValidElement(u)){var v=fO(r,hue);return S.cloneElement(u,v)}var w;if(typeof u=="function"){if(w=S.createElement(u,r),S.isValidElement(w))return w}else w=vue(r);var b=Sue(y),E=Rt(r,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wue(r,w,E);var C=b?bue(r):Cue(r,y);return S.createElement(Rg,Ho({ref:p,className:$t("recharts-label",d)},E,C,{breakAll:f}),w)}si.displayName="Label";var Z5=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:l,innerRadius:u,outerRadius:d,x:f,y:p,top:g,left:y,width:v,height:w,clockWise:b,labelViewBox:E}=t;if(E)return E;if(Le(v)&&Le(w)){if(Le(f)&&Le(p))return{x:f,y:p,width:v,height:w};if(Le(g)&&Le(y))return{x:g,y,width:v,height:w}}if(Le(f)&&Le(p))return{x:f,y:p,width:0,height:0};if(Le(e)&&Le(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:b};if(t.viewBox)return t.viewBox},Eue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(si,Ho({key:"label-implicit"},r)):ko(t)?S.createElement(si,Ho({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===si?S.cloneElement(t,Tn({key:"label-implicit"},r)):S.createElement(si,Ho({key:"label-implicit",content:t},r)):nA(t)?S.createElement(si,Ho({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(si,Ho({},t,{key:"label-implicit"},r)):null},Aue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=Z5(e),l=ef(i,si).map((d,f)=>S.cloneElement(d,{viewBox:n||a,key:"label-".concat(f)}));if(!r)return l;var u=Eue(e.label,n||a,o);return[u,...l]};si.parseViewBox=Z5;si.renderCallByParent=Aue;var Tw={},_w={},pO;function kue(){return pO||(pO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(_w)),_w}var Nw={},mO;function Tue(){return mO||(mO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Nw)),Nw}var gO;function _ue(){return gO||(gO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kue(),n=Tue(),r=jS();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i}(Tw)),Tw}var Pw,yO;function Nue(){return yO||(yO=1,Pw=_ue().last),Pw}var Pue=Nue();const Iue=eo(Pue);var Due=["valueAccessor"],Oue=["data","dataKey","clockWise","id","textBreakAll"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(null,arguments)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){jue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wO(t,e){if(t==null)return{};var n,r,i=Bue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fue=t=>Array.isArray(t.value)?Iue(t.value):t.value;function zs(t){var{valueAccessor:e=Fue}=t,n=wO(t,Due),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:l}=n,u=wO(n,Oue);return!r||!r.length?null:S.createElement(jr,{className:"recharts-label-list"},r.map((d,f)=>{var p=Rn(i)?e(d,f):hn(d&&d.payload,i),g=Rn(a)?{}:{id:"".concat(a,"-").concat(f)};return S.createElement(si,bm({},Rt(d,!0),u,g,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:si.parseViewBox(Rn(o)?d:xO(xO({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}zs.displayName="LabelList";function Lue(t,e){return t?t===!0?S.createElement(zs,{key:"labelList-implicit",data:e}):S.isValidElement(t)||nA(t)?S.createElement(zs,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?S.createElement(zs,bm({data:e},t,{key:"labelList-implicit"})):null:null}function $ue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=ef(r,zs).map((a,l)=>S.cloneElement(a,{data:e,key:"labelList-".concat(l)}));if(!n)return i;var o=Lue(t.label,e);return[o,...i]}zs.renderCallByParent=$ue;var eB=t=>t.graphicalItems.polarItems,Uue=ue([wn,lf],PE),rA=ue([eB,bn,Uue],DE),Hue=ue([rA],OE),iA=ue([Hue,wE],jE),zue=ue([iA,bn,rA],RE),Kue=ue([iA,bn,rA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,a=hn(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:hn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),bO=()=>{},que=ue([bn,c5,bO,Kue,bO],FE),tB=ue([bn,Mt,iA,zue,sf,wn,que],LE),Vue=ue([tB,bn,$c],HE);ue([bn,tB,Vue,wn],KE);var Wue={radiusAxis:{},angleAxis:{}},Gue=ji({name:"polarAxis",initialState:Wue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),Yue=Gue.reducer;function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Que(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Que(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oA=(t,e)=>e,Zue=[],aA=(t,e,n)=>(n==null?void 0:n.length)===0?Zue:n,nB=ue([wE,oA,aA],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>SO(SO({},e.presentationProps),o.props))),i!=null)return i}),ede=ue([nB,oA,aA],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var o,a=hn(r,e.nameKey,e.name),l;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:gg(a,e.dataKey),color:l,payload:r,type:e.legendType}})}),tde=ue([eB,oA],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),nde=ue([nB,tde,aA,Hn],(t,e,n,r)=>{if(!(e==null||t==null))return Gde({offset:r,pieSettings:e,displayedData:t,cells:n})}),rde={countOfBars:0,cartesianItems:[],polarItems:[]},rB=ji({name:"graphicalItems",initialState:rde,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Yo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Yo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Yo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:ide,removeBar:ode,addCartesianGraphicalItem:ade,replaceCartesianGraphicalItem:sde,removeCartesianGraphicalItem:lde,addPolarGraphicalItem:cde,removePolarGraphicalItem:ude}=rB.actions,dde=rB.reducer;function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return(e=hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mde(t){var e=pn(),n=S.useRef(null);return S.useEffect(()=>{var r=AO(AO({},t),{},{stackId:_8(t.stackId)});n.current===null?e(ade(r)):n.current!==r&&e(sde({prev:n.current,next:r})),n.current=r},[e,t]),S.useEffect(()=>()=>{n.current&&(e(lde(n.current)),n.current=null)},[e]),null}function gde(t){var e=pn();return S.useEffect(()=>(e(cde(t)),()=>{e(ude(t))}),[e,t]),null}var Iw={},kO;function yde(){return kO||(kO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(Iw)),Iw}var Dw,TO;function vde(){return TO||(TO=1,Dw=yde().isPlainObject),Dw}var xde=vde();const wde=eo(xde);function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(null,arguments)}var _O=(t,e,n,r,i)=>{var o=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-o/2,",").concat(e+i),a+="L ".concat(t+n-o/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cde=t=>{var e=oo(t,bde),n=S.useRef(),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:o,y:a,upperWidth:l,lowerWidth:u,height:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:y,isUpdateAnimationActive:v}=e;if(o!==+o||a!==+a||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var w=$t("recharts-trapezoid",f);return v?S.createElement(Zs,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:o,y:a},to:{upperWidth:l,lowerWidth:u,height:d,x:o,y:a},duration:g,animationEasing:p,isActive:v},b=>{var{upperWidth:E,lowerWidth:C,height:k,x:N,y:_}=b;return S.createElement(Zs,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},S.createElement("path",Cm({},Rt(e,!0),{className:w,d:_O(N,_,E,C,k),ref:n})))}):S.createElement("g",null,S.createElement("path",Cm({},Rt(e,!0),{className:w,d:_O(o,a,l,u,d)})))},Sde=["option","shapeType","propTransformer","activeClassName","isActive"];function Ede(t,e){if(t==null)return{};var n,r,i=Ade(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ade(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=_de(t,"string");return typeof e=="symbol"?e:e+""}function _de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nde(t,e){return Sm(Sm({},e),t)}function Pde(t,e){return t==="symbols"}function PO(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(K8,n);case"trapezoid":return S.createElement(Cde,n);case"sector":return S.createElement(W8,n);case"symbols":if(Pde(e))return S.createElement(K3,n);break;default:return null}}function Ide(t){return S.isValidElement(t)?t.props:t}function iB(t){var{option:e,shapeType:n,propTransformer:r=Nde,activeClassName:i="recharts-active-shape",isActive:o}=t,a=Ede(t,Sde),l;if(S.isValidElement(e))l=S.cloneElement(e,Sm(Sm({},a),Ide(e)));else if(typeof e=="function")l=e(a);else if(wde(e)&&typeof e!="boolean"){var u=r(e,a);l=S.createElement(PO,{shapeType:n,elementProps:u})}else{var d=a;l=S.createElement(PO,{shapeType:n,elementProps:d})}return o?S.createElement(jr,{className:i},l):l}var sA=(t,e)=>{var n=pn();return(r,i)=>o=>{t==null||t(r,i,o),n(A5({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},lA=t=>{var e=pn();return(n,r)=>i=>{t==null||t(n,r,i),e(gle())}},cA=(t,e)=>{var n=pn();return(r,i)=>o=>{t==null||t(r,i,o),n(yle({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function oB(t){var{fn:e,args:n}=t,r=pn(),i=Gr();return S.useEffect(()=>{if(!i){var o=e(n);return r(hle(o)),()=>{r(ple(o))}}},[e,n,r,i]),null}var aB=()=>{};function Dde(t){var{legendPayload:e}=t,n=pn(),r=Gr();return S.useEffect(()=>r?aB:(n(B8(e)),()=>{n(F8(e))}),[n,r,e]),null}function Ode(t){var{legendPayload:e}=t,n=pn(),r=Ve(Mt);return S.useEffect(()=>r!=="centric"&&r!=="radial"?aB:(n(B8(e)),()=>{n(F8(e))}),[n,r,e]),null}function sB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(fc(e)),r=S.useRef(t);return r.current!==t&&(n.current=fc(e),r.current=t),n.current}var jde=["onMouseEnter","onClick","onMouseLeave"];function Rde(t,e){if(t==null)return{};var n,r,i=Mde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(null,arguments)}function Lde(t){var e=S.useMemo(()=>Rt(t,!1),[t]),n=S.useMemo(()=>ef(t.children,bc),[t.children]),r=S.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=Ve(o=>ede(o,r,n));return S.createElement(Ode,{legendPayload:i})}function $de(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:l,hide:u,tooltipType:d}=t;return{dataDefinedOnItem:r==null?void 0:r.map(f=>f.tooltipPayload),positions:r==null?void 0:r.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:e,nameKey:n,name:gg(l,e),hide:u,type:d,color:a,unit:""}}}var Ude=(t,e)=>t>e?"start":t<e?"end":"middle",Hde=(t,e,n)=>typeof e=="function"?e(t):Or(e,n,n*.8),zde=(t,e,n)=>{var{top:r,left:i,width:o,height:a}=e,l=A8(o,a),u=i+Or(t.cx,o,o/2),d=r+Or(t.cy,a,a/2),f=Or(t.innerRadius,l,0),p=Hde(n,t.outerRadius,l),g=t.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}},Kde=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qde=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=$t("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return S.createElement($8,nl({},e,{type:"linear",className:n}))},Vde=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var i=$t("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return S.createElement(Rg,nl({},e,{alignmentBaseline:"middle",className:i}),r)};function Wde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!e)return null;var l=Rt(n,!1),u=Rt(i,!1),d=Rt(o,!1),f=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,p=e.map((g,y)=>{var v=(g.startAngle+g.endAngle)/2,w=jn(g.cx,g.cy,g.outerRadius+f,v),b=fn(fn(fn(fn({},l),g),{},{stroke:"none"},u),{},{index:y,textAnchor:Ude(w.x,g.cx)},w),E=fn(fn(fn(fn({},l),g),{},{fill:"none",stroke:g.fill},d),{},{index:y,points:[jn(g.cx,g.cy,g.outerRadius,v),w],key:"line"});return S.createElement(jr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},o&&qde(o,E),Vde(i,b,hn(g,a)))});return S.createElement(jr,{className:"recharts-pie-labels"},p)}function lB(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=t,a=Ve(tl),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,f=Rde(i,jde),p=sA(l,i.dataKey),g=lA(d),y=cA(u,i.dataKey);return e==null?null:S.createElement(S.Fragment,null,e.map((v,w)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&e.length!==1)return null;var b=n&&String(w)===a,E=a?r:null,C=b?n:E,k=fn(fn({},v),{},{stroke:v.stroke,tabIndex:-1,[P8]:w,[I8]:i.dataKey});return S.createElement(jr,nl({tabIndex:-1,className:"recharts-pie-sector"},og(f,v,w),{onMouseEnter:p(v,w),onMouseLeave:g(v,w),onClick:y(v,w),key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(w)}),S.createElement(iB,nl({option:C,isActive:b,shapeType:"sector"},k)))}),S.createElement(Wde,{sectors:e,props:i,showLabels:o}))}function Gde(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:a,startAngle:l,endAngle:u,dataKey:d,nameKey:f,tooltipType:p}=n,g=Math.abs(n.minAngle),y=Kde(l,u),v=Math.abs(y),w=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(P=>hn(P,d,0)!==0).length,E=(v>=360?b:b-1)*w,C=v-b*g-E,k=r.reduce((P,D)=>{var R=hn(D,d,0);return P+(Le(R)?R:0)},0),N;if(k>0){var _;N=r.map((P,D)=>{var R=hn(P,d,0),F=hn(P,f,D),O=zde(n,o,P),B=(Le(R)?R:0)/k,$,L=fn(fn({},P),i&&i[D]&&i[D].props);D?$=_.endAngle+Qn(y)*w*(R!==0?1:0):$=l;var H=$+Qn(y)*((R!==0?g:0)+B*C),X=($+H)/2,se=(O.innerRadius+O.outerRadius)/2,ie=[{name:F,value:R,payload:L,dataKey:d,type:p}],W=jn(O.cx,O.cy,se,X);return _=fn(fn(fn(fn({},n.presentationProps),{},{percent:B,cornerRadius:a,name:F,tooltipPayload:ie,midAngle:X,middleRadius:se,tooltipPosition:W},L),O),{},{value:hn(P,d),startAngle:$,endAngle:H,payload:L,paddingAngle:Qn(y)*w}),_})}return N}function Yde(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=e,g=sB(e,"recharts-pie-"),y=n.current,[v,w]=S.useState(!0),b=S.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),E=S.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return S.createElement(Zs,{begin:o,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:E,onAnimationEnd:b,key:g},C=>{var{t:k}=C,N=[],_=r&&r[0],P=_.startAngle;return r.forEach((D,R)=>{var F=y&&y[R],O=R>0?Qa(D,"paddingAngle",0):0;if(F){var B=ja(F.endAngle-F.startAngle,D.endAngle-D.startAngle),$=fn(fn({},D),{},{startAngle:P+O,endAngle:P+B(k)+O});N.push($),P=$.endAngle}else{var{endAngle:L,startAngle:H}=D,X=ja(0,L-H),se=X(k),ie=fn(fn({},D),{},{startAngle:P+O,endAngle:P+se+O});N.push(ie),P=ie.endAngle}}),n.current=N,S.createElement(jr,null,S.createElement(lB,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:e,showLabels:!v}))})}function Qde(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,o=S.useRef(null),a=o.current;return n&&e&&e.length&&(!a||a!==e)?S.createElement(Yde,{props:t,previousSectorsRef:o}):S.createElement(lB,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Xde(t){var{hide:e,className:n,rootTabIndex:r}=t,i=$t("recharts-pie",n);return e?null:S.createElement(jr,{tabIndex:r,className:i},S.createElement(Qde,t))}var cB={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Rc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Jde(t){var e=oo(t,cB),n=S.useMemo(()=>ef(t.children,bc),[t.children]),r=Rt(e,!1),i=S.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),o=Ve(a=>nde(a,i,n));return S.createElement(S.Fragment,null,S.createElement(oB,{fn:$de,args:fn(fn({},e),{},{sectors:o})}),S.createElement(Xde,nl({},e,{sectors:o})))}class Em extends S.PureComponent{constructor(){super(...arguments),Mg(this,"id",fc("recharts-pie-"))}render(){return S.createElement(S.Fragment,null,S.createElement(gde,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),S.createElement(Lde,this.props),S.createElement(Jde,this.props),this.props.children)}}Mg(Em,"displayName","Pie");Mg(Em,"defaultProps",cB);var Zde=ue([Hn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),efe=ue([Zde,aa,sa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tfe=t=>{var e=Gr();return Ve(n=>Xa(n,"xAxis",t,e))},nfe=t=>{var e=Gr();return Ve(n=>Xa(n,"yAxis",t,e))},uB=()=>Ve(efe),rfe=()=>{var t=pn();return S.useEffect(()=>(t(ide()),()=>{t(ode())})),null},ife=["children"];function ofe(t,e){if(t==null)return{};var n,r,i=afe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function afe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DO=()=>{},dB=S.createContext({addErrorBar:DO,removeErrorBar:DO}),sfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fB=S.createContext(sfe);function lfe(t){var{children:e}=t,n=ofe(t,ife);return S.createElement(fB.Provider,{value:n},e)}var cfe=()=>S.useContext(fB),ufe=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:l,hide:u,type:d,barSize:f}=t,[p,g]=S.useState([]),y=S.useCallback(b=>{g(E=>[...E,b])},[g]),v=S.useCallback(b=>{g(E=>E.filter(C=>C!==b))},[g]),w=Gr();return S.createElement(dB.Provider,{value:{addErrorBar:y,removeErrorBar:v}},S.createElement(mde,{type:d,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:p,stackId:l,hide:u,barSize:f,isPanorama:w}),e)};function dfe(t){var{addErrorBar:e,removeErrorBar:n}=S.useContext(dB);return S.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var ffe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function hB(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(null,arguments)}function mfe(t,e){if(t==null)return{};var n,r,i=gfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yfe(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:l}=t,u=mfe(t,ffe),d=Rt(u,!1),{data:f,dataPointFormatter:p,xAxisId:g,yAxisId:y,errorBarOffset:v}=cfe(),w=tfe(g),b=nfe(y);if((w==null?void 0:w.scale)==null||(b==null?void 0:b.scale)==null||f==null||e==="x"&&w.type!=="number")return null;var E=f.map(C=>{var{x:k,y:N,value:_,errorVal:P}=p(C,r,e);if(!P)return null;var D=[],R,F;if(Array.isArray(P)?[R,F]=P:R=F=P,e==="x"){var{scale:O}=w,B=N+v,$=B+n,L=B-n,H=O(_-R),X=O(_+F);D.push({x1:X,y1:$,x2:X,y2:L}),D.push({x1:H,y1:B,x2:X,y2:B}),D.push({x1:H,y1:$,x2:H,y2:L})}else if(e==="y"){var{scale:se}=b,ie=k+v,W=ie-n,Q=ie+n,ee=se(_-R),I=se(_+F);D.push({x1:W,y1:I,x2:Q,y2:I}),D.push({x1:ie,y1:ee,x2:ie,y2:I}),D.push({x1:W,y1:ee,x2:Q,y2:ee})}var M="".concat(k+v,"px ").concat(N+v,"px");return S.createElement(jr,Fd({className:"recharts-errorBar",key:"bar-".concat(D.map(z=>"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)))},d),D.map(z=>{var K=i?{transformOrigin:"".concat(z.x1-5,"px")}:void 0;return S.createElement(Zs,{from:{transform:"scaleY(0)",transformOrigin:M},to:{transform:"scaleY(1)",transformOrigin:M},begin:o,easing:l,isActive:i,duration:a,key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2),style:{transformOrigin:M}},S.createElement("line",Fd({},z,{style:K})))}))});return S.createElement(jr,{className:"recharts-errorBars"},E)}var pB=S.createContext(void 0);function vfe(t){var e=S.useContext(pB);return t??e??"x"}function xfe(t){var{direction:e,children:n}=t;return S.createElement(pB.Provider,{value:e},n)}var mB={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function wfe(t){var e=vfe(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a}=oo(t,mB);return S.createElement(S.Fragment,null,S.createElement(dfe,{dataKey:t.dataKey,direction:e}),S.createElement(yfe,Fd({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a})))}class gB extends S.Component{render(){return S.createElement(wfe,this.props)}}hB(gB,"defaultProps",mB);hB(gB,"displayName","ErrorBar");var bfe="Invariant failed";function Cfe(t,e){throw new Error(bfe)}var Sfe=["x","y"];function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Efe(t,e,n){return(e=Afe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=kfe(t,"string");return typeof e=="symbol"?e:e+""}function kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tfe(t,e){if(t==null)return{};var n,r,i=_fe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nfe(t,e){var{x:n,y:r}=t,i=Tfe(t,Sfe),o="".concat(n),a=parseInt(o,10),l="".concat(r),u=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Lu(Lu(Lu(Lu(Lu({},e),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function yB(t){return S.createElement(iB,E1({shapeType:"rectangle",propTransformer:Nfe,activeClassName:"recharts-active-bar"},t))}var Pfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Le(e))return e;var o=Le(r)||Rn(r);return o?e(r,i):(o||Cfe(),n)}};function vB(t,e){var n,r,i=Ve(d=>ca(d,t)),o=Ve(d=>ns(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ii.allowDataOverflow,l=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:oi.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function Ife(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=uB(),{needClipX:o,needClipY:a,needClip:l}=vB(e,n);if(!l)return null;var{x:u,y:d,width:f,height:p}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:o?u:u-f/2,y:a?d:d-p/2,width:o?f:f*2,height:a?p:p*2}))}var Dfe=["onMouseEnter","onMouseLeave","onClick"],Ofe=["value","background","tooltipPosition"],jfe=["onMouseEnter","onClick","onMouseLeave"];function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A1(t,e){if(t==null)return{};var n,r,i=Bfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ffe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:gg(n,e),payload:t}]};function Lfe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:gg(o,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function $fe(t){var e=Ve(tl),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:a,onMouseLeave:l,onClick:u}=o,d=A1(o,Dfe),f=sA(a,r),p=lA(l),g=cA(u,r);if(!i||n==null)return null;var y=Rt(i,!1);return S.createElement(S.Fragment,null,n.map((v,w)=>{var{value:b,background:E,tooltipPosition:C}=v,k=A1(v,Ofe);if(!E)return null;var N=f(v,w),_=p(v,w),P=g(v,w),D=vr(vr(vr(vr(vr({option:i,isActive:String(w)===e},k),{},{fill:"#eee"},E),y),og(d,v,w)),{},{onMouseEnter:N,onMouseLeave:_,onClick:P,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return S.createElement(yB,Ld({key:"background-bar-".concat(w)},D))}))}function xB(t){var{data:e,props:n,showLabels:r}=t,i=Rt(n,!1),{shape:o,dataKey:a,activeBar:l}=n,u=Ve(tl),d=Ve(F5),{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,y=A1(n,jfe),v=sA(f,a),w=lA(g),b=cA(p,a);return e?S.createElement(S.Fragment,null,e.map((E,C)=>{var k=l&&String(C)===u&&(d==null||a===d),N=k?l:o,_=vr(vr(vr({},i),E),{},{isActive:k,option:N,index:C,dataKey:a});return S.createElement(jr,Ld({className:"recharts-bar-rectangle"},og(y,E,C),{onMouseEnter:v(E,C),onMouseLeave:w(E,C),onClick:b(E,C),key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(C)}),S.createElement(yB,_))}),r&&zs.renderCallByParent(n,e)):null}function Ufe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=e,p=n.current,g=sB(e,"recharts-bar-"),[y,v]=S.useState(!1),w=S.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),b=S.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return S.createElement(Zs,{begin:a,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:b,key:g},E=>{var{t:C}=E,k=C===1?r:r.map((N,_)=>{var P=p&&p[_];if(P){var D=ja(P.x,N.x),R=ja(P.y,N.y),F=ja(P.width,N.width),O=ja(P.height,N.height);return vr(vr({},N),{},{x:D(C),y:R(C),width:F(C),height:O(C)})}if(i==="horizontal"){var B=ja(0,N.height),$=B(C);return vr(vr({},N),{},{y:N.y+N.height-$,height:$})}var L=ja(0,N.width),H=L(C);return vr(vr({},N),{},{width:H})});return C>0&&(n.current=k),S.createElement(jr,null,S.createElement(xB,{props:e,data:k,showLabels:!y}))})}function Hfe(t){var{data:e,isAnimationActive:n}=t,r=S.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?S.createElement(Ufe,{previousRectanglesRef:r,props:t}):S.createElement(xB,{props:t,data:e,showLabels:!0})}var wB=0,zfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:hn(t,e)}};class Kfe extends S.PureComponent{constructor(){super(...arguments),Bg(this,"id",fc("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:a,needClip:l,background:u,id:d,layout:f}=this.props;if(e)return null;var p=$t("recharts-bar",i),g=Rn(d)?this.id:d;return S.createElement(jr,{className:p},l&&S.createElement("defs",null,S.createElement(Ife,{clipPathId:g,xAxisId:o,yAxisId:a})),S.createElement(jr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):null},S.createElement($fe,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),S.createElement(Hfe,this.props)),S.createElement(xfe,{direction:f==="horizontal"?"y":"x"},this.props.children))}}var bB={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Rc.isSsr,legendType:"rect",minPointSize:wB,xAxisId:0,yAxisId:0};function qfe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=oo(t,bB),{needClip:p}=vB(e,n),g=YS(),y=Gr(),v=S.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:_8(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),w=ef(t.children,bc),b=Ve(k=>xhe(k,e,n,y,v,w));if(g!=="vertical"&&g!=="horizontal")return null;var E,C=b==null?void 0:b[0];return C==null||C.height==null||C.width==null?E=0:E=g==="vertical"?C.height/2:C.width/2,S.createElement(lfe,{xAxisId:e,yAxisId:n,data:b,dataPointFormatter:zfe,errorBarOffset:E},S.createElement(Kfe,Ld({},t,{layout:g,needClip:p,data:b,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function Vfe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:p,offset:g,cells:y}=t,v=e==="horizontal"?l:a,w=f?v.scale.domain():null,b=Hne({numericAxis:v});return p.map((E,C)=>{var k,N,_,P,D,R;f?k=Bne(f[C],w):(k=hn(E,n),Array.isArray(k)||(k=[b,k]));var F=Pfe(r,wB)(k[1],C);if(e==="horizontal"){var O,[B,$]=[l.scale(k[0]),l.scale(k[1])];N=CI({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:E,index:C}),_=(O=$??B)!==null&&O!==void 0?O:void 0,P=i.size;var L=B-$;if(D=pi(L)?0:L,R={x:N,y:g.top,width:P,height:g.height},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var H=Qn(D||F)*(Math.abs(F)-Math.abs(D));_-=H,D+=H}}else{var[X,se]=[a.scale(k[0]),a.scale(k[1])];if(N=X,_=CI({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:E,index:C}),P=se-X,D=i.size,R={x:g.left,y:_,width:g.width,height:D},Math.abs(F)>0&&Math.abs(P)<Math.abs(F)){var ie=Qn(P||F)*(Math.abs(F)-Math.abs(P));P+=ie}}var W=vr(vr({},E),{},{x:N,y:_,width:P,height:D,value:f?k:k[1],payload:E,background:R,tooltipPosition:{x:N+P/2,y:_+D/2}},y&&y[C]&&y[C].props);return W})}class Ma extends S.PureComponent{render(){return S.createElement(ufe,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},S.createElement(rfe,null),S.createElement(Dde,{legendPayload:Ffe(this.props)}),S.createElement(oB,{fn:Lfe,args:this.props}),S.createElement(qfe,this.props))}}Bg(Ma,"displayName","Bar");Bg(Ma,"defaultProps",bB);function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe=(t,e)=>e,Xfe=(t,e,n)=>n,Jfe=(t,e,n,r)=>r,uA=(t,e,n,r,i)=>i,Zfe=(t,e,n,r,i)=>i.maxBarSize,ehe=(t,e,n,r,i,o)=>o,MO=(t,e,n)=>{var r=n??t;if(!Rn(r))return Or(r,e,0)},the=ue([Mt,IE,Qfe,Xfe,Jfe],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),nhe=(t,e,n,r)=>{var i=Mt(t);return i==="horizontal"?y1(t,"yAxis",n,r):y1(t,"xAxis",e,r)},rhe=(t,e,n)=>{var r=Mt(t);return r==="horizontal"?LD(t,"xAxis",e):LD(t,"yAxis",n)};function ihe(t){return t.stackId!=null&&t.dataKey!=null}var ohe=(t,e,n)=>{var r={},i=t.filter(ihe),o=t.filter(d=>d.stackId==null),a=i.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),r),l=Object.entries(a).map(d=>{var[f,p]=d,g=p.map(v=>v.dataKey),y=MO(e,n,p[0].barSize);return{stackId:f,dataKeys:g,barSize:y}}),u=o.map(d=>{var f=[d.dataKey].filter(g=>g!=null),p=MO(e,n,d.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...l,...u]},ahe=ue([the,fse,rhe],ohe),she=(t,e,n,r,i)=>{var o,a,l=Mt(t),u=K6(t),{maxBarSize:d}=i,f=Rn(d)?u:d,p,g;return l==="horizontal"?(p=Xa(t,"xAxis",e,r),g=wc(t,"xAxis",e,r)):(p=Xa(t,"yAxis",n,r),g=wc(t,"yAxis",n,r)),(o=(a=qS(p,g,!0))!==null&&a!==void 0?a:f)!==null&&o!==void 0?o:0},CB=(t,e,n,r)=>{var i=Mt(t),o,a;return i==="horizontal"?(o=Xa(t,"xAxis",e,r),a=wc(t,"xAxis",e,r)):(o=Xa(t,"yAxis",n,r),a=wc(t,"yAxis",n,r)),qS(o,a)};function lhe(t,e,n,r,i){var o=r.length;if(!(o<1)){var a=Or(t,n,0,!0),l,u=[];if(yi(r[0].barSize)){var d=!1,f=n/o,p=r.reduce((E,C)=>E+(C.barSize||0),0);p+=(o-1)*a,p>=n&&(p-=(o-1)*a,a=0),p>=n&&f>0&&(d=!0,f*=.9,p=o*f);var g=(n-p)/2>>0,y={offset:g-a,size:0};l=r.reduce((E,C)=>{var k,N={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:y.offset+y.size+a,size:d?f:(k=C.barSize)!==null&&k!==void 0?k:0}},_=[...E,N];return y=_[_.length-1].position,_},u)}else{var v=Or(e,n,0,!0);n-2*v-(o-1)*a<=0&&(a=0);var w=(n-2*v-(o-1)*a)/o;w>1&&(w>>=0);var b=yi(i)?Math.min(w,i):w;l=r.reduce((E,C,k)=>[...E,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:v+(w+a)*k+(w-b)/2,size:b}}],u)}return l}}var che=(t,e,n,r,i,o,a)=>{var l=Rn(a)?e:a,u=lhe(n,r,i!==o?i:o,t,l);return i!==o&&u!=null&&(u=u.map(d=>Zh(Zh({},d),{},{position:Zh(Zh({},d.position),{},{offset:d.position.offset-i/2})}))),u},uhe=ue([ahe,K6,dse,q6,she,CB,Zfe],che),dhe=(t,e,n,r)=>Xa(t,"xAxis",e,r),fhe=(t,e,n,r)=>Xa(t,"yAxis",n,r),hhe=(t,e,n,r)=>wc(t,"xAxis",e,r),phe=(t,e,n,r)=>wc(t,"yAxis",n,r),mhe=ue([uhe,uA],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ghe=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var o=i.find(a=>a.key===e.dataKey);return o}}}}},yhe=ue([IE,uA],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),vhe=ue([nhe,uA],ghe),xhe=ue([Hn,dhe,fhe,hhe,phe,mhe,Mt,N6,CB,vhe,yhe,ehe],(t,e,n,r,i,o,a,l,u,d,f,p)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:v}=l;if(!(f==null||o==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||u==null)){var{data:w}=f,b;if(w!=null&&w.length>0?b=w:b=g==null?void 0:g.slice(y,v+1),b!=null)return Vfe({layout:a,barSettings:f,pos:o,bandSize:u,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:d,displayedData:b,offset:t,cells:p})}}),SB=t=>{var{chartData:e}=t,n=pn(),r=Gr();return S.useEffect(()=>r?()=>{}:(n(YD(e)),()=>{n(YD(void 0))}),[e,n,r]),null},BO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},whe=ji({name:"brush",initialState:BO,reducers:{setBrushSettings(t,e){return e.payload==null?BO:e.payload}}}),bhe=whe.reducer;function Che(t,e,n){return(e=She(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dA{static create(e){return new dA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Che(dA,"EPS",1e-4);function Ahe(t){return(t%180+180)%180}var khe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ahe(i),a=o*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},The={dots:[],areas:[],lines:[]},_he=ji({name:"referenceElements",initialState:The,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Yo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Yo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Yo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),Nhe=_he.reducer,Phe=S.createContext(void 0),Ihe=t=>{var{children:e}=t,[n]=S.useState("".concat(fc("recharts"),"-clip")),r=uB();if(r==null)return null;var{x:i,y:o,width:a,height:l}=r;return S.createElement(Phe.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:o,height:l,width:a}))),e)};function Ow(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function EB(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Dhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return khe(r,n)}function Ohe(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:l}=t;return e===1?{start:r?i:o,end:r?i+a:o+l}:{start:r?i+a:o+l,end:r?i:o}}function Am(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function jhe(t,e){return EB(t,e+1)}function Rhe(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:l}=e,u=0,d=1,f=a,p=function(){var v=r==null?void 0:r[u];if(v===void 0)return{v:EB(r,d)};var w=u,b,E=()=>(b===void 0&&(b=n(v,w)),b),C=v.coordinate,k=u===0||Am(t,C,E,f,l);k||(u=0,f=a,d+=1),k&&(f=C+t*(E()/2+i),u+=d)},g;d<=o.length;)if(g=p(),g)return g.v;return[]}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return(e=Bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bhe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lhe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:l}=e,{end:u}=e,d=function(g){var y=o[g],v,w=()=>(v===void 0&&(v=n(y,g)),v);if(g===a-1){var b=t*(y.coordinate+t*w()/2-u);o[g]=y=pr(pr({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else o[g]=y=pr(pr({},y),{},{tickCoord:y.coordinate});var E=Am(t,y.tickCoord,w,l,u);E&&(u=y.tickCoord-t*(w()/2+i),o[g]=pr(pr({},y),{},{isShow:!0}))},f=a-1;f>=0;f--)d(f);return o}function $he(t,e,n,r,i,o){var a=(r||[]).slice(),l=a.length,{start:u,end:d}=e;if(o){var f=r[l-1],p=n(f,l-1),g=t*(f.coordinate+t*p/2-d);a[l-1]=f=pr(pr({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var y=Am(t,f.tickCoord,()=>p,u,d);y&&(d=f.tickCoord-t*(p/2+i),a[l-1]=pr(pr({},f),{},{isShow:!0}))}for(var v=o?l-1:l,w=function(C){var k=a[C],N,_=()=>(N===void 0&&(N=n(k,C)),N);if(C===0){var P=t*(k.coordinate-t*_()/2-u);a[C]=k=pr(pr({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else a[C]=k=pr(pr({},k),{},{tickCoord:k.coordinate});var D=Am(t,k.tickCoord,_,u,d);D&&(u=k.tickCoord+t*(_()/2+i),a[C]=pr(pr({},k),{},{isShow:!0}))},b=0;b<v;b++)w(b);return a}function fA(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(Le(u)||Rc.isSsr){var g;return(g=jhe(i,Le(u)?u:0))!==null&&g!==void 0?g:[]}var y=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?rd(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(k,N)=>{var _=typeof d=="function"?d(k.value,N):k.value;return v==="width"?Dhe(rd(_,{fontSize:e,letterSpacing:n}),w,p):rd(_,{fontSize:e,letterSpacing:n})[v]},E=i.length>=2?Qn(i[1].coordinate-i[0].coordinate):1,C=Ohe(o,E,v);return u==="equidistantPreserveStart"?Rhe(E,C,b,i,a):(u==="preserveStart"||u==="preserveStartEnd"?y=$he(E,C,b,i,a,u==="preserveStartEnd"):y=Lhe(E,C,b,i,a),y.filter(k=>k.isShow))}var Uhe=["viewBox"],Hhe=["viewBox"];function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){hA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $O(t,e){if(t==null)return{};var n,r,i=zhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hA(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=qhe(t,"string");return typeof e=="symbol"?e:e+""}function qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rs extends S.Component{constructor(e){super(e),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=$O(e,Uhe),o=this.props,{viewBox:a}=o,l=$O(o,Hhe);return!Ow(r,a)||!Ow(i,l)||!Ow(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:l,mirror:u,tickMargin:d}=this.props,f,p,g,y,v,w,b=u?-1:1,E=e.tickSize||l,C=Le(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=p=e.coordinate,y=r+ +!u*o,g=y-b*E,w=g-b*d,v=C;break;case"left":g=y=e.coordinate,p=n+ +!u*i,f=p-b*E,v=f-b*d,w=C;break;case"right":g=y=e.coordinate,p=n+ +u*i,f=p+b*E,v=f+b*d,w=C;break;default:f=p=e.coordinate,y=r+ +u*o,g=y+b*E,w=g+b*d,v=C;break}return{line:{x1:f,y1:g,x2:p,y2:y},tick:{x:v,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:l}=this.props,u=$n($n($n({},Rt(this.props,!1)),Rt(l,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!a||o==="bottom"&&a);u=$n($n({},u),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var f=+(o==="left"&&!a||o==="right"&&a);u=$n($n({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return S.createElement("line",Ql({},u,{className:$t("recharts-cartesian-axis-line",Qa(l,"className"))}))}static renderTickItem(e,n,r){var i,o=$t(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,$n($n({},n),{},{className:o}));else if(typeof e=="function")i=e($n($n({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=$t(a,e.className)),i=S.createElement(Rg,Ql({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:l,unit:u}=this.props,d=fA($n($n({},this.props),{},{ticks:r}),e,n),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Rt(this.props,!1),y=Rt(a,!1),v=$n($n({},g),{},{fill:"none"},Rt(i,!1)),w=d.map((b,E)=>{var{line:C,tick:k}=this.getTickLineCoord(b),N=$n($n($n($n({textAnchor:f,verticalAnchor:p},g),{},{stroke:"none",fill:o},y),k),{},{index:E,payload:b,visibleTicksCount:d.length,tickFormatter:l});return S.createElement(jr,Ql({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},og(this.props,b,E)),i&&S.createElement("line",Ql({},v,C,{className:$t("recharts-cartesian-axis-tick-line",Qa(i,"className"))})),a&&rs.renderTickItem(a,N,"".concat(typeof l=="function"?l(b.value,E):b.value).concat(u||"")))});return w.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:S.createElement(jr,{className:$t("recharts-cartesian-axis",i),ref:l=>{if(l){var u=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var d=u[0];if(d){var f=window.getComputedStyle(d).fontSize,p=window.getComputedStyle(d).letterSpacing;(f!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),si.renderCallByParent(this.props))}}hA(rs,"displayName","CartesianAxis");hA(rs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vhe=["x1","y1","x2","y2","key"],Whe=["offset"],Ghe=["xAxisId","yAxisId"],Yhe=["xAxisId","yAxisId"];function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(null,arguments)}function km(t,e){if(t==null)return{};var n,r,i=Zhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:l}=t;return S.createElement("rect",{x:r,y:i,ry:l,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AB(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:l}=e,u=km(e,Vhe),d=Rt(u,!1),f=km(d,Whe);n=S.createElement("line",Is({},f,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:l}))}return n}function t0e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=km(t,Ghe),a=i.map((l,u)=>{var d=xr(xr({},o),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(u),index:u});return AB(r,d)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function n0e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=km(t,Yhe),a=i.map((l,u)=>{var d=xr(xr({},o),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(u),index:u});return AB(r,d)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function r0e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var d=l.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var y=!d[g+1],v=y?i+a-p:d[g+1]-p;if(v<=0)return null;var w=g%e.length;return S.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:v,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function i0e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var y=!d[g+1],v=y?i+a-p:d[g+1]-p;if(v<=0)return null;var w=g%n.length;return S.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:v,height:l,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var o0e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return k8(fA(xr(xr(xr({},rs.defaultProps),n),{},{ticks:T8(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},a0e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return k8(fA(xr(xr(xr({},rs.defaultProps),n),{},{ticks:T8(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},s0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Q0(t){var e=j8(),n=R8(),r=O8(),i=xr(xr({},oo(t,s0e)),{},{x:Le(t.x)?t.x:r.left,y:Le(t.y)?t.y:r.top,width:Le(t.width)?t.width:r.width,height:Le(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:l,y:u,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:y}=i,v=Gr(),w=Ve(F=>$D(F,"xAxis",o,v)),b=Ve(F=>$D(F,"yAxis",a,v));if(!Le(d)||d<=0||!Le(f)||f<=0||!Le(l)||l!==+l||!Le(u)||u!==+u)return null;var E=i.verticalCoordinatesGenerator||o0e,C=i.horizontalCoordinatesGenerator||a0e,{horizontalPoints:k,verticalPoints:N}=i;if((!k||!k.length)&&typeof C=="function"){var _=g&&g.length,P=C({yAxis:b?xr(xr({},b),{},{ticks:_?g:b.ticks}):void 0,width:e,height:n,offset:r},_?!0:p);nd(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}if((!N||!N.length)&&typeof E=="function"){var D=y&&y.length,R=E({xAxis:w?xr(xr({},w),{},{ticks:D?y:w.ticks}):void 0,width:e,height:n,offset:r},D?!0:p);nd(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(N=R)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(e0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(r0e,Is({},i,{horizontalPoints:k})),S.createElement(i0e,Is({},i,{verticalPoints:N})),S.createElement(t0e,Is({},i,{offset:r,horizontalPoints:k,xAxis:w,yAxis:b})),S.createElement(n0e,Is({},i,{offset:r,verticalPoints:N,xAxis:w,yAxis:b})))}Q0.displayName="CartesianGrid";function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return(e=c0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d0e={xAxis:{},yAxis:{},zAxis:{}},kB=ji({name:"cartesianAxis",initialState:d0e,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=zO(zO({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:f0e,removeXAxis:h0e,addYAxis:p0e,removeYAxis:m0e,addZAxis:Zpe,removeZAxis:eme,updateYAxisWidth:g0e}=kB.actions,y0e=kB.reducer,v0e=["children"],x0e=["dangerouslySetInnerHTML","ticks"];function TB(t,e,n){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w0e(t){var e=b0e(t,"string");return typeof e=="symbol"?e:e+""}function b0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(null,arguments)}function _B(t,e){if(t==null)return{};var n,r,i=C0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S0e(t){var e=pn(),n=S.useMemo(()=>{var o=_B(t,v0e);return o},[t]),r=Ve(o=>ca(o,n.id)),i=n===r;return S.useEffect(()=>(e(f0e(n)),()=>{e(h0e(n))}),[n,e]),i?t.children:null}var E0e=t=>{var{xAxisId:e,className:n}=t,r=Ve(D8),i=Gr(),o="xAxis",a=Ve(p=>Uc(p,o,e,i)),l=Ve(p=>x5(p,o,e,i)),u=Ve(p=>m5(p,e)),d=Ve(p=>ile(p,e));if(u==null||d==null)return null;var f=_B(t,x0e);return S.createElement(rs,k1({},f,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:$t("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l}))},A0e=t=>{var e,n,r,i,o;return S.createElement(S0e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},S.createElement(E0e,t))};class id extends S.Component{render(){return S.createElement(A0e,this.props)}}TB(id,"displayName","XAxis");TB(id,"defaultProps",{allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,height:ii.height,hide:!1,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tickCount:ii.tickCount,type:ii.type,xAxisId:0});var k0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+o,d=a+u+l+(n?r:0);return Math.round(d)}return 0},T0e=["dangerouslySetInnerHTML","ticks"];function NB(t,e,n){return(e=_0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=N0e(t,"string");return typeof e=="symbol"?e:e+""}function N0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T1.apply(null,arguments)}function P0e(t,e){if(t==null)return{};var n,r,i=I0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function I0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function D0e(t){var e=pn();return S.useEffect(()=>(e(p0e(t)),()=>{e(m0e(t))}),[t,e]),null}var O0e=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=S.useRef(null),l=S.useRef(null),u=Ve(D8),d=Gr(),f=pn(),p="yAxis",g=Ve(E=>Uc(E,p,n,d)),y=Ve(E=>g5(E,n)),v=Ve(E=>ole(E,n)),w=Ve(E=>x5(E,p,n,d));if(S.useLayoutEffect(()=>{var E;if(!(i!=="auto"||!y||nA(o)||S.isValidElement(o))){var C=a.current,k=C==null||(E=C.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:N,tickMargin:_}=C.props,P=k0e({ticks:k,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:_});Math.round(y.width)!==Math.round(P)&&f(g0e({id:n,width:P}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,y==null?void 0:y.width,y,f,o,n,i]),y==null||v==null)return null;var b=P0e(t,T0e);return S.createElement(rs,T1({},b,{ref:a,labelRef:l,scale:g,x:v.x,y:v.y,width:y.width,height:y.height,className:$t("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:w}))},j0e=t=>{var e,n,r,i,o;return S.createElement(S.Fragment,null,S.createElement(D0e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),S.createElement(O0e,t))},R0e={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,hide:!1,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tickCount:oi.tickCount,type:oi.type,width:oi.width,yAxisId:0};class od extends S.Component{render(){return S.createElement(j0e,this.props)}}NB(od,"displayName","YAxis");NB(od,"defaultProps",R0e);var jw={exports:{}},Rw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function M0e(){if(KO)return Rw;KO=1;var t=Cc();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Rw.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=a(function(){function b(_){if(!E){if(E=!0,C=_,_=p(_),g!==void 0&&v.hasValue){var P=v.value;if(g(P,_))return k=P}return k=_}if(P=k,n(C,_))return P;var D=p(_);return g!==void 0&&g(P,D)?(C=_,P):(C=_,k=D)}var E=!1,C,k,N=f===void 0?null:f;return[function(){return b(d())},N===null?void 0:function(){return b(N())}]},[d,f,p,g]);var w=r(u,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),l(w),w},Rw}var qO;function B0e(){return qO||(qO=1,jw.exports=M0e()),jw.exports}B0e();function F0e(t){t()}function L0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){F0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var VO={notify(){},get:()=>[]};function $0e(t,e){let n,r=VO,i=0,o=!1;function a(w){f();const b=r.subscribe(w);let E=!1;return()=>{E||(E=!0,b(),p())}}function l(){r.notify()}function u(){v.onStateChange&&v.onStateChange()}function d(){return o}function f(){i++,n||(n=t.subscribe(u),r=L0e())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VO)}function g(){o||(o=!0,f())}function y(){o&&(o=!1,p())}const v={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return v}var U0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H0e=U0e(),z0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",K0e=z0e(),q0e=()=>H0e||K0e?S.useLayoutEffect:S.useEffect,V0e=q0e(),Mw=Symbol.for("react-redux-context"),Bw=typeof globalThis<"u"?globalThis:{};function W0e(){if(!S.createContext)return{};const t=Bw[Mw]??(Bw[Mw]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var G0e=W0e();function Y0e(t){const{children:e,context:n,serverState:r,store:i}=t,o=S.useMemo(()=>{const u=$0e(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),a=S.useMemo(()=>i.getState(),[i]);V0e(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=n||G0e;return S.createElement(l.Provider,{value:o},e)}var Q0e=Y0e,X0e=(t,e)=>e,pA=ue([X0e,Mt,vse,Zn,j5,ua,sce,Hn],fce),mA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},PB=Di("mouseClick"),IB=tf();IB.startListening({actionCreator:PB,effect:(t,e)=>{var n=t.payload,r=pA(e.getState(),mA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vle({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var _1=Di("mouseMove"),DB=tf();DB.startListening({actionCreator:_1,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=WE(r,r.tooltip.settings.shared),o=pA(r,mA(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(T5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(k5()))}});function J0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var WO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},OB=ji({name:"rootProps",initialState:WO,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:WO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Z0e=OB.reducer,{updateOptions:epe}=OB.actions,jB=ji({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:tpe}=jB.actions,npe=jB.reducer,RB=Di("keyDown"),MB=Di("focus"),gA=tf();gA.startListening({actionCreator:RB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(GE(i,pl(n))),l=ua(n);if(o==="Enter"){var u=wm(n,"axis","hover",String(i.index));e.dispatch(x1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=cle(n),f=d==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,g=a+p*f;if(!(l==null||g>=l.length||g<0)){var y=wm(n,"axis","hover",String(g));e.dispatch(x1({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});gA.startListening({actionCreator:MB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=wm(n,"axis","hover",String(o));e.dispatch(x1({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var Ti=Di("externalEvent"),BB=tf();BB.startListening({actionCreator:Ti,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Jle(n),activeDataKey:F5(n),activeIndex:tl(n),activeLabel:B5(n),activeTooltipIndex:tl(n),isTooltipActive:Zle(n)};t.payload.handler(r,t.payload.reactEvent)}}});var rpe=ue([Hc],t=>t.tooltipItemPayloads),ipe=ue([rpe,ff,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),FB=Di("touchMove"),LB=tf();LB.startListening({actionCreator:FB,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=WE(r,r.tooltip.settings.shared);if(i==="axis"){var o=pA(r,mA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(T5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(P8),f=(a=u.getAttribute(I8))!==null&&a!==void 0?a:void 0,p=ipe(e.getState(),d,f);e.dispatch(A5({activeDataKey:f,activeIndex:d,activeCoordinate:p}))}}});var ope=n8({brush:bhe,cartesianAxis:y0e,chartData:_ce,graphicalItems:dde,layout:bne,legend:ire,options:Sce,polarAxis:Yue,polarOptions:npe,referenceElements:Nhe,rootProps:Z0e,tooltip:xle}),ape=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Vte({reducer:ope,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([IB.middleware,DB.middleware,gA.middleware,BB.middleware,LB.middleware]),devTools:{serialize:{replacer:J0e},name:"recharts-".concat(n)}})};function $B(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Gr(),o=S.useRef(null);if(i)return n;o.current==null&&(o.current=ape(e,r));var a=LS;return S.createElement(Q0e,{context:a,store:o.current},n)}function UB(t){var{layout:e,width:n,height:r,margin:i}=t,o=pn(),a=Gr();return S.useEffect(()=>{a||(o(vne(e)),o(xne({width:n,height:r})),o(yne(i)))},[o,a,e,n,r,i]),null}function HB(t){var e=pn();return S.useEffect(()=>{e(epe(t))},[e,t]),null}var spe=["children"];function lpe(t,e){if(t==null)return{};var n,r,i=cpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(null,arguments)}var upe={width:"100%",height:"100%"},dpe=S.forwardRef((t,e)=>{var n=j8(),r=R8(),i=L8();if(!mc(n)||!mc(r))return null;var{children:o,otherAttributes:a,title:l,desc:u}=t,d,f;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0,S.createElement(k3,Tm({},a,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:upe,ref:e}),o)}),fpe=t=>{var{children:e}=t,n=Ve(xg);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return S.createElement(k3,{width:r,height:i,x:a,y:o},e)},GO=S.forwardRef((t,e)=>{var{children:n}=t,r=lpe(t,spe),i=Gr();return i?S.createElement(fpe,null,n):S.createElement(dpe,Tm({ref:e},r),n)});function hpe(){var t=pn(),[e,n]=S.useState(null),r=Ve(Yne);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;yi(o)&&o!==r&&t(wne(o))}},[e,t,r]),n}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ppe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vpe=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:v,onTouchStart:w,style:b,width:E}=t,C=pn(),[k,N]=S.useState(null),[_,P]=S.useState(null);Ice();var D=hpe(),R=S.useCallback(M=>{D(M),typeof e=="function"&&e(M),N(M),P(M)},[D,e,N,P]),F=S.useCallback(M=>{C(PB(M)),C(Ti({handler:o,reactEvent:M}))},[C,o]),O=S.useCallback(M=>{C(_1(M)),C(Ti({handler:d,reactEvent:M}))},[C,d]),B=S.useCallback(M=>{C(k5()),C(Ti({handler:f,reactEvent:M}))},[C,f]),$=S.useCallback(M=>{C(_1(M)),C(Ti({handler:p,reactEvent:M}))},[C,p]),L=S.useCallback(()=>{C(MB())},[C]),H=S.useCallback(M=>{C(RB(M.key))},[C]),X=S.useCallback(M=>{C(Ti({handler:a,reactEvent:M}))},[C,a]),se=S.useCallback(M=>{C(Ti({handler:l,reactEvent:M}))},[C,l]),ie=S.useCallback(M=>{C(Ti({handler:u,reactEvent:M}))},[C,u]),W=S.useCallback(M=>{C(Ti({handler:g,reactEvent:M}))},[C,g]),Q=S.useCallback(M=>{C(Ti({handler:w,reactEvent:M}))},[C,w]),ee=S.useCallback(M=>{C(FB(M)),C(Ti({handler:v,reactEvent:M}))},[C,v]),I=S.useCallback(M=>{C(Ti({handler:y,reactEvent:M}))},[C,y]);return S.createElement(K5.Provider,{value:k},S.createElement(HZ.Provider,{value:_},S.createElement("div",{className:$t("recharts-wrapper",r),style:ppe({position:"relative",cursor:"default",width:E,height:i},b),onClick:F,onContextMenu:X,onDoubleClick:se,onFocus:L,onKeyDown:H,onMouseDown:ie,onMouseEnter:O,onMouseLeave:B,onMouseMove:$,onMouseUp:W,onTouchEnd:I,onTouchMove:ee,onTouchStart:Q,ref:R},n)))}),xpe=["children","className","width","height","style","compact","title","desc"];function wpe(t,e){if(t==null)return{};var n,r,i=bpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zB=S.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:l,title:u,desc:d}=t,f=wpe(t,xpe),p=Rt(f,!1);return l?S.createElement(GO,{otherAttributes:p,title:u,desc:d},n):S.createElement(vpe,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(GO,{otherAttributes:p,title:u,desc:d,ref:e},S.createElement(Ihe,null,n)))}),Cpe=["width","height"];function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(null,arguments)}function Spe(t,e){if(t==null)return{};var n,r,i=Epe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Epe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ape={top:5,right:5,bottom:5,left:5},kpe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ape,reverseStackOrder:!1,syncMethod:"index"},Tpe=S.forwardRef(function(e,n){var r,i=oo(e.categoricalChartProps,kpe),{width:o,height:a}=i,l=Spe(i,Cpe);if(!mc(o)||!mc(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:g}=e,y={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return S.createElement($B,{preloadedState:{options:y},reduxStoreName:(r=g.id)!==null&&r!==void 0?r:u},S.createElement(SB,{chartData:g.data}),S.createElement(UB,{width:o,height:a,layout:i.layout,margin:i.margin}),S.createElement(HB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(zB,N1({},l,{width:o,height:a,ref:n})))}),_pe=["axis","item"],Fw=S.forwardRef((t,e)=>S.createElement(Tpe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_pe,tooltipPayloadSearcher:q5,categoricalChartProps:t,ref:e}));function Npe(t){var e=pn();return S.useEffect(()=>{e(tpe(t))},[e,t]),null}var Ppe=["width","height","layout"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(null,arguments)}function Ipe(t,e){if(t==null)return{};var n,r,i=Dpe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ope={top:5,right:5,bottom:5,left:5},jpe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ope,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Rpe=S.forwardRef(function(e,n){var r,i=oo(e.categoricalChartProps,jpe),{width:o,height:a,layout:l}=i,u=Ipe(i,Ppe);if(!mc(o)||!mc(a))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g}=e,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return S.createElement($B,{preloadedState:{options:y},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:d},S.createElement(SB,{chartData:i.data}),S.createElement(UB,{width:o,height:a,layout:l,margin:i.margin}),S.createElement(HB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(Npe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(zB,P1({width:o,height:a},u,{ref:n})))}),Mpe=["item"],Bpe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},QO=S.forwardRef((t,e)=>{var n=oo(t,Bpe);return S.createElement(Rpe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Mpe,tooltipPayloadSearcher:q5,categoricalChartProps:n,ref:e})});const Fpe=({performanceData:t=[],filteredTasksByPeriod:e=[],selectedUser:n=null,viewType:r="Weekly",selectedYear:i=new Date().getFullYear(),selectedMonth:o=new Date().getMonth(),months:a=[],selectedDepartment:l,selectedSubDepartment:u,selectedManager:d,searchQuery:f="",performanceFilter:p="all",userMap:g={},aesKey:y=null,aesIV:v=null,calculatePerformanceMetrics:w=[]})=>{var $;const[b,E]=S.useState("overview"),[C,k]=S.useState("all"),N=S.useMemo(()=>{if(!w.length)return t;let L=w.filter(H=>!f||H.name.toLowerCase().includes(f.toLowerCase()));switch(p){case"all":return L;case"flagged-any":return L.filter(H=>H.overdue>0||H.variance>0);case"flagged-overdue":return L.filter(H=>H.overdue>0);case"flagged-underlogged":return L.filter(H=>H.variance<0);case"non-flagged":return L.filter(H=>H.overdue===0&&H.variance<=0);default:return L}},[w,f,p,t]);S.useEffect(()=>{console.log("PerformanceCharts props:",{performanceDataLength:t.length,filteredPerformanceDataLength:N.length,filteredTasksByPeriodLength:e.length,selectedDepartment:l,selectedSubDepartment:u,selectedManager:d,viewType:r,selectedYear:i,selectedMonth:o,selectedUser:n,searchQuery:f,performanceFilter:p})},[t,N,e,l,u,d,r,i,o,n,f,p]);const _={primary:"#7c3aed",secondary:"#f50ae5ff",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6",gradient:["#a855f7","#f59e0b","#10b981","#ddd6fe","#ede9fe"]},P=S.useMemo(()=>{console.log("Computing taskTypeDistribution with:",{filteredTasksByPeriodLength:e.length,filteredPerformanceDataLength:N.length,searchQuery:f,performanceFilter:p});const L=N.map(W=>W.userId),H=e.filter(W=>L.includes(W.createdBy));if(console.log("Relevant tasks for task type distribution:",{visibleUserIds:L,relevantTasksLength:H.length}),H.length&&H.some(W=>W.type||W.status)){const W=H.reduce((ee,I)=>{const M=I.type||I.status||"Unknown";return ee[M]=(ee[M]||0)+1,ee},{}),Q=Object.entries(W).map(([ee,I],M)=>({name:ee,value:I,color:_.gradient[M%_.gradient.length]}));return console.log("Task type distribution result:",Q),Q}const X=H.filter(W=>{const Q=new Date(W.dueDate),ee=new Date;return!(W.status!=="Completed"&&Q<ee)}).length,se=H.filter(W=>{const Q=new Date(W.dueDate),ee=new Date;return W.status!=="Completed"&&Q<ee}).length,ie=[{name:"Completed On Time",value:X,color:_.success},{name:"Overdue",value:se,color:_.danger}].filter(W=>W.value>0);return console.log("Task type distribution fallback result:",ie),ie},[e,N,_,f,p]),D=S.useMemo(()=>{if(!N.length)return{};let L=[...N];C==="top5"?L=N.sort((Q,ee)=>parseFloat(ee.onTimePercentage)-parseFloat(Q.onTimePercentage)).slice(0,5):C==="bottom5"&&(L=N.sort((Q,ee)=>parseFloat(Q.onTimePercentage)-parseFloat(ee.onTimePercentage)).slice(0,5));const H=L.map(Q=>({name:Q.name.length>15?Q.name.substring(0,15)+"...":Q.name,fullName:Q.name,onTimePercentage:parseFloat(Q.onTimePercentage),avgTaskTime:parseFloat(Q.avgTaskTime),totalTasks:Q.totalTasks,overdueTasks:Q.overdue,variance:Q.variance,estimatedHours:Q.estimatedHours,actualHours:Q.actualHours})),X=[{name:"Completed On Time",value:L.reduce((Q,ee)=>Q+(ee.totalTasks-ee.overdue),0),color:_.success},{name:"Overdue Tasks",value:L.reduce((Q,ee)=>Q+ee.overdue,0),color:_.danger}],se=L.map(Q=>({name:Q.name.length>12?Q.name.substring(0,12)+"...":Q.name,fullName:Q.name,estimated:Q.estimatedHours,actual:Q.actualHours,variance:Q.variance})),ie=L.map(Q=>({name:Q.name.length>12?Q.name.substring(0,12)+"...":Q.name,fullName:Q.name,tasks:Q.totalTasks,hoursPerTask:Q.actualHours/Math.max(Q.totalTasks,1)})),W={overview:H,taskDistribution:X,hoursVariance:se,taskTypeDistribution:P,workloadBalance:ie};return console.log("Chart data computed:",W),W},[N,C,n,P,_]),R=({active:L,payload:H,label:X})=>L&&H&&H.length?h.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200",children:[h.jsx("p",{className:"text-gray-800 font-medium",children:X}),H.map((se,ie)=>h.jsxs("p",{style:{color:se.color},className:"text-sm",children:[se.name,": ",se.value,se.name.includes("Percentage")&&"%",se.name.includes("Hours")&&" hrs"]},ie))]}):null,F=[{id:"overview",name:"Performance Overview",icon:bd},{id:"tasks",name:"Task Distribution",icon:K0},{id:"hours",name:"Hours Analysis",icon:Nr},{id:"taskTypes",name:"Task Type Distribution",icon:K0},{id:"workload",name:"Workload Balance",icon:Ms}],O=[{id:"all",name:"All Users"},{id:"top5",name:"Top 5 Performers"},{id:"bottom5",name:"Bottom 5 Performers"}],B=()=>{switch(b){case"overview":return h.jsx(Fu,{width:"100%",height:400,children:h.jsxs(Fw,{data:D.overview,margin:{top:20,right:30,left:20,bottom:60},children:[h.jsx(Q0,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),h.jsx(id,{dataKey:"name",stroke:"#6b7280",angle:-45,textAnchor:"end",height:80,fontSize:12}),h.jsx(od,{stroke:"#6b7280"}),h.jsx(Bu,{content:h.jsx(R,{})}),h.jsx(Ma,{dataKey:"onTimePercentage",fill:_.primary,name:"On-Time %",radius:[4,4,0,0]}),h.jsx(Ma,{dataKey:"totalTasks",fill:_.secondary,name:"Total Tasks",radius:[4,4,0,0]})]})});case"tasks":return h.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Fu,{width:400,height:350,children:h.jsxs(QO,{children:[h.jsx(Em,{data:D.taskDistribution,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:140,innerRadius:70,paddingAngle:5,startAngle:90,endAngle:450,children:D.taskDistribution.map((L,H)=>h.jsx(bc,{fill:L.color},`cell-${H}`))}),h.jsx(Bu,{})]})})}),h.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[h.jsx("div",{className:"space-y-3",children:D.taskDistribution.map((L,H)=>h.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-gray-50 rounded-lg min-w-[250px]",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:L.color}}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:L.name})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900",children:L.value}),h.jsxs("div",{className:"text-xs text-gray-500",children:[(L.value/D.taskDistribution.reduce((X,se)=>X+se.value,0)*100).toFixed(1),"%"]})]})]},H))}),h.jsx("div",{className:"p-4 bg-gradient-to-r from-violet-50 to-purple-50 rounded-lg border border-violet-200",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-violet-800",children:D.taskDistribution.reduce((L,H)=>L+H.value,0)}),h.jsx("div",{className:"text-sm text-violet-600",children:"Total Tasks"})]})})]})]});case"hours":return h.jsx(Fu,{width:"100%",height:400,children:h.jsxs(Fw,{data:D.hoursVariance,margin:{top:20,right:30,left:20,bottom:60},children:[h.jsx(Q0,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),h.jsx(id,{dataKey:"name",stroke:"#6b7280",angle:-45,textAnchor:"end",height:80,fontSize:12}),h.jsx(od,{stroke:"#6b7280"}),h.jsx(Bu,{content:h.jsx(R,{})}),h.jsx(Ma,{dataKey:"estimated",fill:_.info,name:"Estimated Hours",radius:[4,4,0,0]}),h.jsx(Ma,{dataKey:"actual",fill:_.warning,name:"Actual Hours",radius:[4,4,0,0]})]})});case"taskTypes":return h.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-8",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Fu,{width:400,height:350,children:h.jsxs(QO,{children:[h.jsx(Em,{data:D.taskTypeDistribution,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:140,innerRadius:70,paddingAngle:3,startAngle:90,endAngle:450,children:D.taskTypeDistribution.map((L,H)=>h.jsx(bc,{fill:L.color},`cell-${H}`))}),h.jsx(Bu,{})]})})}),h.jsxs("div",{className:"flex flex-col justify-center space-y-4 max-w-sm",children:[h.jsx("div",{className:"space-y-3",children:h.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:D.taskTypeDistribution.map((L,H)=>h.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:L.color}}),h.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",title:L.name,children:L.name.length>20?L.name.substring(0,20)+"...":L.name})]}),h.jsxs("div",{className:"text-right flex-shrink-0",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900",children:L.value}),h.jsxs("div",{className:"text-xs text-gray-500",children:[(L.value/D.taskTypeDistribution.reduce((X,se)=>X+se.value,0)*100).toFixed(1),"%"]})]})]},H))})}),h.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-800",children:D.taskTypeDistribution.reduce((L,H)=>L+H.value,0)}),h.jsx("div",{className:"text-sm text-blue-600",children:"Total Items"})]})})]})]});case"workload":return h.jsx(Fu,{width:"100%",height:400,children:h.jsxs(Fw,{data:D.workloadBalance,margin:{top:20,right:30,left:20,bottom:60},children:[h.jsx(Q0,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),h.jsx(id,{dataKey:"name",stroke:"#6b7280",angle:-45,textAnchor:"end",height:80,fontSize:12}),h.jsx(od,{stroke:"#6b7280"}),h.jsx(Bu,{content:h.jsx(R,{})}),h.jsx(Ma,{dataKey:"tasks",fill:_.primary,name:"Total Tasks",radius:[4,4,0,0]}),h.jsx(Ma,{dataKey:"hoursPerTask",fill:_.warning,name:"Hours per Task",radius:[4,4,0,0]})]})});default:return null}};return N.length?h.jsxs(Ie.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[h.jsx(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:h.jsxs("div",{className:"flex items-center justify-between gap-4 overflow-x-auto",children:[h.jsx("div",{className:"flex flex-nowrap gap-2",children:F.map(L=>{const H=L.icon;return h.jsxs(Ie.button,{onClick:()=>E(L.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${b===L.id?"bg-violet-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[h.jsx(H,{size:16}),L.name]},L.id)})}),h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Filter:"}),h.jsx("select",{value:C,onChange:L=>k(L.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:O.map(L=>h.jsx("option",{value:L.id,children:L.name},L.id))})]})]})}),(f||p!=="all")&&h.jsxs(Ie.div,{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Active Filters:"}),h.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[f&&h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:['Search: "',f,'"']}),p!=="all"&&h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Filter: ",p.replace("-"," ").replace(/\b\w/g,L=>L.toUpperCase())]}),h.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Showing: ",N.length," users"]})]})]}),h.jsx(Ie.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:[{title:"Average Performance",value:N.length?`${Math.round(N.reduce((L,H)=>L+parseFloat(H.onTimePercentage),0)/N.length)}%`:"0%",icon:Ka,color:"text-green-600",bg:"bg-green-50"},{title:"Total Tasks",value:N.reduce((L,H)=>L+H.totalTasks,0),icon:K0,color:"text-blue-600",bg:"bg-blue-50"},{title:"Overdue Tasks",value:N.reduce((L,H)=>L+H.overdue,0),icon:R4,color:"text-red-600",bg:"bg-red-50"},{title:"Active Users",value:N.length,icon:Ms,color:"text-purple-600",bg:"bg-purple-50"}].map((L,H)=>{const X=L.icon;return h.jsx(Ie.div,{className:`${L.bg} rounded-lg p-4 border border-gray-200`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:H*.1},whileHover:{scale:1.02},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:L.title}),h.jsx("p",{className:`text-2xl font-bold ${L.color}`,children:L.value})]}),h.jsx(X,{className:`h-8 w-8 ${L.color}`})]})},L.title)})}),h.jsxs(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:($=F.find(L=>L.id===b))==null?void 0:$.name}),h.jsx("p",{className:"text-sm text-gray-600",children:n?`Performance data for ${n.name}`:`Performance data for ${r} view${l!=="All Departments"?`, Department: ${l}`:""}${u!=="All Sub-Departments"?`, Sub-Department: ${u}`:""}${d!=="All Managers"?`, Manager: ${d}`:""}`})]}),h.jsx("div",{className:"min-h-[400px]",children:h.jsx(xo,{mode:"wait",children:h.jsx(Ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:B()},b)})})]})]}):h.jsxs(Ie.div,{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx(bd,{className:"mx-auto h-12 w-12 text-yellow-500 mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Performance Data Available"}),h.jsxs("p",{className:"text-yellow-600",children:["Performance charts will appear here once data is available for the selected period and filters.",f&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),'Current search: "',f,'"']}),p!=="all"&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),"Current filter: ",p]})]})]})},XO=({viewType:t,selectedYear:e,selectedMonth:n,selectedWeek:r,searchQuery:i,months:o,selectedDepartment:a,selectedSubDepartment:l,selectedManager:u,showCharts:d})=>{const[f,p]=S.useState([]),[g,y]=S.useState(!1),[v,w]=S.useState(null),[b,E]=S.useState({}),[C,k]=S.useState(null),[N,_]=S.useState(null),[P,D]=S.useState(!1),[R,F]=S.useState(null),[O,B]=S.useState(""),$=S.useRef(null),[L,H]=S.useState(!1),[X,se]=S.useState("all"),[ie,W]=S.useState(!1),[Q,ee]=S.useState(""),[I,M]=S.useState(!1),[z,K]=S.useState(null),[J,he]=S.useState(null),[we,te]=S.useState(null),{acquireToken:V,isAuthenticated:ce,isLoading:ye,user:le}=Bn(),Se=le==null?void 0:le.id,Pe="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/alltaskforPerformance",Je="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/all",et="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Feedback",ht="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Feedback/broadcast";S.useEffect(()=>{console.log("Auth user object:",le)},[le]),S.useEffect(()=>{(async()=>{try{console.log("Starting to fetch encryption keys...");const re=await No();if(console.log("Keys fetched:",re),re&&re.aesKey&&re.aesIV)K(re.aesKey),he(re.aesIV);else throw new Error("Invalid keys structure")}catch(re){console.error("Failed to fetch encryption keys:",re),te(re.message)}})()},[]);const Et=S.useCallback(async()=>{if(!(!ce||ye)){y(!0),w(null);try{const de=new URLSearchParams({year:e,month:n+1,...t==="Weekly"&&{week:r},...a!=="All Departments"&&{department:a},...l!=="All Sub-Departments"&&{subDepartment:l},...u!=="All Managers"&&{manager:u}}).toString(),re=`${Je}?${de}`,He=await mo(re,"GET",null,V),We=He.reduce((Ct,At)=>(Ct[At.userId]={name:At.name,department:At.department,subDepartment:At.subDepartment,manager:At.manager},Ct),{}),nt=`${Pe}?${de}`,ut=(await mo(nt,"GET",null,V)).filter(Ct=>{const At=He.find(Kt=>Kt.userId===Ct.createdBy);return At?(a==="All Departments"||At.department===a)&&(l==="All Sub-Departments"||At.subDepartment===l)&&(u==="All Managers"||At.manager===u):!1});E(We),p(ut||[])}catch(de){w(de.message),console.error("Error fetching performance data:",de)}finally{y(!1)}}},[ce,ye,V,e,n,r,a,l,u]);S.useEffect(()=>{Et()},[Et]),S.useEffect(()=>{P&&$.current&&$.current.focus()},[P]);const xt=!f||f.length===0?[]:f.filter(de=>{const re=new Date(de.createdDate||de.dueDate),He=re.getFullYear(),We=re.getMonth();if(He!==e)return!1;switch(t){case"Weekly":return We!==n?!1:Math.ceil(re.getDate()/7)===r;case"Monthly":return We===n;case"Yearly":return!0;default:return!0}}),Ut=S.useMemo(()=>{if(!xt.length)return[];const de={};return xt.forEach(re=>{const He=re.createdBy;if(!b[He])return;de[He]||(de[He]={userId:He,name:(_r(b[He].name,z,J)||`User ${He.slice(0,8)}`).replace(" (Quadrant Technologies)",""),estimatedHours:0,actualHours:0,onTime:0,totalTasks:0,overdue:0});const We=de[He];We.estimatedHours+=re.estimatedHours||0,We.actualHours+=re.completedHours||0,We.totalTasks+=1;const nt=new Date(re.dueDate),wt=new Date;re.status!=="Completed"&&nt<wt?We.overdue+=1:We.onTime+=1}),Object.values(de).filter(re=>!i||re.name.toLowerCase().includes(i.toLowerCase())).map(re=>{const He=re.totalTasks?re.onTime/re.totalTasks*100:0,We=re.totalTasks?re.actualHours/re.totalTasks:0,nt=re.actualHours-re.estimatedHours;return{userId:re.userId,name:re.name,onTimePercentage:He.toFixed(0),avgTaskTime:We.toFixed(1),estimatedHours:re.estimatedHours,actualHours:re.actualHours,variance:nt,overdue:re.overdue,totalTasks:re.totalTasks}})},[xt,b,i,z,J]),_t=S.useMemo(()=>{let de=Ut;switch(X){case"all":return de;case"flagged-any":return de.filter(re=>re.overdue>0||re.variance>0);case"flagged-overdue":return de.filter(re=>re.overdue>0);case"flagged-underlogged":return de.filter(re=>re.variance<0);case"non-flagged":return de.filter(re=>re.overdue===0&&re.variance<=0);default:return de}},[Ut,X]),Bt=(()=>{let de=xt;if(C&&(de=xt.filter(gt=>gt.createdBy===C.userId)),!de.length)return{totalEstimatedHours:0,totalActualHours:0,totalTasks:0,completedTasks:0,onTimeTasks:0,hoursVariance:0,hoursVariancePercentage:0,onTimePercentage:0,avgTaskTimeDays:0,onTimeDelivery:0};const re=de.reduce((gt,rn)=>gt+(rn.estimatedHours||0),0),He=de.reduce((gt,rn)=>gt+(rn.completedHours||0),0),We=de.length,nt=de.filter(gt=>gt.status==="Completed").length,wt=de.filter(gt=>{const rn=new Date(gt.dueDate),er=new Date(gt.updatedAt||gt.dueDate);return gt.status==="Completed"&&er<=rn}).length,ut=He-re,Ct=re>0?(ut/re*100).toFixed(1):0,At=We>0?nt/We*100:0,Kt=nt>0?He/nt:0,En=nt>0?wt/nt*100:0;return{totalEstimatedHours:re,totalActualHours:He,totalTasks:We,completedTasks:nt,onTimeTasks:wt,hoursVariance:ut,hoursVariancePercentage:Ct,onTimePercentage:At,avgTaskTimeDays:Kt,onTimeDelivery:En}})(),Cr=()=>{switch(t){case"Weekly":return`${o[n]} ${e}, Week ${r}`;case"Monthly":return`${o[n]} ${e}`;case"Yearly":return`${e}`;default:return""}},mn=de=>{(C==null?void 0:C.userId)===de.userId?k(null):k(de),_(null)},Sn=(de,re)=>{re.stopPropagation(),_(N===de?null:de)},Ke=(de,re)=>{re.stopPropagation(),_(null),F(de),B(""),D(!0)},Ze=async()=>{if(!O.trim()){alert("Please enter feedback message");return}if(!Se){console.error("Manager ID is not available:",{user:le}),alert("Cannot send feedback: Manager authentication is not properly set up");return}try{const de=await V("api");if(!de)throw new Error("Failed to get authentication token");const re={userId:R.userId,managerId:Se,message:O,isRead:!1,sentAt:new Date().toISOString(),year:e,month:n+1,week:t==="Weekly"?r:null,viewType:t};await ot.post(et,re,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}}),alert("Feedback sent successfully."),D(!1),B(""),F(null)}catch(de){alert("Failed to send feedback: "+(de.message||de))}},Nt=()=>{H(de=>!de)},oe=de=>{se(de),H(!1)},Te={all:"All Users","flagged-any":"Flagged Users - Any","flagged-overdue":"Flagged Users - Tasks Overdue","flagged-underlogged":"Flagged Users - Under Logged","non-flagged":"Non Flagged Users"},Ye=()=>_t.map(de=>de.userId),at=async()=>{if(!Q.trim()){alert("Please enter a broadcast message");return}const de=Ye();if(de.length===0){alert("No users to notify with the current filter.");return}if(!Se){console.error("Manager ID is not available:",{user:le}),alert("Cannot send notification: Manager authentication is not properly set up");return}M(!0);try{const re=await V("api");if(!re)throw new Error("Failed to get authentication token");const He={userIds:de,managerId:Se,message:Q,isRead:!1,sentAt:new Date().toISOString(),year:e,month:n+1,week:t==="Weekly"?r:null,viewType:t};await ot.post(ht,He,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}}),alert(`Notification sent to ${de.length} user(s) successfully.`),ee(""),W(!1)}catch(re){console.error("Broadcast send error:",re),alert("Failed to send broadcast notification: "+(re.message||re))}finally{M(!1)}};return d?h.jsx(Fpe,{performanceData:_t,filteredTasksByPeriod:xt,selectedUser:C,viewType:t,selectedYear:e,selectedMonth:n,months:o,selectedDepartment:a,selectedSubDepartment:l,selectedManager:u,searchQuery:i,performanceFilter:X,userMap:b,aesKey:z,aesIV:J}):h.jsxs(Ie.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[h.jsxs(Ie.div,{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-violet-900 truncate",children:C?`Performance Metrics for ${C.name}`:"Performance Metrics (All Users)"}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Period: ",Cr()]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 relative",children:[h.jsxs("button",{type:"button",onClick:Nt,className:"flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-violet-500 text-sm","aria-haspopup":"true","aria-expanded":L,children:[h.jsx("span",{className:"truncate",children:Te[X]}),h.jsx("svg",{className:"ml-2 h-4 w-4 text-gray-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M6 8l4 4 4-4"})})]}),h.jsx("button",{type:"button",onClick:()=>W(!0),disabled:!Se||X==="all"&&_t.length===0,className:"px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm whitespace-nowrap",children:"Send Notification"}),h.jsx(xo,{children:L&&h.jsxs(Ie.div,{className:"absolute right-0 top-full mt-2 w-56 bg-white border border-gray-200 rounded-md shadow-lg z-50 text-sm",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},role:"menu","aria-orientation":"vertical","aria-labelledby":"filter-menu-button",onClick:de=>de.stopPropagation(),children:[h.jsxs("button",{className:`flex items-center gap-2 w-full px-4 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 transition-colors ${X==="all"?"font-semibold":"font-normal"}`,onClick:()=>oe("all"),role:"menuitem",type:"button",children:[h.jsx(mb,{className:"w-5 h-5 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:"All Users"})]}),h.jsxs("div",{className:"border-t border-gray-200 mt-1 pt-1",children:[h.jsx("div",{className:"px-4 py-1 font-semibold text-gray-700",children:"Flagged Users"}),h.jsxs("button",{className:`flex items-center w-full px-4 py-2 hover:bg-gray-100 ${X==="flagged-any"?"bg-gray-100 font-semibold":""}`,onClick:()=>oe("flagged-any"),role:"menuitem",type:"button",children:[h.jsx("input",{type:"radio",readOnly:!0,checked:X==="flagged-any",className:"mr-2 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:"Both"})]}),h.jsxs("button",{className:`flex items-center w-full px-4 py-2 hover:bg-gray-100 ${X==="flagged-overdue"?"bg-gray-100 font-semibold":""}`,onClick:()=>oe("flagged-overdue"),role:"menuitem",type:"button",children:[h.jsx("input",{type:"radio",readOnly:!0,checked:X==="flagged-overdue",className:"mr-2 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:"Tasks Overdue"})]}),h.jsxs("button",{className:`flex items-center w-full px-4 py-2 hover:bg-gray-100 ${X==="flagged-underlogged"?"bg-gray-100 font-semibold":""}`,onClick:()=>oe("flagged-underlogged"),role:"menuitem",type:"button",children:[h.jsx("input",{type:"radio",readOnly:!0,checked:X==="flagged-underlogged",className:"mr-2 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:"Under Logged"})]})]}),h.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1",children:h.jsxs("button",{className:`flex items-center w-full px-4 py-2 hover:bg-gray-100 ${X==="non-flagged"?"bg-gray-100 font-semibold":""}`,onClick:()=>oe("non-flagged"),role:"menuitem",type:"button",children:[h.jsx("input",{type:"radio",readOnly:!0,checked:X==="non-flagged",className:"mr-2 flex-shrink-0"}),h.jsx("span",{className:"truncate",children:"Non Flagged Users"})]})})]})})]})]}),xt.length===0?h.jsxs(Ie.div,{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[h.jsx("p",{className:"text-yellow-800 font-medium",children:"No tasks found for the selected period"}),h.jsxs("p",{className:"text-yellow-600 text-sm mt-1",children:["Try selecting a different time period or check if tasks exist for ",Cr()]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ie.div,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4",initial:{opacity:0},animate:{opacity:1},transition:{staggerChildren:.1},children:[{label:"Total Estimated Hours",value:Bt.totalEstimatedHours.toFixed(1),bg:"bg-blue-50",color:"text-blue-700",icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(Nr,{className:"h-5 w-5 sm:h-6 sm:w-6"})})},{label:"Total Completed Hours",value:Bt.totalActualHours.toFixed(1),bg:"bg-emerald-50",color:"text-green-700",icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(Ka,{className:"h-5 w-5 sm:h-6 sm:w-6"})})},{label:"Total Variance Hours",value:`${Bt.hoursVariance<0?"":"+"}${Bt.hoursVariance.toFixed(1)}`,bg:"bg-indigo-50",color:Bt.hoursVariance<0?"text-green-600":"text-red-600",subtext:`${Bt.hoursVariancePercentage}% variance`,icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(R4,{className:"h-5 w-5 sm:h-6 sm:w-6"})})},{label:"Task Completed %",value:`${Bt.onTimePercentage.toFixed(0)}%`,bg:"bg-purple-50",color:"text-purple-700",subtext:`${Bt.completedTasks} of ${Bt.totalTasks} tasks`,icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(FW,{className:"h-5 w-5 sm:h-6 sm:w-6"})})},{label:"Avg Task Time",value:`${Bt.avgTaskTimeDays.toFixed(1)} Hrs`,bg:"bg-zinc-50",color:"text-gray-900",icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(gW,{className:"h-5 w-5 sm:h-6 sm:w-6"})})},{label:"On-Time Delivery",value:`${Bt.onTimeDelivery.toFixed(0)}%`,bg:"bg-emerald-50",color:"text-green-700",subtext:`${Bt.onTimeTasks} of ${Bt.totalTasks} tasks`,icon:h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(JW,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}].map((de,re)=>h.jsxs(Ie.div,{className:`p-2 sm:p-3 rounded-lg shadow-sm border border-gray-200 text-center ${de.bg} hover:shadow-md transition-shadow`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:re*.1},whileHover:{scale:1.05},whileTap:{scale:.95},children:[h.jsx("div",{className:`mb-1 ${de.color}`,children:de.icon}),h.jsx("p",{className:"text-xs font-medium text-gray-600 leading-tight",children:de.label}),h.jsx("p",{className:`text-sm sm:text-lg font-bold ${de.color||"text-gray-900"}`,children:de.value}),de.subtext&&h.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:de.subtext})]},de.label))}),h.jsx(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mt-6",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},children:g?h.jsx(ll,{}):v||we?h.jsx(Qs,{message:v||we}):_t.length===0?h.jsx(Ie.div,{className:"text-center py-8 text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:h.jsx("p",{children:"No performance data available for the selected period & filter"})}):h.jsx("div",{className:"w-full overflow-hidden",children:h.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-hidden",children:h.jsxs("table",{className:"w-full table-fixed border-collapse",children:[h.jsx("thead",{className:"sticky top-0 bg-gray-50 z-10",children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"w-[20%] py-3 px-2 sm:px-4 text-left font-semibold text-gray-700 text-xs sm:text-sm",children:"Name"}),h.jsx("th",{className:"w-[12%] py-3 px-1 sm:px-2 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Completed Task"}),h.jsx("th",{className:"w-[12%] py-3 px-1 sm:px-2 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Avg Task Time"}),h.jsx("th",{className:"w-[14%] py-3 px-1 sm:px-2 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Estimated Hours"}),h.jsx("th",{className:"w-[12%] py-3 px-1 sm:px-2 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Actual Hours"}),h.jsx("th",{className:"w-[10%] py-3 px-1 sm:px-2 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Variance"}),h.jsx("th",{className:"w-[20%] py-3 px-2 sm:px-4 text-center font-semibold text-gray-700 text-xs sm:text-sm",children:"Overdue Tasks"})]})}),h.jsx("tbody",{children:_t.map((de,re)=>{const He=de.overdue>0||de.variance>0;return h.jsxs(Ie.tr,{onClick:()=>mn(de),className:`cursor-pointer ${(C==null?void 0:C.userId)===de.userId?"bg-violet-50 border-l-4 border-violet-500":re%2===0?"bg-white":"bg-gray-25"} hover:bg-violet-100 transition-colors relative`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:re*.05},children:[h.jsx("td",{className:"w-[20%] py-3 px-2 sm:px-4 font-medium text-gray-900 text-xs sm:text-sm",children:h.jsx("div",{className:"truncate",title:de.name,children:de.name})}),h.jsxs("td",{className:"w-[12%] py-3 px-1 sm:px-2 text-center text-gray-700 text-xs sm:text-sm",children:[de.onTimePercentage,"%"]}),h.jsx("td",{className:"w-[12%] py-3 px-1 sm:px-2 text-center text-gray-700 text-xs sm:text-sm",children:de.avgTaskTime}),h.jsx("td",{className:"w-[14%] py-3 px-1 sm:px-2 text-center text-gray-700 text-xs sm:text-sm",children:de.estimatedHours}),h.jsx("td",{className:"w-[12%] py-3 px-1 sm:px-2 text-center text-gray-700 text-xs sm:text-sm",children:de.actualHours}),h.jsxs("td",{className:`w-[10%] py-3 px-1 sm:px-2 text-center font-medium text-xs sm:text-sm ${de.variance<0?"text-green-600":"text-red-600"}`,children:[de.variance<0?"":"+",de.variance]}),h.jsxs("td",{className:"w-[20%] py-3 px-2 sm:px-4 text-center relative",children:[h.jsx("span",{className:"flex items-center justify-center relative group cursor-default",children:He?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-xs sm:text-sm",children:de.overdue>0?de.overdue:0}),h.jsx("button",{onClick:We=>Sn(de.userId,We),className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500 ml-1 focus:outline-none flex-shrink-0","aria-label":"Open actions",disabled:!Se,children:h.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3v18m0-6h10l2-3-2-3H3z"})})}),h.jsxs(Ie.div,{className:"absolute bottom-full mb-2 px-3 py-1 rounded bg-red-600 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30 max-w-xs text-left",transition:{duration:.2},children:[de.overdue>0&&de.variance>0&&h.jsxs(h.Fragment,{children:["User has overdue tasks and exceeded estimated hours by ",de.variance," hours."]}),de.overdue>0&&de.variance<=0&&h.jsx(h.Fragment,{children:"User has overdue tasks."}),de.overdue===0&&de.variance>0&&h.jsxs(h.Fragment,{children:["User exceeded the estimated hours by ",de.variance," hours."]})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-xs sm:text-sm",children:de.overdue>0?de.overdue:0}),h.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500 ml-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),h.jsx(Ie.div,{className:"absolute bottom-full mb-2 px-3 py-1 rounded bg-green-600 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-30 max-w-xs",transition:{duration:.2},children:"All tasks on time"})]})}),h.jsx(xo,{children:N===de.userId&&h.jsx(Ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-1 w-48 bg-white border border-gray-300 rounded shadow-lg z-50",onClick:We=>We.stopPropagation(),children:h.jsx(Ie.button,{onClick:We=>Ke(de,We),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",type:"button",whileHover:{backgroundColor:"#f3f4f6"},children:"Send Custom Feedback"})})})]})]},de.userId)})})]})})})}),h.jsx(xo,{children:P&&R&&h.jsx(Ie.div,{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:h.jsxs(Ie.div,{className:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send Custom Feedback"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-1",children:"To"}),h.jsx("input",{type:"text",readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-2 bg-gray-100 cursor-not-allowed text-sm",value:R.name})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Message"}),h.jsx("textarea",{ref:$,rows:"5",className:"w-full border border-gray-300 rounded px-3 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-violet-500 text-sm",value:O,onChange:de=>B(de.target.value),placeholder:"Enter your feedback..."})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[h.jsx(Ie.button,{type:"button",className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 text-sm",onClick:()=>D(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),h.jsx(Ie.button,{type:"button",className:"px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",onClick:Ze,disabled:!Se,whileHover:{scale:Se?1.05:1},whileTap:{scale:Se?.95:1},children:"Send"})]})]})})}),h.jsx(xo,{children:ie&&h.jsx(Ie.div,{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:()=>W(!1),children:h.jsxs(Ie.div,{className:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:de=>de.stopPropagation(),children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send Notification to Filtered Users"}),h.jsxs("p",{className:"mb-4 text-gray-700 text-sm",children:["This will send the notification to all users filtered by: ",h.jsx("strong",{children:Te[X]}),". Total users: ",h.jsx("strong",{children:Ye().length})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Message"}),h.jsx("textarea",{rows:"5",className:"w-full border border-gray-300 rounded px-3 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-violet-500 text-sm",value:Q,onChange:de=>ee(de.target.value),placeholder:"Enter your notification message...",disabled:I})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[h.jsx(Ie.button,{type:"button",className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 text-sm",onClick:()=>W(!1),disabled:I,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancel"}),h.jsx(Ie.button,{type:"button",className:`px-4 py-2 rounded text-white text-sm ${I?"bg-gray-400 cursor-not-allowed":"bg-violet-600 hover:bg-violet-700"} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:at,disabled:I||!Se,whileHover:{scale:I||!Se?1:1.05},whileTap:{scale:I||!Se?1:.95},children:I?"Sending...":"Send"})]})]})})})]})]})},yA=()=>h.jsxs(Ie.div,{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:[h.jsx(bd,{className:"mx-auto h-12 w-12 mb-4 text-gray-300"}),h.jsx("p",{className:"text-lg font-medium",children:"No data available"}),h.jsx("p",{className:"text-sm",children:"Try selecting a different time period or team."})]}),Lw=({weeklyData:t,searchQuery:e,loading:n,error:r})=>{const[i,o]=S.useState(null),[a,l]=S.useState(null),[u,d]=S.useState(null);S.useEffect(()=>{(async()=>{try{console.log("Starting to fetch encryption keys...");const w=await No();if(console.log("Keys fetched:",w),w!=null&&w.aesKey&&(w!=null&&w.aesIV))o(w.aesKey),l(w.aesIV);else throw new Error("Invalid keys structure")}catch(w){console.error("Failed to fetch encryption keys:",w),d(w.message)}})()},[]),S.useEffect(()=>{console.log("WeeklyView - weeklyData:",t),console.log("WeeklyView - searchQuery:",e)},[t,e]);const f=(v,w)=>{if(!v)return console.log(`No name for row ${w}`),"Unnamed";if(!i||!a||u)return console.log(`Using encrypted name for row ${w} due to missing keys or error:`,u),v;try{const b=(_r(v,i,a)||"Unnamed").replace(" (Quadrant Technologies)","");return console.log(`Decrypted name for row ${w}:`,b),b}catch(b){return console.error(`Decryption failed for row ${w}:`,b),v}},p=S.useMemo(()=>!t||!Array.isArray(t)?(console.log("WeeklyView - weeklyData is invalid or empty:",t),[]):t.map((v,w)=>({...v,decryptedName:f(v.name||"",w)})),[t,i,a,u]),g=S.useMemo(()=>{if(!p)return[];const v=p.filter((w,b)=>{const E=!e||w.decryptedName.toLowerCase().includes(e.toLowerCase());return console.log(`WeeklyView - Row ${b}:`,{name:w.decryptedName,matches:E,searchQuery:e}),E});return console.log("WeeklyView - filteredWeeklyData:",v),v},[p,e]),y=(v,w)=>(w==="sat"||w==="sun")&&v===0?"W":v||0;return h.jsx(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},children:n?h.jsx(ll,{}):r?h.jsx(Qs,{message:r}):u?h.jsx(Qs,{message:`Failed to load user names: ${u}. Search may be limited.`}):g.length===0?h.jsx(yA,{message:e?`No users found matching "${e}"`:"No data available for the selected period"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gradient-to-r from-violet-50 to-violet-100 border-b border-violet-200",children:[h.jsx("th",{className:"sticky left-0 bg-gradient-to-r from-violet-50 to-violet-100 py-4 px-6 text-left font-semibold text-violet-800 z-10",children:"Name"}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Total"].map(v=>h.jsx("th",{className:"text-center py-4 px-4 font-semibold text-violet-800",children:v},v))]})}),h.jsx("tbody",{children:g.map((v,w)=>h.jsxs(Ie.tr,{className:`${w%2===0?"bg-white":"bg-violet-25"} hover:bg-violet-50 transition-colors`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:w*.05},children:[h.jsx("td",{className:"sticky left-0 bg-inherit py-4 px-6 font-medium text-gray-900 z-0",children:v.decryptedName}),["mon","tue","wed","thu","fri","sat","sun"].map(b=>{const E=y(v[b],b),k=(b==="sat"||b==="sun")&&v[b]===0;return h.jsx("td",{className:"text-center py-4 px-4",children:h.jsx(Ie.span,{className:`inline-flex items-center justify-center w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${k?"bg-orange-100 text-orange-600 hover:bg-orange-200":v[b]>0?"bg-violet-600 text-white shadow-sm hover:bg-violet-700":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:E})},b)}),h.jsx("td",{className:"text-center py-4 px-4 font-bold text-violet-700 bg-violet-50",children:v.total||0})]},v.userId||v.name+w))})]})})})},Lpe=({monthlyData:t,searchQuery:e,loading:n,error:r,selectedYear:i,selectedMonth:o,monthlyViewPage:a,setMonthlyViewPage:l})=>{const[u,d]=S.useState(null),[f,p]=S.useState(null),[g,y]=S.useState(null);S.useEffect(()=>{(async()=>{try{console.log("MonthlyView - Starting to fetch encryption keys...");const O=await No();if(console.log("MonthlyView - Keys fetched:",O),O!=null&&O.aesKey&&(O!=null&&O.aesIV))d(O.aesKey),p(O.aesIV);else throw new Error("Invalid keys structure")}catch(O){console.error("MonthlyView - Failed to fetch encryption keys:",O),y(O.message)}})()},[]);const v=(F,O)=>{if(!F)return console.log(`MonthlyView - No name for row ${O}`),"Unnamed";if(!u||!f||g)return console.log(`MonthlyView - Using encrypted name for row ${O} due to missing keys or error:`,g),F;try{const B=(_r(F,u,f)||"Unnamed").replace(" (Quadrant Technologies)","");return console.log(`MonthlyView - Decrypted name for row ${O}:`,B),B}catch(B){return console.error(`MonthlyView - Decryption failed for row ${O}:`,B),F}},w=S.useMemo(()=>!t||!Array.isArray(t)?(console.log("MonthlyView - monthlyData is invalid or empty:",t),[]):t.map((F,O)=>({...F,decryptedName:v(F.name||"",O)})),[t,u,f,g]),b=S.useMemo(()=>{if(!w)return[];const F=w.filter((O,B)=>{const $=!e||O.decryptedName.toLowerCase().includes(e.toLowerCase());return console.log(`MonthlyView - Row ${B}:`,{name:O.decryptedName,matches:$,searchQuery:e}),$});return console.log("MonthlyView - filteredMonthlyData:",F),F},[w,e]),E=CZ(i,o),C=16,k=Math.ceil(E/C),N=a*C+1,_=Math.min((a+1)*C,E),P=Array.from({length:_-N+1},(F,O)=>N+O),D=(F,O,B)=>{const L=new Date(F,O,B).getDay();return L===0||L===6},R=(F,O,B,$)=>F===0&&D(O,B,$)?"W":F;return h.jsxs(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},children:[h.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-violet-600 to-violet-700 flex items-center justify-between",children:[h.jsxs("h3",{className:"text-white font-semibold text-lg",children:["Days ",N,"-",_," of ",E]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ie.button,{onClick:()=>l(Math.max(0,a-1)),disabled:a===0,className:"p-2 rounded-lg text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(Gd,{size:18})}),h.jsxs("span",{className:"text-white text-sm font-medium px-3 py-1 bg-white/20 rounded-lg",children:[a+1," of ",k]}),h.jsx(Ie.button,{onClick:()=>l(Math.min(k-1,a+1)),disabled:a===k-1,className:"p-2 rounded-lg text-white hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:h.jsx(al,{size:18})})]})]}),n?h.jsx(ll,{}):r?h.jsx(Qs,{message:r}):g?h.jsx(Qs,{message:`Failed to load user names: ${g}. Search may be limited.`}):b.length===0?h.jsx(yA,{message:e?`No users found matching "${e}"`:"No data available for the selected period"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gradient-to-r from-violet-50 to-violet-100 border-b border-violet-200",children:[h.jsx("th",{className:"sticky left-0 bg-gradient-to-r from-violet-50 to-violet-100 py-4 px-6 text-left font-semibold text-violet-800 z-20 min-w-[150px] shadow-[4px_0_6px_-1px_rgba(0,0,0,0.1)]",children:"Name"}),P.map(F=>{const O=D(i,o,F);return h.jsx("th",{className:`text-center py-3 px-2 font-semibold text-sm min-w-[40px] ${O?"text-orange-600 bg-orange-50":"text-violet-800"}`,children:F},F)}),h.jsx("th",{className:"text-center py-3 px-4 font-semibold text-violet-800 bg-violet-100 min-w-[60px]",children:"Total"})]})}),h.jsx("tbody",{children:b.map((F,O)=>{const B=F.days?F.days.reduce(($,L)=>$+(Number(L)||0),0):0;return h.jsxs(Ie.tr,{className:`${O%2===0?"bg-white":"bg-violet-25"} hover:bg-violet-50 transition-colors`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:O*.05},children:[h.jsx("td",{className:"sticky left-0 bg-inherit py-4 px-6 font-medium text-gray-900 z-20 shadow-[4px_0_6px_-1px_rgba(0,0,0,0.1)]",children:F.decryptedName}),P.map($=>{const L=F.days&&F.days.length>=$?F.days[$-1]:0,H=D(i,o,$),X=R(L,i,o,$),se=H&&L===0;return h.jsx("td",{className:"text-center py-3 px-2",children:h.jsx(Ie.span,{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg text-xs font-semibold transition-colors ${se?"bg-orange-100 text-orange-600 hover:bg-orange-200":L>0?"bg-violet-500 text-white shadow-sm hover:bg-violet-600":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:X})},$)}),h.jsx("td",{className:"text-center py-3 px-4 font-bold text-violet-700 bg-violet-50",children:B})]},F.uid||F.name+O)})})]})})]})},$pe=({yearlyData:t,searchQuery:e,loading:n,error:r,months:i})=>{const[o,a]=S.useState(null),[l,u]=S.useState(null),[d,f]=S.useState(null);S.useEffect(()=>{(async()=>{try{console.log("YearlyView - Starting to fetch encryption keys...");const E=await No();if(console.log("YearlyView - Keys fetched:",E),E!=null&&E.aesKey&&(E!=null&&E.aesIV))a(E.aesKey),u(E.aesIV);else throw new Error("Invalid keys structure")}catch(E){console.error("YearlyView - Failed to fetch encryption keys:",E),f(E.message)}})()},[]);const p=(b,E)=>{if(!b)return console.log(`YearlyView - No name for row ${E}`),"Unnamed";if(!o||!l||d)return console.log(`YearlyView - Using encrypted name for row ${E} due to missing keys or error:`,d),b;try{const C=(_r(b,o,l)||"Unnamed").replace(" (Quadrant Technologies)","");return console.log(`YearlyView - Decrypted name for row ${E}:`,C),C}catch(C){return console.error(`YearlyView - Decryption failed for row ${E}:`,C),b}},g=S.useMemo(()=>!t||!Array.isArray(t)?(console.log("YearlyView - yearlyData is invalid or empty:",t),[]):t.map((b,E)=>({...b,decryptedName:p(b.name||"",E)})),[t,o,l,d]),y=S.useMemo(()=>{if(!g)return[];const b=g.filter((E,C)=>{const k=!e||E.decryptedName.toLowerCase().includes(e.toLowerCase());return console.log(`YearlyView - Row ${C}:`,{name:E.decryptedName,matches:k,searchQuery:e}),k});return console.log("YearlyView - filteredYearlyData:",b),b},[g,e]),v=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],w=S.useMemo(()=>t.length?i.reduce((b,E,C)=>{const k=i[C].toLowerCase().trim().slice(0,3),N=t.reduce((_,P)=>_+(Number(P[k])||0),0);return{...b,[k]:N}},{}):{},[t,i]);return h.jsx(Ie.div,{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.5},children:n?h.jsx(ll,{}):r?h.jsx(Qs,{message:r}):d?h.jsx(Qs,{message:`Failed to load user names: ${d}. Search may be limited.`}):y.length===0?h.jsx(yA,{message:e?`No users found matching "${e}"`:"No data available for the selected period"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gradient-to-r from-violet-600 to-violet-700 text-white",children:[h.jsx("th",{className:"sticky left-0 bg-gradient-to-r from-violet-600 to-violet-700 py-4 px-6 text-left font-semibold z-20 min-w-[150px] shadow-[4px_0_6px_-1px_rgba(0,0,0,0.1)]",children:"Name"}),i.map(b=>h.jsx("th",{className:"text-center py-4 px-3 font-semibold min-w-[70px] text-sm",children:b.slice(0,3)},b)),h.jsx("th",{className:"text-center py-4 px-4 font-semibold bg-violet-800 min-w-[80px]",children:"Total"})]})}),h.jsxs("tbody",{children:[h.jsxs(Ie.tr,{className:"bg-gradient-to-r from-violet-50 to-violet-100 border-b-2 border-violet-200 font-semibold",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[h.jsx("td",{className:"sticky left-0 bg-gradient-to-r from-violet-50 to-violet-100 py-4 px-6 font-bold text-violet-700 z-20 shadow-[4px_0_6px_-1px_rgba(0,0,0,0.1)]",children:"Total Working Hours"}),v.map(b=>h.jsx("td",{className:"text-center py-4 px-3 font-bold text-violet-600",children:w[b]||0},b)),h.jsx("td",{className:"text-center py-4 px-4 font-bold text-violet-700 bg-violet-100",children:Object.values(w).reduce((b,E)=>b+E,0)})]}),y.map((b,E)=>{const C=v.reduce((k,N)=>k+(Number(b[N])||0),0);return h.jsxs(Ie.tr,{className:`${E%2===0?"bg-white":"bg-violet-25"} hover:bg-violet-50 transition-colors`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:E*.05},children:[h.jsx("td",{className:"sticky left-0 bg-inherit py-4 px-6 font-medium text-gray-900 z-20 shadow-[4px_0_6px_-1px_rgba(0,0,0,0.1)]",children:b.decryptedName}),v.map(k=>h.jsx("td",{className:"text-center py-4 px-3 text-gray-700 font-medium",children:b[k]||0},k)),h.jsx("td",{className:"text-center py-4 px-4 font-bold text-violet-600 bg-violet-50",children:C})]},b.uid||b.name+E)})]})]})})})};class JO extends ZO.Component{constructor(){super(...arguments);wh(this,"state",{error:null})}static getDerivedStateFromError(n){return{error:n}}render(){return this.state.error?h.jsxs("div",{className:"p-8 text-center text-red-600",children:[h.jsx(sl,{className:"h-12 w-12 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),h.jsx("p",{children:this.state.error.message})]}):this.props.children}}const Upe=(t,e)=>{const n=new Date(t,e+1,0).getDate();return Math.ceil(n/7)},Hpe=()=>{const t=new Date,e=t.getFullYear(),n=t.getMonth(),r=Math.ceil(t.getDate()/7),[i,o]=S.useState(!0),[a,l]=S.useState("timesheets"),[u,d]=S.useState(!0),[f,p]=S.useState(0),[g,y]=S.useState("All Departments"),[v,w]=S.useState("All Sub-Departments"),[b,E]=S.useState("All Managers"),[C,k]=S.useState("Weekly"),[N,_]=S.useState(e),[P,D]=S.useState(n),[R,F]=S.useState(r),[O,B]=S.useState(""),[$,L]=S.useState([]),[H,X]=S.useState([]),[se,ie]=S.useState([]),[W,Q]=S.useState([]),[ee,I]=S.useState([]),[M,z]=S.useState({}),[K,J]=S.useState(!1),[he,we]=S.useState(null),[te,V]=S.useState(["All Departments"]),[ce,ye]=S.useState(["All Sub-Departments"]),[le,Se]=S.useState(["All Managers"]),{acquireToken:Pe,isAuthenticated:Je,isLoading:et}=Bn(),ht=Array.from({length:10},(Ke,Ze)=>e-5+Ze),Et=["January","February","March","April","May","June","July","August","September","October","November","December"],vt=[{id:"timesheets",label:"Timesheets",icon:Nr},{id:"metrics",label:"Performance Metrics",icon:bd},{id:"charts",label:"Analytics Charts",icon:K0}],xt=Array.from({length:Upe(N,P)},(Ke,Ze)=>`Week ${Ze+1}`),Ut="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/Task/alltaskforPerformance",_t="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/User/all";S.useEffect(()=>{p(0)},[N,P]),S.useEffect(()=>{(async()=>{if(!(!Je||et))try{const Ze=await mo(_t,"GET",null,Pe),Nt=["All Departments",...new Set(Ze.map(Ye=>Ye.department).filter(Boolean))],oe=["All Managers",...new Set(Ze.map(Ye=>Ye.manager).filter(Boolean))],Te=["All Sub-Departments",...new Set(Ze.map(Ye=>Ye.subDepartment).filter(Boolean))];V(Nt),Se(oe),ye(Te)}catch(Ze){console.error("Error fetching filter options:",Ze),we(Ze.message)}})()},[Je,et,Pe]),S.useEffect(()=>{(async()=>{if(g==="All Departments"){try{const Ze=await mo(_t,"GET",null,Pe);ye(["All Sub-Departments",...new Set(Ze.map(Nt=>Nt.subDepartment).filter(Boolean))]),w("All Sub-Departments")}catch(Ze){console.error("Error fetching sub-departments:",Ze),we(Ze.message)}return}try{const Ze=await mo(_t,"GET",null,Pe),Nt=["All Sub-Departments",...new Set(Ze.filter(oe=>oe.department===g).map(oe=>oe.subDepartment).filter(Boolean))];ye(Nt),Nt.includes(v)||w("All Sub-Departments")}catch(Ze){console.error("Error fetching sub-departments:",Ze),we(Ze.message)}})()},[g,Pe]);const Cn=S.useCallback(async()=>{if(!(!Je||et)){J(!0),we(null);try{const Ke="https://qtrackly-awd6egbkg8dbaeex.centralindia-01.azurewebsites.net/api/ManagerDashboard",Ze={year:N,month:P+1,...g!=="All Departments"&&{department:g},...v!=="All Sub-Departments"&&{subDepartment:v},...b!=="All Managers"&&{manager:b}};let Nt;if(C==="Weekly"){const oe=new URLSearchParams({...Ze,week:R}).toString();Nt=await mo(`${Ke}/weekly?${oe}`,"GET",null,Pe),L(Nt||[]),X([]),ie([])}else if(C==="Monthly"){const oe=new URLSearchParams(Ze).toString();Nt=await mo(`${Ke}/monthly?${oe}`,"GET",null,Pe),console.log("Monthly data fetched:",Nt),X(Nt||[]),L([]),ie([])}else if(C==="Yearly"){const oe=new URLSearchParams(Ze).toString();Nt=await mo(`${Ke}/yearly?${oe}`,"GET",null,Pe),ie(Nt||[]),L([]),X([])}}catch(Ke){console.error("Error fetching timesheet data:",Ke),we(Ke.message)}finally{J(!1)}}},[Je,et,Pe,N,P,R,g,v,b,C]),Bt=S.useCallback(async()=>{if(!(!Je||et)){J(!0),we(null);try{const Ke=new URLSearchParams({year:N,month:P+1,...C==="Weekly"&&{week:R},...g!=="All Departments"&&{department:g},...v!=="All Sub-Departments"&&{subDepartment:v},...b!=="All Managers"&&{manager:b}}).toString(),Ze=`${_t}?${Ke}`,oe=(await mo(Ze,"GET",null,Pe)).reduce((re,He)=>(re[He.userId]=He.name,re),{}),Te=`${Ut}?${Ke}`,Ye=await mo(Te,"GET",null,Pe);z(oe),I(Ye||[]);const at={};Ye.forEach(re=>{const He=re.createdBy;at[He]||(at[He]={userId:He,name:oe[He]||`User ${He.slice(0,8)}`,estimatedHours:0,actualHours:0,onTime:0,totalTasks:0,overdue:0});const We=at[He];We.estimatedHours+=re.estimatedHours||0,We.actualHours+=re.completedHours||0,We.totalTasks+=1;const nt=new Date(re.dueDate),wt=new Date;re.status!=="Completed"&&nt<wt?We.overdue+=1:We.onTime+=1});const de=Object.values(at).filter(re=>!O||re.name.toLowerCase().includes(O.toLowerCase())).map(re=>{const He=re.totalTasks?re.onTime/re.totalTasks*100:0,We=re.totalTasks?re.actualHours/re.totalTasks:0,nt=re.actualHours-re.estimatedHours;return{userId:re.userId,name:re.name,onTimePercentage:He.toFixed(0),avgTaskTime:We.toFixed(1),estimatedHours:re.estimatedHours,actualHours:re.actualHours,variance:nt,overdue:re.overdue,totalTasks:re.totalTasks}});Q(de)}catch(Ke){we(Ke.message),console.error("Error fetching performance data:",Ke)}finally{J(!1)}}},[Je,et,Pe,N,P,R,g,v,b,O]);S.useEffect(()=>{const Ke=setTimeout(()=>{a==="timesheets"?Cn():Bt()},300);return()=>clearTimeout(Ke)},[a,Bt,Cn,C,N,P,R,g,v,b,Je,et]);const Cr=Ke=>{k(Ke),Ke==="Weekly"?(_(e),D(n),F(r)):Ke==="Monthly"?(_(e),D(n)):Ke==="Yearly"&&_(e)},mn=S.useMemo(()=>({viewType:C,selectedYear:N,selectedMonth:P,selectedWeek:C==="Weekly"?R:null,searchQuery:O,months:Et,selectedDepartment:g,selectedSubDepartment:v,selectedManager:b,showCharts:a==="charts"}),[C,N,P,R,O,Et,g,v,b,a]),Sn=()=>{switch(a){case"timesheets":switch(C){case"Weekly":return h.jsx("div",{className:"space-y-6",children:h.jsx(Lw,{weeklyData:$,searchQuery:O,loading:K,error:he})});case"Monthly":return h.jsx("div",{className:"space-y-6",children:h.jsx(Lpe,{monthlyData:H,searchQuery:O,loading:K,error:he,selectedYear:N,selectedMonth:P,monthlyViewPage:f,setMonthlyViewPage:p})});case"Yearly":return h.jsx("div",{className:"space-y-6",children:h.jsx($pe,{yearlyData:se,searchQuery:O,loading:K,error:he,months:Et})});default:return h.jsx("div",{className:"space-y-6",children:h.jsx(Lw,{weeklyData:$,searchQuery:O,loading:K,error:he})})}case"metrics":return h.jsx("div",{className:"space-y-6",children:h.jsx(JO,{children:h.jsx(XO,{...mn})})});case"charts":return h.jsx("div",{className:"space-y-6",children:h.jsx(JO,{children:h.jsx(XO,{...mn})})});default:return h.jsx("div",{className:"space-y-6",children:h.jsx(Lw,{weeklyData:$,searchQuery:O,loading:K,error:he})})}};return et?h.jsxs(Ie.div,{className:"min-h-screen bg-gray-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[h.jsx(ll,{}),h.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dashboard..."})]}):Je?h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsxs(Ie.div,{initial:!1,animate:{width:i?280:80},transition:{duration:.3,ease:"easeInOut"},className:"bg-white border-r border-gray-200 shadow-sm flex flex-col",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsxs("div",{className:`flex items-center ${i?"justify-between":"justify-center"}`,children:[h.jsxs(Ie.div,{initial:!1,animate:{opacity:i?1:0,width:i?"auto":0},transition:{duration:.2},className:"flex items-center gap-3 min-w-0 overflow-hidden",children:[h.jsx("div",{className:"w-8 h-8 bg-violet-600 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(bd,{className:"h-5 w-5 text-white"})}),i&&h.jsxs("div",{className:"truncate",children:[h.jsx("h1",{className:"text-sm font-semibold text-gray-900",children:"Manager Dashboard"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Performance Analytics"})]})]}),h.jsx("button",{onClick:()=>{console.log("Toggle button clicked"),o(!i)},className:"p-3 rounded-lg hover:bg-gray-100 transition-colors z-10","aria-label":i?"Close sidebar":"Open sidebar",children:i?h.jsx(Yn,{size:20}):h.jsx(O4,{size:20})})]})}),h.jsx("div",{className:"flex-1 p-4",children:h.jsx("nav",{className:"space-y-2",children:vt.map(Ke=>{const Ze=Ke.icon;return h.jsxs(Ie.button,{onClick:()=>l(Ke.id),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors text-left ${a===Ke.id?"bg-violet-600 text-white shadow-sm":"text-gray-600 hover:bg-gray-100"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(Ze,{size:20}),i&&h.jsx("span",{className:"font-medium",children:Ke.label})]},Ke.id)})})}),h.jsx("div",{className:"p-4 border-t border-gray-200",children:h.jsxs(Ie.button,{className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors text-left text-gray-600 hover:bg-gray-100",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(WW,{size:20}),i&&h.jsx("span",{className:"font-medium",children:"Settings"})]})})]}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Ie.div,{className:"bg-white border-b border-gray-200 shadow-sm",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:h.jsxs("div",{className:"px-6 py-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:a.replace("_"," ")}),h.jsxs(Ie.button,{onClick:()=>d(!u),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[h.jsx(gb,{size:16}),"Filters",h.jsx(al,{size:16,className:`transform transition-transform ${u?"rotate-90":""}`})]})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",children:h.jsx(Hu,{size:20,className:"text-gray-600"})})})]}),h.jsx(xo,{children:u&&h.jsx(Ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-visible",children:h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),h.jsx(ys,{value:g,options:te,onChange:y,icon:Ms,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Department"}),h.jsx(ys,{value:v,options:ce,onChange:w,icon:Ms,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager"}),h.jsx(ys,{value:b,options:le,onChange:E,icon:Ms,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View Type"}),h.jsx(ys,{value:C,options:["Weekly","Monthly","Yearly"],onChange:Cr,icon:Nr,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),h.jsx(ys,{value:N,options:ht,onChange:_,icon:Wo,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),h.jsxs("div",{className:"relative",children:[h.jsx(VC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),h.jsx("input",{type:"text",placeholder:"Search users...",value:O,onChange:Ke=>B(Ke.target.value),className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500 text-sm"})]})]})]}),(C==="Weekly"||C==="Monthly")&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),h.jsx(ys,{value:Et[P],options:Et,onChange:Ke=>D(Et.indexOf(Ke)),icon:Wo,menuClassName:"max-h-60 overflow-y-auto z-50"})]}),C==="Weekly"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Week"}),h.jsx(ys,{value:`Week ${R}`,options:xt,onChange:Ke=>F(parseInt(Ke.split(" ")[1])),icon:Wo,menuClassName:"max-h-60 overflow-y-auto z-50"})]})]})]})})})]})}),h.jsx("div",{className:"flex-1 overflow-auto",children:h.jsx("div",{className:"p-6",children:h.jsx(Ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:Sn()},a)})})]})]}):h.jsx(Ie.div,{className:"min-h-screen bg-gray-50 flex items-center justify-center",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:h.jsxs(Ie.div,{className:"bg-white rounded-lg shadow-lg p-8 text-center max-w-md",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:[h.jsx(sl,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view the manager dashboard."}),h.jsx(Ie.button,{className:"px-6 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/login",children:"Sign In"})]})})},zpe=()=>{const{isAuthenticated:t,isInitialized:e,authState:n,getPrimaryRole:r}=Bn(),i=oa(),[o,a]=S.useState(!1),[l,u]=S.useState(0),[d,f]=S.useState(0),p=S.useMemo(()=>["Streamline Tasks, Boost Productivity","Track Dependencies with Ease","Gain Insights with Performance Metrics","Manage Workloads with Timesheets"],[]),g=S.useMemo(()=>[{title:"Effortless Task Management",description:"Create, assign, and track tasks with seamless dependency management.",image:"https://via.placeholder.com/1920x600/6B46C1/FFFFFF?text=Task+Management",color:"from-violet-600 to-purple-600"},{title:"Real-Time Performance Insights",description:"Monitor team performance with detailed metrics and analytics.",image:"https://via.placeholder.com/1920x600/3182CE/FFFFFF?text=Performance+Insights",color:"from-blue-600 to-cyan-600"},{title:"Optimized Timesheet Tracking",description:"Plan and visualize workloads with intuitive timesheet tools.",image:"https://via.placeholder.com/1920x600/319795/FFFFFF?text=Timesheet+Tracking",color:"from-green-600 to-teal-600"}],[]),y=S.useMemo(()=>Array.from({length:20},()=>({x:Math.random()*100,y:Math.random()*100,scale:Math.random()*.5+.5,delay:Math.random()*2})),[]);S.useEffect(()=>{const E=setInterval(()=>{u(C=>(C+1)%p.length)},4e3);return()=>clearInterval(E)},[p.length]),S.useEffect(()=>{const E=setInterval(()=>{f(C=>(C+1)%g.length)},6e3);return()=>clearInterval(E)},[g.length]),S.useEffect(()=>{if(t&&e&&n==="authenticated"){const E=r(),k={admin:"/admin",manager:"/manager",user:"/admin"}[E]||"/dashboard";i(k,{replace:!0})}},[t,e,n,r,i]);const v=()=>h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M11.4 3H3v8.4h8.4V3z",fill:"#F25022"}),h.jsx("path",{d:"M21 3h-8.4v8.4H21V3z",fill:"#7FBA00"}),h.jsx("path",{d:"M11.4 12.6H3V21h8.4v-8.4z",fill:"#00A4EF"}),h.jsx("path",{d:"M21 12.6h-8.4V21H21v-8.4z",fill:"#FFB900"})]}),w=S.useMemo(()=>[{icon:h.jsx(Ms,{className:"w-10 h-10 text-white"}),title:"Task & Dependency Management",description:"Effortlessly create, assign, and track tasks with dependency management for seamless project workflows, powered by QTrackly.",color:"from-violet-600 to-purple-600"},{icon:h.jsx(mb,{className:"w-10 h-10 text-white"}),title:"Performance Insights",description:"Monitor team performance with real-time metrics on task completion, hours logged, and overdue tasks.",color:"from-blue-600 to-cyan-600"},{icon:h.jsx(Nr,{className:"w-10 h-10 text-white"}),title:"Timesheet Tracking",description:"Visualize weekly, monthly, and yearly timesheets to optimize workloads and resource planning.",color:"from-green-600 to-teal-600"},{icon:h.jsx(IW,{className:"w-10 h-10 text-white"}),title:"Enterprise Security",description:"Secure your data with AES encryption and role-based access control for safe collaboration.",color:"from-purple-600 to-pink-600"}],[]),b=S.useMemo(()=>[{title:"Create and Manage Tasks",description:"Easily create tasks, assign them to team members, and track progress with a user-friendly interface, ensuring projects stay on schedule.",icon:h.jsx(Ms,{className:"w-10 h-10 text-white"}),color:"from-violet-600 to-purple-600"},{title:"Track Task Dependencies",description:"Manage dependencies between tasks to streamline workflows, ensuring teams stay aligned and delays are minimized.",icon:h.jsx(Qu,{className:"w-10 h-10 text-white"}),color:"from-blue-600 to-cyan-600"},{title:"Analyze Workload and Performance",description:"Use timesheets and real-time analytics to monitor team performance, optimize resource allocation, and gain actionable insights.",icon:h.jsx(mb,{className:"w-10 h-10 text-white"}),color:"from-green-600 to-teal-600"}],[]);return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-gray-50 to-purple-50 overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[h.jsx(Ie.div,{className:"absolute -top-40 -right-40 w-96 h-96 bg-gradient-to-br from-purple-400/20 to-pink-400/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:5,repeat:1/0,repeatType:"reverse"}}),h.jsx(Ie.div,{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full blur-3xl",animate:{scale:[1,1.15,1],opacity:[.2,.25,.2]},transition:{duration:6,repeat:1/0,repeatType:"reverse",delay:1}})]}),h.jsxs(Ie.nav,{className:"relative z-20 bg-white/90 backdrop-blur-lg shadow-lg border-b border-violet-100 py-4 px-4 sm:px-6 lg:px-8",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:[h.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3 group",children:[h.jsx(Ie.img,{src:UC,alt:"QTrackly Logo",className:"w-12 h-12 rounded-full object-cover shadow-md",whileHover:{scale:1.1,rotate:10},transition:{duration:.3}}),h.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"QTrackly"})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[h.jsx("a",{href:"#features",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"Features"}),h.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"How It Works"}),h.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"Testimonials"}),h.jsxs("button",{onClick:()=>i("/login"),className:"px-4 py-2 bg-violet-600 text-white rounded-full hover:bg-violet-700 transition-all flex items-center gap-2",children:[h.jsx(v,{}),"Sign In"]})]}),h.jsx("button",{className:"md:hidden text-gray-600 hover:text-violet-600",onClick:()=>a(E=>!E),"aria-label":o?"Close menu":"Open menu",children:h.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:o?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),h.jsx(xo,{children:o&&h.jsxs(Ie.div,{className:"md:hidden bg-white/90 backdrop-blur-lg px-4 py-4",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[h.jsx("a",{href:"#features",className:"block py-2 text-gray-600 hover:text-violet-600 transition-colors",children:"Features"}),h.jsx("a",{href:"#how-it-works",className:"block py-2 text-gray-600 hover:text-violet-600 transition-colors",children:"How It Works"}),h.jsx("a",{href:"#testimonials",className:"block py-2 text-gray-600 hover:text-violet-600 transition-colors",children:"Testimonials"}),h.jsx("button",{onClick:()=>i("/login"),className:"block py-2 px-4 bg-violet-600 text-white rounded-full hover:bg-violet-700 transition-all w-full text-left",children:"Sign In"})]})})]}),h.jsxs(Ie.section,{className:"relative z-10 py-20 sm:py-32 px-4 sm:px-6 lg:px-8 flex items-center justify-center overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[h.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[h.jsx(xo,{initial:!1,children:h.jsx(Ie.div,{className:"absolute inset-0 w-full h-full",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.8,ease:"easeInOut"},children:h.jsxs("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${g[d].image})`},children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${g[d].color} opacity-70`}),h.jsx("div",{className:"absolute inset-0 pointer-events-none",children:y.map((E,C)=>h.jsx(Ie.div,{className:"absolute",style:{left:`${E.x}%`,top:`${E.y}%`,width:"8px",height:"8px",backgroundColor:"white",borderRadius:"50%",boxShadow:"0 0 8px rgba(255, 255, 255, 0.8)"},animate:{scale:[E.scale,E.scale*1.5,E.scale],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse",delay:E.delay,ease:"easeInOut"}},C))})]})},d)}),h.jsx("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center gap-2",children:g.map((E,C)=>h.jsx("button",{onClick:()=>f(C),className:`w-3 h-3 rounded-full transition-all duration-300 ${d===C?"bg-white scale-125":"bg-white/50 hover:bg-white/80"}`,"aria-label":`Go to banner ${C+1}`},C))})]}),h.jsxs("div",{className:"relative text-center max-w-4xl mx-auto",children:[h.jsx(Ie.h1,{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:g[d].title}),h.jsx(xo,{mode:"wait",children:h.jsx(Ie.p,{className:"text-xl sm:text-2xl text-white mb-10 max-w-lg mx-auto",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5},children:g[d].description},l)}),h.jsxs(Ie.div,{className:"flex justify-center gap-4 flex-wrap",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},children:[h.jsxs("button",{onClick:()=>i("/login"),className:"px-6 py-3 bg-white text-violet-600 rounded-full flex items-center gap-2 hover:bg-gray-100 transition-all shadow-md hover:shadow-lg","aria-label":"Sign in with Microsoft",children:[h.jsx(v,{}),"Get Started with Microsoft",h.jsx(Qu,{className:"w-5 h-5"})]}),h.jsx("a",{href:"#features",className:"px-6 py-3 border border-white text-white rounded-full hover:bg-white/10 transition-all shadow-md hover:shadow-lg",children:"Explore Features"})]})]})]}),h.jsxs("section",{id:"features",className:"relative z-10 py-20 px-4 sm:px-6 lg:px-8 bg-white/50",children:[h.jsxs(Ie.h2,{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 mb-12",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:["Discover the Power of"," ",h.jsx("span",{className:"bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"QTrackly"})]}),h.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:w.map((E,C)=>h.jsxs(Ie.div,{className:"relative bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all border border-violet-100",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"},viewport:{once:!0},children:[h.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br ${E.color} flex items-center justify-center shadow-md`,children:E.icon}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 text-center",children:E.title}),h.jsx("p",{className:"text-gray-600 text-center",children:E.description})]},C))})]}),h.jsxs("section",{id:"how-it-works",className:"relative z-10 bg-gradient-to-r from-violet-900 to-purple-900 py-16 px-4 sm:px-6 lg:px-8",children:[h.jsxs(Ie.h2,{className:"text-3xl md:text-4xl font-bold text-center text-white mb-12",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:["How"," ",h.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"QTrackly"})," ","Works"]}),h.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-8",children:b.map((E,C)=>h.jsxs(Ie.div,{className:"relative bg-white/10 backdrop-blur-md rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all border border-violet-200/20",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},viewport:{once:!0},children:[h.jsx("div",{className:`w-12 h-12 mx-auto mb-4 rounded-full bg-gradient-to-br ${E.color} flex items-center justify-center shadow-md`,children:E.icon}),h.jsx("h3",{className:"text-lg font-semibold text-white mb-2 text-center",children:E.title}),h.jsx("p",{className:"text-violet-100 text-sm text-center",children:E.description})]},C))})]}),h.jsxs("section",{id:"testimonials",className:"relative z-10 py-20 px-4 sm:px-6 lg:px-8 bg-violet-50",children:[h.jsxs(Ie.h2,{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 mb-12",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:["What Our Users Say About"," ",h.jsx("span",{className:"bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"QTrackly"})]}),h.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{quote:"QTracklys dependency tracking has streamlined our project workflows like never before.",author:"",role:"Project Manager"},{quote:"The performance insights help me keep my team on track and address bottlenecks early.",author:"",role:"Team Lead"},{quote:"Timesheet tracking makes workload planning effortless and transparent.",author:"",role:"Product Owner"}].map((E,C)=>h.jsxs(Ie.div,{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},whileHover:{scale:1.05},viewport:{once:!0},children:[h.jsxs("p",{className:"text-gray-600 italic mb-4",children:['"',E.quote,'"']}),h.jsx("p",{className:"text-gray-900 font-semibold",children:E.author}),h.jsx("p",{className:"text-gray-500 text-sm",children:E.role})]},C))})]}),h.jsxs(Ie.section,{className:"relative z-10 bg-gradient-to-r from-violet-600 to-purple-600 py-20 px-4 sm:px-6 lg:px-8 text-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},viewport:{once:!0},children:[h.jsx(Ie.h2,{className:"text-3xl md:text-4xl font-bold text-white mb-6",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:.2},viewport:{once:!0},children:"Ready to Transform Your Workflow with QTrackly?"}),h.jsx(Ie.p,{className:"text-lg text-violet-100 mb-8 max-w-2xl mx-auto",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:.4},viewport:{once:!0},children:"Join thousands of teams optimizing tasks, dependencies, and performance with QTracklys intuitive platform."}),h.jsx(Ie.div,{initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5,delay:.6},viewport:{once:!0},children:h.jsxs("button",{onClick:()=>i("/login"),className:"px-8 py-4 bg-white text-violet-600 rounded-full flex items-center gap-2 mx-auto hover:bg-gray-100 transition-all shadow-md hover:shadow-lg",children:[h.jsx(v,{}),"Start Free Trial",h.jsx(Qu,{className:"w-5 h-5"})]})})]}),h.jsx("footer",{className:"relative z-10 bg-white/90 backdrop-blur-md py-8 px-4 sm:px-6 lg:px-8 border-t border-violet-100",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("p",{className:"text-gray-600 mb-4",children:" 2025 QTrackly. Empowering teams with smarter task management."}),h.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[h.jsx("a",{href:"/terms",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"Terms of Service"}),h.jsx("a",{href:"/privacy",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"Privacy Policy"}),h.jsx("a",{href:"/contact",className:"text-gray-600 hover:text-violet-600 transition-colors",children:"Contact Us"})]})]})})]})},Kpe=()=>{const t=oa(),e=_o(),{isAuthenticated:n,acquireToken:r,user:i,getPrimaryRole:o,logout:a}=Bn(),[l,u]=S.useState(""),[d,f]=S.useState(""),[p,g]=S.useState(""),[y,v]=S.useState(!1),[w,b]=S.useState(!1),[E,C]=S.useState(!1),[k,N]=S.useState(!1),[_,P]=S.useState(null),[D,R]=S.useState(!0),[F,O]=S.useState([]),[B,$]=S.useState([]),[L,H]=S.useState([]),[X,se]=S.useState(null),[ie,W]=S.useState(null);S.useEffect(()=>{window.history.replaceState(null,"",e.pathname),window.history.pushState(null,"",e.pathname);const J=we=>{we.preventDefault(),window.confirm("Are you sure you want to leave? You will be logged out for security purposes.")?z():window.history.pushState(null,"",e.pathname)};window.addEventListener("popstate",J);const he=we=>(we.preventDefault(),we.returnValue="Department selection is required. Are you sure you want to leave?",we.returnValue);return window.addEventListener("beforeunload",he),()=>{window.removeEventListener("popstate",J),window.removeEventListener("beforeunload",he)}},[e.pathname]),S.useEffect(()=>{(async()=>{var he;if(!n){P("Please log in to continue."),t("/login");return}R(!0),P(null);try{const we=await r("api"),te=await No();se(te.aesKey),W(te.aesIV),console.log("Fetching departments"),O(["BBU-Warangal","BBU-Hyderabad"])}catch(we){console.error("Error fetching initial options:",we),((he=we.response)==null?void 0:he.status)===401?(P("Session expired. Please log in again."),t("/login")):(P("Failed to load department options. Using default options."),O(["BBU-Warangal","BBU-Hyderabad"]))}finally{R(!1)}})()},[n,r,t]),S.useEffect(()=>{(async()=>{if(!(!l||!n||!X||!ie))try{const he=await r("api");console.log("Fetching sub-departments for department:",l),$(["Development","Sales","Finance"])}catch(he){console.error("Error fetching sub-departments:",he),P("Failed to load sub-department options. Using default options."),$(["Development","Sales","Finance"])}})()},[l,n,r,X,ie]),S.useEffect(()=>{(async()=>{if(!(!d||!n||!X||!ie))try{const he=await r("api");console.log("Fetching managers for sub-department:",d);const te=(await Gn.get("/User/managers",{headers:{Authorization:`Bearer ${he}`},params:{subDepartment:d}})).data.map(V=>{try{const ye=_r(V.name,X,ie).replace(" (Quadrant Technologies)","");return ye&&typeof ye=="string"?ye:null}catch(ce){return console.error(`Error decrypting name for user ${V.userId}:`,ce),null}}).filter(V=>V!=null).sort();H(te),console.log("Decrypted manager names:",te)}catch(he){console.error("Error fetching managers:",he),P("Failed to load manager options."),H([])}})()},[d,n,r,X,ie]);const Q=J=>{u(J),v(!1),f(""),g("")},ee=J=>{f(J),b(!1),g("")},I=J=>{g(J),C(!1)},M=async()=>{var J;if(!l||!d||!p){P("Please select all required fields.");return}N(!0),P(null);try{const he={department:l,subDepartment:d,manager:p};localStorage.setItem("userDepartmentData",JSON.stringify(he)),localStorage.setItem("departmentSelectionCompleted","true");const we=await r("api");await Gn.post(`/User/${i==null?void 0:i.id}/department`,he,{headers:{Authorization:`Bearer ${we}`}}),console.log("Department selection saved:",he);const te=o(),ce={admin:"/admin",manager:"/manager",user:"/tasks"}[te]||"/dashboard";window.removeEventListener("beforeunload",()=>{}),t(ce,{replace:!0})}catch(he){console.error("Error saving department selection:",he),P(((J=he.response)==null?void 0:J.status)===401?"Authentication failed. Please log in again.":"Failed to save department selection. Please try again.")}finally{N(!1)}},z=async()=>{console.log("User wants to go back - logging out for security");try{window.removeEventListener("beforeunload",()=>{}),await a(),t("/login",{replace:!0})}catch(J){console.error("Error during logout:",J),t("/login",{replace:!0})}},K=({isOpen:J,toggle:he,selected:we,placeholder:te,options:V,onSelect:ce,disabled:ye=!1,ariaLabel:le})=>{const Se=Array.isArray(V)?V:[];return Array.isArray(V)?V.some(Pe=>typeof Pe!="string")&&console.warn("DropdownButton: 'options' contains non-string values",V):console.warn("DropdownButton: 'options' prop is not an array",V),h.jsxs("div",{className:"relative w-full",children:[h.jsx("button",{onClick:he,disabled:ye,"aria-label":le,"aria-expanded":J,className:`w-full px-4 py-3 text-left bg-white border border-violet-300 rounded-lg shadow-sm hover:border-violet-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500 transition-colors ${ye?"bg-gray-50 text-gray-400 cursor-not-allowed":"cursor-pointer"}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:we?"text-gray-900":"text-gray-500",children:we||te}),h.jsx(Wd,{className:`w-5 h-5 transition-transform ${J?"rotate-180":""} ${ye?"text-gray-300":"text-gray-400"}`})]})}),J&&!ye&&h.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-violet-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",role:"listbox",children:h.jsx("div",{className:"py-1",children:Se.length>0?Se.map((Pe,Je)=>h.jsx("button",{onClick:()=>ce(Pe),className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-violet-50 hover:text-violet-700 focus:outline-none focus:bg-violet-50 focus:text-violet-700 transition-colors",role:"option","aria-selected":we===Pe,children:Pe},Je)):h.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No options available"})})})]})};return h.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-violet-50 min-h-screen",children:[h.jsx("style",{children:`
          /* Ensure dropdown transitions are smooth and don't affect layout */
          .dropdown-container {
            transition: all 0.2s ease-in-out;
          }
          /* Prevent layout shifts during dropdown open/close */
          .dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
          }
        `}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-violet-100 min-h-[450px] flex flex-col",children:[h.jsx("h1",{className:"text-2xl font-bold text-violet-800 mb-2 text-center",children:"Welcome! Complete Your Profile"}),h.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Please select your department information to get started"}),_&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:_}),D?h.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600",children:"Loading options..."}):h.jsxs("div",{className:"space-y-6 flex-1 dropdown-container",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(K,{isOpen:y,toggle:()=>v(!y),selected:l,placeholder:"Select Department",options:F,onSelect:Q,ariaLabel:"Select Department"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sub-Department ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(K,{isOpen:w,toggle:()=>b(!w),selected:d,placeholder:"Select Sub-Department",options:B,onSelect:ee,disabled:!l,ariaLabel:"Select Sub-Department"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Manager ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx(K,{isOpen:E,toggle:()=>C(!E),selected:p,placeholder:"Select Manager",options:L,onSelect:I,disabled:!d,ariaLabel:"Select Manager"})]})]}),l&&h.jsxs("div",{className:"mt-6 p-4 bg-violet-50 rounded-lg border border-violet-200",children:[h.jsx("h3",{className:"font-semibold text-violet-800 mb-2",children:"Current Selection:"}),h.jsxs("div",{className:"space-y-1 text-sm text-violet-700",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Department:"})," ",l]}),d&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Sub-Department:"})," ",d]}),p&&h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Manager:"})," ",p]})]})]}),h.jsxs("div",{className:"mt-8 flex justify-between",children:[h.jsx("button",{onClick:z,className:"px-6 py-3 rounded-lg font-medium bg-gray-600 text-white hover:bg-gray-700 transition-all","aria-label":"Go back to login",children:"Back to Login"}),h.jsx("button",{onClick:M,disabled:!l||!d||!p||k||D,className:`px-6 py-3 rounded-lg font-medium transition-all flex items-center space-x-2 ${l&&d&&p&&!k&&!D?"bg-violet-600 hover:bg-violet-700 text-white shadow-md hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,"aria-label":"Continue to User View",children:k?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),h.jsx("span",{children:"Saving..."})]}):h.jsx("span",{children:"Complete Setup"})})]})]})]})};function qpe(){const[t,e]=S.useState(!1),[n,r]=S.useState(null);if(S.useEffect(()=>{(async()=>{var a;try{await Rv.initialize();const l=await Rv.handleRedirectPromise();l&&(console.log("Authentication redirect handled successfully"),console.log("Token claims:",l.idTokenClaims),console.log("Roles in token:",((a=l.idTokenClaims)==null?void 0:a.roles)||"No roles found")),e(!0)}catch(l){console.error("MSAL initialization failed:",l),r(l.message)}})()},[]),!t)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center",children:n?h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md text-center",children:[h.jsx("div",{className:"text-red-600 text-xl font-semibold mb-4",children:"Authentication Error"}),h.jsx("p",{className:"text-gray-600 mb-4",children:n}),h.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:"Retry"})]}):h.jsx(ll,{message:"Initializing authentication..."})});const i=({children:o})=>h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:[h.jsx(FG,{}),h.jsx("main",{children:o})]});return h.jsx(sz,{instance:Rv,children:h.jsx(zK,{children:h.jsx(aV,{children:h.jsx(eU,{children:h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:h.jsxs(P$,{children:[h.jsx(ni,{path:"/login",element:h.jsx(sV,{})}),h.jsx(ni,{path:"/department-selector",element:h.jsx(Kpe,{})}),h.jsx(ni,{path:"/",element:h.jsx(zpe,{})}),h.jsx(ni,{element:h.jsx(Hv,{requiredRole:"user"}),children:h.jsx(ni,{path:"/tasks",element:h.jsx(i,{children:h.jsx(H2,{})})})}),h.jsx(ni,{element:h.jsx(Hv,{requiredRole:"manager"}),children:h.jsx(ni,{path:"/manager",element:h.jsx(i,{children:h.jsx(Hpe,{})})})}),h.jsxs(ni,{element:h.jsx(Hv,{requiredRole:["admin","user"]}),children:[h.jsx(ni,{path:"/admin",element:h.jsx(i,{children:h.jsx(H2,{})})}),h.jsx(ni,{path:"/admin/dependency",element:h.jsx(i,{children:h.jsx(H4,{})})})]}),h.jsx(ni,{path:"/unauthorized",element:h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md text-center",children:[h.jsx("div",{className:"text-red-600 text-2xl font-bold mb-4",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),h.jsx("button",{onClick:()=>window.history.back(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 mr-2",children:"Go Back"}),h.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Dashboard"})]})})}),h.jsx(ni,{path:"*",element:h.jsx(BG,{})})]})})})})})})}BL.createRoot(document.getElementById("root")).render(h.jsx(qpe,{}));
